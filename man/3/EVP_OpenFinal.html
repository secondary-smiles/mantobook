<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:54:55 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>EVP_OPENINIT</title>

</head>
<body>
<h1>EVP_OpenFinal</h1>



<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">EVP_OpenInit,
EVP_OpenUpdate, EVP_OpenFinal &minus; EVP envelope
decryption</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">#include
&lt;openssl/evp.h&gt; <br>
int EVP_OpenInit(EVP_CIPHER_CTX *ctx, EVP_CIPHER *type,
unsigned char *ek, <br>
int ekl, unsigned char *iv, EVP_PKEY *priv); <br>
int EVP_OpenUpdate(EVP_CIPHER_CTX *ctx, unsigned char *out,
<br>
int *outl, unsigned char *in, int inl); <br>
int EVP_OpenFinal(EVP_CIPHER_CTX *ctx, unsigned char *out,
int *outl);</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<small>EVP</small> envelope routines are a high-level
interface to envelope decryption. They decrypt a public key
encrypted symmetric key and then decrypt data using it.</p>


<p style="margin-left:11%; margin-top: 1em"><b>EVP_OpenInit()</b>
initializes a cipher context <b>ctx</b> for decryption with
cipher <b>type</b>. It decrypts the encrypted symmetric key
of length <b>ekl</b> bytes passed in the <b>ek</b> parameter
using the private key <b>priv</b>. The <small>IV</small> is
supplied in the <b>iv</b> parameter.</p>


<p style="margin-left:11%; margin-top: 1em"><b>EVP_OpenUpdate()</b>
and <b>EVP_OpenFinal()</b> have exactly the same properties
as the <b>EVP_DecryptUpdate()</b> and
<b>EVP_DecryptFinal()</b> routines, as documented on the
<b>EVP_EncryptInit</b>(3) manual page.</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">It is possible
to call <b>EVP_OpenInit()</b> twice in the same way as
<b>EVP_DecryptInit()</b>. The first call should have
<b>priv</b> set to <small>NULL</small> and (after setting
any cipher parameters) it should be called again with
<b>type</b> set to <small>NULL.</small></p>

<p style="margin-left:11%; margin-top: 1em">If the cipher
passed in the <b>type</b> parameter is a variable length
cipher then the key length will be set to the value of the
recovered key length. If the cipher is a fixed length cipher
then the recovered key length must match the fixed cipher
length.</p>

<h2>RETURN VALUES
<a name="RETURN VALUES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>EVP_OpenInit()</b>
returns 0 on error or a non zero integer (actually the
recovered secret key size) if successful.</p>


<p style="margin-left:11%; margin-top: 1em"><b>EVP_OpenUpdate()</b>
returns 1 for success or 0 for failure.</p>


<p style="margin-left:11%; margin-top: 1em"><b>EVP_OpenFinal()</b>
returns 0 if the decrypt failed or 1 for success.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>evp</b>(7),
<b>RAND_bytes</b>(3), <b>EVP_EncryptInit</b>(3),
<b>EVP_SealInit</b>(3)</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright
2000&minus;2020 The OpenSSL Project Authors. All Rights
Reserved.</p>

<p style="margin-left:11%; margin-top: 1em">Licensed under
the Apache License 2.0 (the &quot;License&quot;). You may
not use this file except in compliance with the License. You
can obtain a copy in the file <small>LICENSE</small> in the
source distribution or at
&lt;https://www.openssl.org/source/license.html&gt;.</p>
<hr>
</body>
</html>
