<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:54:29 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>CURLOPT_MAXCONNECTS</title>

</head>
<body>
<h1>CURLOPT_MAXCONNECTS</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">CURLOPT_MAXCONNECTS
&minus; maximum connection cache size</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">#include
&lt;curl/curl.h&gt;</p>

<p style="margin-left:11%; margin-top: 1em">CURLcode
curl_easy_setopt(CURL *handle, CURLOPT_MAXCONNECTS, long
amount);</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Pass a long.
The set <i>amount</i> will be the maximum number of
simultaneously open persistent connections that libcurl may
cache in the pool associated with this handle. The default
is 5, and there is not much point in changing this value
unless you are perfectly aware of how this works and changes
libcurl&rsquo;s behavior. This concerns connections using
any of the protocols that support persistent
connections.</p>

<p style="margin-left:11%; margin-top: 1em">When reaching
the maximum limit, curl closes the oldest one in the cache
to prevent increasing the number of open connections.</p>

<p style="margin-left:11%; margin-top: 1em">If you already
have performed transfers with this curl handle, setting a
smaller <i>CURLOPT_MAXCONNECTS(3)</i> than before may cause
open connections to get closed unnecessarily.</p>

<p style="margin-left:11%; margin-top: 1em">If you add this
easy handle to a multi handle, this setting is not
acknowledged, and you must instead use
<i>curl_multi_setopt(3)</i> and the
<i>CURLMOPT_MAXCONNECTS(3)</i> option.</p>

<h2>DEFAULT
<a name="DEFAULT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">5</p>

<h2>PROTOCOLS
<a name="PROTOCOLS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Most</p>

<h2>EXAMPLE
<a name="EXAMPLE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">CURL *curl =
curl_easy_init(); <br>
if(curl) { <br>
CURLcode ret; <br>
curl_easy_setopt(curl, CURLOPT_URL,
&quot;https://example.com/&quot;); <br>
/* limit the connection cache for this handle to no more
than 3 */ <br>
curl_easy_setopt(curl, CURLOPT_MAXCONNECTS, 3L); <br>
ret = curl_easy_perform(curl); <br>
}</p>

<h2>AVAILABILITY
<a name="AVAILABILITY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Always</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Returns
CURLE_OK</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>CURLMOPT_MAXCONNECTS</b>(3),
<b>CURLOPT_MAXREDIRS</b>(3),</p>
<hr>
</body>
</html>
