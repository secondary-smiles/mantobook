<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:55:06 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>gnutls_certificate_set_ocsp_status_request_file</title>

</head>
<body>
<h1>gnutls_certificate_set_ocsp_status_request_file</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">gnutls_certificate_set_ocsp_status_request_file
&minus; API function</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;gnutls/gnutls.h&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
gnutls_certificate_set_ocsp_status_request_file(gnutls_certificate_credentials_t</b>
<i>sc</i><b>, const char *</b> <i>response_file</i><b>,
unsigned</b> <i>idx</i><b>);</b></p>

<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">gnutls_certificate_credentials_t
sc</p>

<p style="margin-left:29%;">is a credentials structure.</p>

<p style="margin-left:11%;">const char * response_file</p>

<p style="margin-left:29%;">a filename of the OCSP
response</p>

<p style="margin-left:11%;">unsigned idx</p>

<p style="margin-left:29%;">is a certificate index as
returned by <b>gnutls_certificate_set_key()</b> and
friends</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This function
loads the provided OCSP response. It will be sent to the
client if requests an OCSP certificate status for the
certificate chain specified by <i>idx</i> .</p>

<h2>NOTE
<a name="NOTE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">the ability to
set multiple OCSP responses per credential structure via the
index <i>idx</i> was added in version 3.5.6. To keep
backwards compatibility, it requires using
<b>gnutls_certificate_set_flags()</b> with the
<b>GNUTLS_CERTIFICATE_API_V2</b> flag to make the set
certificate functions return an index usable by this
function.</p>

<p style="margin-left:11%; margin-top: 1em">This function
can be called multiple times since GnuTLS 3.6.3 when
multiple responses which apply to the chain are available.
If the response provided does not match any certificates
present in the chain, the code
<b>GNUTLS_E_OCSP_MISMATCH_WITH_CERTS</b> is returned. To
revert to the previous behavior set the flag
<b>GNUTLS_CERTIFICATE_SKIP_OCSP_RESPONSE_CHECK</b> in the
certificate credentials structure. In that case, only the
end&minus;certificate&rsquo;s OCSP response can be set. If
the response is already expired at the time of loading the
code <b>GNUTLS_E_EXPIRED</b> is returned.</p>

<p style="margin-left:11%; margin-top: 1em">To revert to
the previous behavior of this function which does not return
any errors, set the flag
<b>GNUTLS_CERTIFICATE_SKIP_OCSP_RESPONSE_CHECK</b></p>

<h2>RETURNS
<a name="RETURNS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">On success,
<b>GNUTLS_E_SUCCESS</b> (0) is returned, otherwise a
negative error code is returned.</p>

<h2>SINCE
<a name="SINCE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">3.1.3</p>

<h2>REPORTING BUGS
<a name="REPORTING BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Report bugs to
&lt;bugs@gnutls.org&gt;. <br>
Home page: https://www.gnutls.org</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright
&copy; 2001- Free Software Foundation, Inc., and others.
<br>
Copying and distribution of this file, with or without
modification, are permitted in any medium without royalty
provided the copyright notice and this notice are
preserved.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The full
documentation for <b>gnutls</b> is maintained as a Texinfo
manual. If the /usr/share/doc/gnutls/ directory does not
contain the HTML form visit <b><br>
 https://www.gnutls.org/manual/</b></p>
<hr>
</body>
</html>
