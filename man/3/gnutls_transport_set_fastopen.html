<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:55:11 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>gnutls_transport_set_fastopen</title>

</head>
<body>
<h1>gnutls_transport_set_fastopen</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">gnutls_transport_set_fastopen
&minus; API function</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;gnutls/socket.h&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>void
gnutls_transport_set_fastopen(gnutls_session_t</b>
<i>session</i><b>, int</b> <i>fd</i><b>, struct sockaddr
*</b> <i>connect_addr</i><b>, socklen_t</b>
<i>connect_addrlen</i><b>, unsigned int</b>
<i>flags</i><b>);</b></p>

<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">gnutls_session_t
session</p>

<p style="margin-left:29%;">is a <b>gnutls_session_t</b>
type.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p>int fd</p></td>
<td width="9%"></td>
<td width="53%">


<p>is the session&rsquo;s socket descriptor</p></td>
<td width="18%">
</td></tr>
</table>

<p style="margin-left:11%;">struct sockaddr *
connect_addr</p>

<p style="margin-left:29%;">is the address we want to
connect to</p>

<p style="margin-left:11%;">socklen_t connect_addrlen</p>

<p style="margin-left:29%;">is the length of
<i>connect_addr</i></p>

<p style="margin-left:11%;">unsigned int flags</p>

<p style="margin-left:29%;">must be zero</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Enables TCP
Fast Open (TFO) for the specified TLS client session. That
means that TCP connection establishment and the transmission
of the first TLS client hello packet are combined. The
peer&rsquo;s address must be specified in
<i>connect_addr</i> and <i>connect_addrlen</i> , and the
socket specified by <i>fd</i> should not be connected.</p>

<p style="margin-left:11%; margin-top: 1em">TFO only works
for TCP sockets of type AF_INET and AF_INET6. If the OS
doesn&rsquo;t support TCP fast open this function will
result to gnutls using <b>connect()</b> transparently during
the first write.</p>

<h2>NOTE
<a name="NOTE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This function
overrides all the transport callback functions. If this is
undesirable, TCP Fast Open must be implemented on the user
callback functions without calling this function. When using
this function, transport callbacks must not be set, and
<b>gnutls_transport_set_ptr()</b> or
<b>gnutls_transport_set_int()</b> must not be called.</p>

<p style="margin-left:11%; margin-top: 1em">On GNU/Linux
TFO has to be enabled at the system layer, that is in
/proc/sys/net/ipv4/tcp_fastopen, bit 0 has to be set.</p>

<p style="margin-left:11%; margin-top: 1em">This function
has no effect on server sessions.</p>

<h2>SINCE
<a name="SINCE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">3.5.3</p>

<h2>REPORTING BUGS
<a name="REPORTING BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Report bugs to
&lt;bugs@gnutls.org&gt;. <br>
Home page: https://www.gnutls.org</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright
&copy; 2001- Free Software Foundation, Inc., and others.
<br>
Copying and distribution of this file, with or without
modification, are permitted in any medium without royalty
provided the copyright notice and this notice are
preserved.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The full
documentation for <b>gnutls</b> is maintained as a Texinfo
manual. If the /usr/share/doc/gnutls/ directory does not
contain the HTML form visit <b><br>
 https://www.gnutls.org/manual/</b></p>
<hr>
</body>
</html>
