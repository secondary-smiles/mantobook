<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:55:31 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>List::MoreUtils</title>

</head>
<body>
<h1>List::MoreUtils</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">List::MoreUtils
&minus; Provide the stuff missing in List::Util</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"># import
specific functions <br>
use List::MoreUtils qw(any uniq); <br>
if ( any { /foo/ } uniq @has_duplicates ) { <br>
# do stuff <br>
} <br>
# import everything <br>
use List::MoreUtils ':all'; <br>
# import by API <br>
# has &quot;original&quot; any/all/none/notall behavior <br>
use List::MoreUtils ':like_0.22'; <br>
# 0.22 + bsearch <br>
use List::MoreUtils ':like_0.24'; <br>
# has &quot;simplified&quot; any/all/none/notall behavior +
(n)sort_by <br>
use List::MoreUtils ':like_0.33';</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>List::MoreUtils</b>
provides some trivial but commonly needed functionality on
lists which is not going to go into List::Util.</p>

<p style="margin-left:11%; margin-top: 1em">All of the
below functions are implementable in only a couple of lines
of Perl code. Using the functions from this module however
should give slightly better performance as everything is
implemented in C. The pure-Perl implementation of these
functions only serves as a fallback in case the C portions
of this module couldn&rsquo;t be compiled on this
machine.</p>

<h2>EXPORTS
<a name="EXPORTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Default
behavior</b> <br>
Nothing by default. To import all of this module&rsquo;s
symbols use the &quot;:all&quot; tag. Otherwise functions
can be imported by name as usual:</p>

<p style="margin-left:11%; margin-top: 1em">use
List::MoreUtils ':all'; <br>
use List::MoreUtils qw{ any firstidx };</p>

<p style="margin-left:11%; margin-top: 1em">Because
historical changes to the <small>API</small> might make
upgrading List::MoreUtils difficult for some projects, the
legacy <small>API</small> is available via special import
tags.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Like version
0.22 (last release with original <small>API</small> )</b>
<br>
This <small>API</small> was available from 2006 to 2009,
returning undef for empty lists on
&quot;all&quot;/&quot;any&quot;/&quot;none&quot;/&quot;notall&quot;:</p>

<p style="margin-left:11%; margin-top: 1em">use
List::MoreUtils ':like_0.22';</p>

<p style="margin-left:11%; margin-top: 1em">This import tag
will import all functions available as of version 0.22.
However, it will import &quot;any_u&quot; as
&quot;any&quot;, &quot;all_u&quot; as &quot;all&quot;,
&quot;none_u&quot; as &quot;none&quot;, and
&quot;notall_u&quot; as &quot;notall&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Like version
0.24 (first incompatible change)</b> <br>
This <small>API</small> was available from 2010 to 2011. It
changed the return value of &quot;none&quot; and added the
&quot;bsearch&quot; function.</p>

<p style="margin-left:11%; margin-top: 1em">use
List::MoreUtils ':like_0.24';</p>

<p style="margin-left:11%; margin-top: 1em">This import tag
will import all functions available as of version 0.24.
However it will import &quot;any_u&quot; as &quot;any&quot;,
&quot;all_u&quot; as &quot;all&quot;, and
&quot;notall_u&quot; as &quot;notall&quot;. It will import
&quot;none&quot; as described in the documentation below
(true for empty list).</p>

<p style="margin-left:11%; margin-top: 1em"><b>Like version
0.33 (second incompatible change)</b> <br>
This <small>API</small> was available from 2011 to 2014. It
is widely used in several <small>CPAN</small> modules and
thus it&rsquo;s closest to the current <small>API.</small>
It changed the return values of &quot;any&quot;,
&quot;all&quot;, and &quot;notall&quot;. It added the
&quot;sort_by&quot; and &quot;nsort_by&quot; functions and
the &quot;distinct&quot; alias for &quot;uniq&quot;. It
omitted &quot;bsearch&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">use
List::MoreUtils ':like_0.33';</p>

<p style="margin-left:11%; margin-top: 1em">This import tag
will import all functions available as of version 0.33.
Note: it will not import &quot;bsearch&quot; for consistency
with the 0.33 <small>API.</small></p>

<h2>FUNCTIONS
<a name="FUNCTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>Junctions</b>
<i><br>
Treatment of an empty list</i></p>

<p style="margin-left:11%; margin-top: 1em">There are two
schools of thought for how to evaluate a junction on an
empty list:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="52%">


<p>Reduction to an identity (boolean)</p></td>
<td width="31%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="52%">


<p>Result is undefined (three-valued)</p></td>
<td width="31%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">In the first
case, the result of the junction applied to the empty list
is determined by a mathematical reduction to an identity
depending on whether the underlying comparison is
&quot;or&quot; or &quot;and&quot;. Conceptually:</p>

<p style="margin-left:11%; margin-top: 1em">&quot;any are
true&quot; &quot;all are true&quot; <br>

&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;
&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;&minus;
<br>
2 elements: A || B || 0 A &amp;&amp; B &amp;&amp; 1 <br>
1 element: A || 0 A &amp;&amp; 1 <br>
0 elements: 0 1</p>

<p style="margin-left:11%; margin-top: 1em">In the second
case, three-value logic is desired, in which a junction
applied to an empty list returns &quot;undef&quot; rather
than true or false</p>

<p style="margin-left:11%; margin-top: 1em">Junctions with
a &quot;_u&quot; suffix implement three-valued logic. Those
without are boolean.</p>

<p style="margin-left:11%; margin-top: 1em"><i>all
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em"><i>all_u
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Returns a true
value if all items in <small>LIST</small> meet the criterion
given through <small>BLOCK.</small> Sets $_ for each item in
<small>LIST</small> in turn:</p>

<p style="margin-left:11%; margin-top: 1em">print &quot;All
values are non&minus;negative&quot; <br>
if all { $_ &gt;= 0 } ($x, $y, $z);</p>

<p style="margin-left:11%; margin-top: 1em">For an empty
<small>LIST,</small> &quot;all&quot; returns true (i.e. no
values failed the condition) and &quot;all_u&quot; returns
&quot;undef&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">Thus,
&quot;all_u(@list)&quot; is equivalent to &quot;@list ?
all(@list) : undef&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Note</b>:
because Perl treats &quot;undef&quot; as false, you must
check the return value of &quot;all_u&quot; with
&quot;defined&quot; or you will get the opposite result of
what you expect.</p>

<p style="margin-left:11%; margin-top: 1em"><i>any
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em"><i>any_u
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Returns a true
value if any item in <small>LIST</small> meets the criterion
given through <small>BLOCK.</small> Sets $_ for each item in
<small>LIST</small> in turn:</p>

<p style="margin-left:11%; margin-top: 1em">print &quot;At
least one non&minus;negative value&quot; <br>
if any { $_ &gt;= 0 } ($x, $y, $z);</p>

<p style="margin-left:11%; margin-top: 1em">For an empty
<small>LIST,</small> &quot;any&quot; returns false and
&quot;any_u&quot; returns &quot;undef&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">Thus,
&quot;any_u(@list)&quot; is equivalent to &quot;@list ?
any(@list) : undef&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><i>none
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em"><i>none_u
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Logically the
negation of &quot;any&quot;. Returns a true value if no item
in <small>LIST</small> meets the criterion given through
<small>BLOCK.</small> Sets $_ for each item in
<small>LIST</small> in turn:</p>

<p style="margin-left:11%; margin-top: 1em">print &quot;No
non&minus;negative values&quot; <br>
if none { $_ &gt;= 0 } ($x, $y, $z);</p>

<p style="margin-left:11%; margin-top: 1em">For an empty
<small>LIST,</small> &quot;none&quot; returns true (i.e. no
values failed the condition) and &quot;none_u&quot; returns
&quot;undef&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">Thus,
&quot;none_u(@list)&quot; is equivalent to &quot;@list ?
none(@list) : undef&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Note</b>:
because Perl treats &quot;undef&quot; as false, you must
check the return value of &quot;none_u&quot; with
&quot;defined&quot; or you will get the opposite result of
what you expect.</p>

<p style="margin-left:11%; margin-top: 1em"><i>notall
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em"><i>notall_u
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Logically the
negation of &quot;all&quot;. Returns a true value if not all
items in <small>LIST</small> meet the criterion given
through <small>BLOCK.</small> Sets $_ for each item in
<small>LIST</small> in turn:</p>

<p style="margin-left:11%; margin-top: 1em">print &quot;Not
all values are non&minus;negative&quot; <br>
if notall { $_ &gt;= 0 } ($x, $y, $z);</p>

<p style="margin-left:11%; margin-top: 1em">For an empty
<small>LIST,</small> &quot;notall&quot; returns false and
&quot;notall_u&quot; returns &quot;undef&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">Thus,
&quot;notall_u(@list)&quot; is equivalent to &quot;@list ?
notall(@list) : undef&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><i>one
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em"><i>one_u
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Returns a true
value if precisely one item in <small>LIST</small> meets the
criterion given through <small>BLOCK.</small> Sets $_ for
each item in <small>LIST</small> in turn:</p>

<p style="margin-left:11%; margin-top: 1em">print
&quot;Precisely one value defined&quot; <br>
if one { defined($_) } @list;</p>

<p style="margin-left:11%; margin-top: 1em">Returns false
otherwise.</p>

<p style="margin-left:11%; margin-top: 1em">For an empty
<small>LIST,</small> &quot;one&quot; returns false and
&quot;one_u&quot; returns &quot;undef&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">The expression
&quot;one BLOCK LIST&quot; is almost equivalent to &quot;1
== true BLOCK LIST&quot;, except for short-cutting.
Evaluation of <small>BLOCK</small> will immediately stop at
the second true value.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Transformation</b>
<i><br>
apply <small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Applies
<small>BLOCK</small> to each item in <small>LIST</small> and
returns a list of the values after <small>BLOCK</small> has
been applied. In scalar context, the last element is
returned. This function is similar to &quot;map&quot; but
will not modify the elements of the input list:</p>

<p style="margin-left:11%; margin-top: 1em">my @list = (1
.. 4); <br>
my @mult = apply { $_ *= 2 } @list; <br>
print &quot;\@list = @list\n&quot;; <br>
print &quot;\@mult = @mult\n&quot;; <br>
__END__ <br>
@list = 1 2 3 4 <br>
@mult = 2 4 6 8</p>

<p style="margin-left:11%; margin-top: 1em">Think of it as
syntactic sugar for</p>

<p style="margin-left:11%; margin-top: 1em">for (my @mult =
@list) { $_ *= 2 }</p>


<p style="margin-left:11%; margin-top: 1em"><i>insert_after
<small>BLOCK VALUE LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Inserts
<small>VALUE</small> after the first item in
<small>LIST</small> for which the criterion in
<small>BLOCK</small> is true. Sets $_ for each item in
<small>LIST</small> in turn.</p>

<p style="margin-left:11%; margin-top: 1em">my @list =
qw/This is a list/; <br>
insert_after { $_ eq &quot;a&quot; } &quot;longer&quot;
=&gt; @list; <br>
print &quot;@list&quot;; <br>
__END__ <br>
This is a longer list</p>


<p style="margin-left:11%; margin-top: 1em"><i>insert_after_string
<small>STRING VALUE LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Inserts
<small>VALUE</small> after the first item in
<small>LIST</small> which is equal to
<small>STRING.</small></p>

<p style="margin-left:11%; margin-top: 1em">my @list =
qw/This is a list/; <br>
insert_after_string &quot;a&quot;, &quot;longer&quot; =&gt;
@list; <br>
print &quot;@list&quot;; <br>
__END__ <br>
This is a longer list</p>

<p style="margin-left:11%; margin-top: 1em"><i>pairwise
<small>BLOCK ARRAY1 ARRAY2</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Evaluates
<small>BLOCK</small> for each pair of elements in
<small>ARRAY1</small> and <small>ARRAY2</small> and returns
a new list consisting of <small>BLOCK</small> &rsquo;s
return values. The two elements are set to $a and $b. Note
that those two are aliases to the original value so changing
them will modify the input arrays.</p>

<p style="margin-left:11%; margin-top: 1em">@a = (1 .. 5);
<br>
@b = (11 .. 15); <br>
@x = pairwise { $a + $b } @a, @b; # returns 12, 14, 16, 18,
20 <br>
# mesh with pairwise <br>
@a = qw/a b c/; <br>
@b = qw/1 2 3/; <br>
@x = pairwise { ($a, $b) } @a, @b; # returns a, 1, b, 2, c,
3</p>

<p style="margin-left:11%; margin-top: 1em"><i>mesh
<small>ARRAY1 ARRAY2</small> [ <small>ARRAY3 ...</small>
]</i></p>

<p style="margin-left:11%; margin-top: 1em"><i>zip
<small>ARRAY1 ARRAY2</small> [ <small>ARRAY3 ...</small>
]</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns a list
consisting of the first elements of each array, then the
second, then the third, etc, until all arrays are
exhausted.</p>

<p style="margin-left:11%; margin-top: 1em">Examples:</p>

<p style="margin-left:11%; margin-top: 1em">@x = qw/a b c
d/; <br>
@y = qw/1 2 3 4/; <br>
@z = mesh @x, @y; # returns a, 1, b, 2, c, 3, d, 4 <br>
@a = ('x'); <br>
@b = ('1', '2'); <br>
@c = qw/zip zap zot/; <br>
@d = mesh @a, @b, @c; # x, 1, zip, undef, 2, zap, undef,
undef, zot</p>


<p style="margin-left:11%; margin-top: 1em">&quot;zip&quot;
is an alias for &quot;mesh&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><i>zip6</i></p>


<p style="margin-left:11%; margin-top: 1em"><i>zip_unflatten</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns a list
of arrays consisting of the first elements of each array,
then the second, then the third, etc, until all arrays are
exhausted.</p>

<p style="margin-left:11%; margin-top: 1em">@x = qw/a b c
d/; <br>
@y = qw/1 2 3 4/; <br>
@z = zip6 @x, @y; # returns [a, 1], [b, 2], [c, 3], [d, 4]
<br>
@a = ('x'); <br>
@b = ('1', '2'); <br>
@c = qw/zip zap zot/; <br>
@d = zip6 @a, @b, @c; # [x, 1, zip], [undef, 2, zap],
[undef, undef, zot]</p>


<p style="margin-left:11%; margin-top: 1em">&quot;zip_unflatten&quot;
is an alias for &quot;zip6&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><i>listcmp
<small>ARRAY0 ARRAY1</small> [ <small>ARRAY2 ...</small>
]</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns an
associative list of elements and every <i>id</i> of the list
it was found in. Allows easy implementation of @a &amp; @b,
@a | @b, @a ^ @b and so on. Undefined entries in any given
array are skipped.</p>

<p style="margin-left:11%; margin-top: 1em">my @a = qw(one
two three four five six seven eight nine ten eleven twelve
thirteen); <br>
my @b = qw(two three five seven eleven thirteen seventeen);
<br>
my @c = qw(one one two three five eight thirteen twentyone);
<br>
my %cmp = listcmp @a, @b, @c; # returns (one =&gt; [0, 2],
two =&gt; [0, 1, 2], three =&gt; [0, 1, 2], four =&gt; [0],
...) <br>
my @seq = (1, 2, 3); <br>
my @prim = (undef, 2, 3, 5); <br>
my @fib = (1, 1, 2); <br>
my %cmp = listcmp @seq, @prim, @fib; <br>
# returns ( 1 =&gt; [0, 2], 2 =&gt; [0, 1, 2], 3 =&gt; [0,
1], 5 =&gt; [1] )</p>

<p style="margin-left:11%; margin-top: 1em"><i>arrayify
LIST[,LIST[,LIST...]]</i></p>

<p style="margin-left:11%; margin-top: 1em">Returns a list
consisting of each element of given arrays. Recursive arrays
are flattened, too.</p>

<p style="margin-left:11%; margin-top: 1em">@a = (1, [[2],
3], 4, [5], 6, [7], 8, 9); <br>
@l = arrayify @a; # returns 1, 2, 3, 4, 5, 6, 7, 8, 9</p>

<p style="margin-left:11%; margin-top: 1em"><i>uniq
<small>LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em"><i>distinct
<small>LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Returns a new
list by stripping duplicate values in <small>LIST</small> by
comparing the values as hash keys, except that undef is
considered separate from &rsquo;&rsquo;. The order of
elements in the returned list is the same as in
<small>LIST.</small> In scalar context, returns the number
of unique elements in <small>LIST.</small></p>

<p style="margin-left:11%; margin-top: 1em">my @x = uniq 1,
1, 2, 2, 3, 5, 3, 4; # returns 1 2 3 5 4 <br>
my $x = uniq 1, 1, 2, 2, 3, 5, 3, 4; # returns 5 <br>
# returns &quot;Mike&quot;, &quot;Michael&quot;,
&quot;Richard&quot;, &quot;Rick&quot; <br>
my @n = distinct &quot;Mike&quot;, &quot;Michael&quot;,
&quot;Richard&quot;, &quot;Rick&quot;, &quot;Michael&quot;,
&quot;Rick&quot; <br>
# returns &quot;A8&quot;, &quot;&quot;, undef,
&quot;A5&quot;, &quot;S1&quot; <br>
my @s = distinct &quot;A8&quot;, &quot;&quot;, undef,
&quot;A5&quot;, &quot;S1&quot;, &quot;A5&quot;,
&quot;A8&quot; <br>
# returns &quot;Giulia&quot;, &quot;Giulietta&quot;, undef,
&quot;&quot;, 156, &quot;GTA&quot;, &quot;GTV&quot;, 159,
&quot;Brera&quot;, &quot;4C&quot; <br>
my @w = uniq &quot;Giulia&quot;, &quot;Giulietta&quot;,
undef, &quot;&quot;, 156, &quot;GTA&quot;, &quot;GTV&quot;,
159, &quot;Brera&quot;, &quot;4C&quot;,
&quot;Giulietta&quot;, &quot;Giulia&quot;</p>


<p style="margin-left:11%; margin-top: 1em">&quot;distinct&quot;
is an alias for &quot;uniq&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><b>RT#49800</b>
can be used to give feedback about this behavior.</p>

<p style="margin-left:11%; margin-top: 1em"><i>singleton
<small>LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Returns a new
list by stripping values in <small>LIST</small> occurring
more than once by comparing the values as hash keys, except
that undef is considered separate from &rsquo;&rsquo;. The
order of elements in the returned list is the same as in
<small>LIST.</small> In scalar context, returns the number
of elements occurring only once in <small>LIST.</small></p>

<p style="margin-left:11%; margin-top: 1em">my @x =
singleton 1,1,2,2,3,4,5 # returns 3 4 5</p>

<p style="margin-left:11%; margin-top: 1em"><i>duplicates
<small>LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Returns a new
list by stripping values in <small>LIST</small> occurring
less than twice by comparing the values as hash keys, except
that undef is considered separate from &rsquo;&rsquo;. The
order of elements in the returned list is the same as in
<small>LIST.</small> In scalar context, returns the number
of elements occurring more than once in
<small>LIST.</small></p>

<p style="margin-left:11%; margin-top: 1em">my @y =
duplicates 1,1,2,4,7,2,3,4,6,9; #returns 1,2,4</p>

<p style="margin-left:11%; margin-top: 1em"><i>frequency
<small>LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Returns an
associative list of distinct values and the corresponding
frequency.</p>

<p style="margin-left:11%; margin-top: 1em">my @f =
frequency values %radio_nrw; # returns ( <br>
# 'Deutschlandfunk (DLF)' =&gt; 9, 'WDR 3' =&gt; 10, <br>
# 'WDR 4' =&gt; 11, 'WDR 5' =&gt; 14, 'WDR Eins Live' =&gt;
14, <br>
# 'Deutschlandradio Kultur' =&gt; 8,...)</p>

<p style="margin-left:11%; margin-top: 1em"><i>occurrences
<small>LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Returns a new
list of frequencies and the corresponding values from
<small>LIST.</small></p>

<p style="margin-left:11%; margin-top: 1em">my @o =
occurrences ((1) x 3, (2) x 4, (3) x 2, (4) x 7, (5) x 2,
(6) x 4); <br>
# @o = (undef, undef, [3, 5], [1], [2, 6], undef, undef,
[4]);</p>

<p style="margin-left:11%; margin-top: 1em"><i>mode
<small>LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
modal value of <small>LIST.</small> In scalar context, just
the modal value is returned, in list context all probes
occurring <i>modal</i> times are returned, too.</p>

<p style="margin-left:11%; margin-top: 1em">my @m = mode
((1) x 3, (2) x 4, (3) x 2, (4) x 7, (5) x 2, (6) x 4, (7) x
3, (8) x 7); <br>
# @m = (7, 4, 8) &minus; bimodal LIST</p>

<p style="margin-left:11%; margin-top: 1em"><i>slide
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">The function
&quot;slide&quot; operates on pairs of list elements
like:</p>

<p style="margin-left:11%; margin-top: 1em">my @s = slide {
&quot;$a and $b&quot; } (0..3); <br>
# @s = (&quot;0 and 1&quot;, &quot;1 and 2&quot;, &quot;2
and 3&quot;)</p>

<p style="margin-left:11%; margin-top: 1em">The idea behind
this function is a kind of magnifying glass that is moved
along a list and calls &quot;BLOCK&quot; every time the next
list item is reached.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Partitioning</b>
<i><br>
after <small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Returns a list
of the values of <small>LIST</small> after (and not
including) the point where <small>BLOCK</small> returns a
true value. Sets $_ for each element in <small>LIST</small>
in turn.</p>

<p style="margin-left:11%; margin-top: 1em">@x = after { $_
% 5 == 0 } (1..9); # returns 6, 7, 8, 9</p>

<p style="margin-left:11%; margin-top: 1em"><i>after_incl
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Same as
&quot;after&quot; but also includes the element for which
<small>BLOCK</small> is true.</p>

<p style="margin-left:11%; margin-top: 1em"><i>before
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Returns a list
of values of <small>LIST</small> up to (and not including)
the point where <small>BLOCK</small> returns a true value.
Sets $_ for each element in <small>LIST</small> in turn.</p>

<p style="margin-left:11%; margin-top: 1em"><i>before_incl
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Same as
&quot;before&quot; but also includes the element for which
<small>BLOCK</small> is true.</p>

<p style="margin-left:11%; margin-top: 1em"><i>part
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Partitions
<small>LIST</small> based on the return value of
<small>BLOCK</small> which denotes into which partition the
current value is put.</p>

<p style="margin-left:11%; margin-top: 1em">Returns a list
of the partitions thusly created. Each partition created is
a reference to an array.</p>

<p style="margin-left:11%; margin-top: 1em">my $i = 0; <br>
my @part = part { $i++ % 2 } 1 .. 8; # returns [1, 3, 5, 7],
[2, 4, 6, 8]</p>

<p style="margin-left:11%; margin-top: 1em">You can have a
sparse list of partitions as well where non-set partitions
will be undef:</p>

<p style="margin-left:11%; margin-top: 1em">my @part = part
{ 2 } 1 .. 10; # returns undef, undef, [ 1 .. 10 ]</p>

<p style="margin-left:11%; margin-top: 1em">Be careful with
negative values, though:</p>

<p style="margin-left:11%; margin-top: 1em">my @part = part
{ &minus;1 } 1 .. 10; <br>
__END__ <br>
Modification of non&minus;creatable array value attempted,
subscript &minus;1 ...</p>

<p style="margin-left:11%; margin-top: 1em">Negative values
are only ok when they refer to a partition previously
created:</p>

<p style="margin-left:11%; margin-top: 1em">my @idx = ( 0,
1, &minus;1 ); <br>
my $i = 0; <br>
my @part = part { $idx[$i++ % 3] } 1 .. 8; # [1, 4, 7], [2,
3, 5, 6, 8]</p>

<p style="margin-left:11%; margin-top: 1em"><i>samples
<small>COUNT LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Returns a new
list containing <small>COUNT</small> random samples from
<small>LIST.</small> Is similar to &quot;shuffle&quot; in
List::Util, but stops after <small>COUNT.</small></p>

<p style="margin-left:11%; margin-top: 1em">@r = samples
10, 1..10; # same as shuffle <br>
@r2 = samples 5, 1..10; # gives 5 values from 1..10;</p>


<p style="margin-left:11%; margin-top: 1em"><b>Iteration</b>
<i><br>
each_array <small>ARRAY1 ARRAY2 ...</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Creates an
array iterator to return the elements of the list of arrays
<small>ARRAY1, ARRAY2</small> throughout ARRAYn in turn.
That is, the first time it is called, it returns the first
element of each array. The next time, it returns the second
elements. And so on, until all elements are exhausted.</p>

<p style="margin-left:11%; margin-top: 1em">This is useful
for looping over more than one array at once:</p>

<p style="margin-left:11%; margin-top: 1em">my $ea =
each_array(@a, @b, @c); <br>
while ( my ($a, $b, $c) = $ea&minus;&gt;() ) { .... }</p>

<p style="margin-left:11%; margin-top: 1em">The iterator
returns the empty list when it reached the end of all
arrays.</p>

<p style="margin-left:11%; margin-top: 1em">If the iterator
is passed an argument of &rsquo;&quot;index&quot;&rsquo;,
then it returns the index of the last fetched set of values,
as a scalar.</p>


<p style="margin-left:11%; margin-top: 1em"><i>each_arrayref
<small>LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Like
each_array, but the arguments are references to arrays, not
the plain arrays.</p>

<p style="margin-left:11%; margin-top: 1em"><i>natatime
<small>EXPR, LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Creates an
array iterator, for looping over an array in chunks of $n
items at a time. (n at a time, get it?). An example is
probably a better explanation than I could give in
words.</p>

<p style="margin-left:11%; margin-top: 1em">Example:</p>

<p style="margin-left:11%; margin-top: 1em">my @x = ('a' ..
'g'); <br>
my $it = natatime 3, @x; <br>
while (my @vals = $it&minus;&gt;()) <br>
{ <br>
print &quot;@vals\n&quot;; <br>
}</p>

<p style="margin-left:11%; margin-top: 1em">This prints</p>

<p style="margin-left:11%; margin-top: 1em">a b c <br>
d e f <br>
g</p>


<p style="margin-left:11%; margin-top: 1em"><i>slideatatime
<small>STEP, WINDOW, LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Creates an
array iterator, for looping over an array in chunks of
&quot;$windows&minus;size&quot; items at a time.</p>

<p style="margin-left:11%; margin-top: 1em">The idea behind
this function is a kind of magnifying glass (finer
controllable compared to &quot;slide&quot;) that is moved
along a list.</p>

<p style="margin-left:11%; margin-top: 1em">Example:</p>

<p style="margin-left:11%; margin-top: 1em">my @x = ('a' ..
'g'); <br>
my $it = slideatatime 2, 3, @x; <br>
while (my @vals = $it&minus;&gt;()) <br>
{ <br>
print &quot;@vals\n&quot;; <br>
}</p>

<p style="margin-left:11%; margin-top: 1em">This prints</p>

<p style="margin-left:11%; margin-top: 1em">a b c <br>
c d e <br>
e f g <br>
g</p>


<p style="margin-left:11%; margin-top: 1em"><b>Searching</b>
<i><br>
firstval <small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em"><i>first_value
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
first element in <small>LIST</small> for which
<small>BLOCK</small> evaluates to true. Each element of
<small>LIST</small> is set to $_ in turn. Returns
&quot;undef&quot; if no such element has been found.</p>


<p style="margin-left:11%; margin-top: 1em">&quot;first_value&quot;
is an alias for &quot;firstval&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><i>onlyval
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em"><i>only_value
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
only element in <small>LIST</small> for which
<small>BLOCK</small> evaluates to true. Sets $_ for each
item in <small>LIST</small> in turn. Returns
&quot;undef&quot; if no such element has been found.</p>


<p style="margin-left:11%; margin-top: 1em">&quot;only_value&quot;
is an alias for &quot;onlyval&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><i>lastval
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em"><i>last_value
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
last value in <small>LIST</small> for which
<small>BLOCK</small> evaluates to true. Each element of
<small>LIST</small> is set to $_ in turn. Returns
&quot;undef&quot; if no such element has been found.</p>


<p style="margin-left:11%; margin-top: 1em">&quot;last_value&quot;
is an alias for &quot;lastval&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><i>firstres
<small>BLOCK LIST</small></i></p>


<p style="margin-left:11%; margin-top: 1em"><i>first_result
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
result of <small>BLOCK</small> for the first element in
<small>LIST</small> for which <small>BLOCK</small> evaluates
to true. Each element of <small>LIST</small> is set to $_ in
turn. Returns &quot;undef&quot; if no such element has been
found.</p>


<p style="margin-left:11%; margin-top: 1em">&quot;first_result&quot;
is an alias for &quot;firstres&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><i>onlyres
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em"><i>only_result
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
result of <small>BLOCK</small> for the first element in
<small>LIST</small> for which <small>BLOCK</small> evaluates
to true. Sets $_ for each item in <small>LIST</small> in
turn. Returns &quot;undef&quot; if no such element has been
found.</p>


<p style="margin-left:11%; margin-top: 1em">&quot;only_result&quot;
is an alias for &quot;onlyres&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><i>lastres
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em"><i>last_result
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
result of <small>BLOCK</small> for the last element in
<small>LIST</small> for which <small>BLOCK</small> evaluates
to true. Each element of <small>LIST</small> is set to $_ in
turn. Returns &quot;undef&quot; if no such element has been
found.</p>


<p style="margin-left:11%; margin-top: 1em">&quot;last_result&quot;
is an alias for &quot;lastres&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><i>indexes
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Evaluates
<small>BLOCK</small> for each element in <small>LIST</small>
(assigned to $_) and returns a list of the indices of those
elements for which <small>BLOCK</small> returned a true
value. This is just like &quot;grep&quot; only that it
returns indices instead of values:</p>

<p style="margin-left:11%; margin-top: 1em">@x = indexes {
$_ % 2 == 0 } (1..10); # returns 1, 3, 5, 7, 9</p>

<p style="margin-left:11%; margin-top: 1em"><i>firstidx
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em"><i>first_index
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
index of the first element in <small>LIST</small> for which
the criterion in <small>BLOCK</small> is true. Sets $_ for
each item in <small>LIST</small> in turn:</p>

<p style="margin-left:11%; margin-top: 1em">my @list = (1,
4, 3, 2, 4, 6); <br>
printf &quot;item with index %i in list is 4&quot;, firstidx
{ $_ == 4 } @list; <br>
__END__ <br>
item with index 1 in list is 4</p>

<p style="margin-left:11%; margin-top: 1em">Returns
&quot;&minus;1&quot; if no such item could be found.</p>


<p style="margin-left:11%; margin-top: 1em">&quot;first_index&quot;
is an alias for &quot;firstidx&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><i>onlyidx
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em"><i>only_index
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
index of the only element in <small>LIST</small> for which
the criterion in <small>BLOCK</small> is true. Sets $_ for
each item in <small>LIST</small> in turn:</p>

<p style="margin-left:11%; margin-top: 1em">my @list = (1,
3, 4, 3, 2, 4); <br>
printf &quot;uniqe index of item 2 in list is %i&quot;,
onlyidx { $_ == 2 } @list; <br>
__END__ <br>
unique index of item 2 in list is 4</p>

<p style="margin-left:11%; margin-top: 1em">Returns
&quot;&minus;1&quot; if either no such item or more than one
of these has been found.</p>


<p style="margin-left:11%; margin-top: 1em">&quot;only_index&quot;
is an alias for &quot;onlyidx&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><i>lastidx
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em"><i>last_index
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
index of the last element in <small>LIST</small> for which
the criterion in <small>BLOCK</small> is true. Sets $_ for
each item in <small>LIST</small> in turn:</p>

<p style="margin-left:11%; margin-top: 1em">my @list = (1,
4, 3, 2, 4, 6); <br>
printf &quot;item with index %i in list is 4&quot;, lastidx
{ $_ == 4 } @list; <br>
__END__ <br>
item with index 4 in list is 4</p>

<p style="margin-left:11%; margin-top: 1em">Returns
&quot;&minus;1&quot; if no such item could be found.</p>


<p style="margin-left:11%; margin-top: 1em">&quot;last_index&quot;
is an alias for &quot;lastidx&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Sorting</b>
<i><br>
sort_by <small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
list of values sorted according to the string values
returned by the <small>KEYFUNC</small> block or function. A
typical use of this may be to sort objects according to the
string value of some accessor, such as</p>

<p style="margin-left:11%; margin-top: 1em">sort_by {
$_&minus;&gt;name } @people</p>

<p style="margin-left:11%; margin-top: 1em">The key
function is called in scalar context, being passed each
value in turn as both $_ and the only argument in the
parameters, @_. The values are then sorted according to
string comparisons on the values returned. This is
equivalent to</p>

<p style="margin-left:11%; margin-top: 1em">sort {
$a&minus;&gt;name cmp $b&minus;&gt;name } @people</p>

<p style="margin-left:11%; margin-top: 1em">except that it
guarantees the name accessor will be executed only once per
value. One interesting use-case is to sort strings which may
have numbers embedded in them &quot;naturally&quot;, rather
than lexically.</p>

<p style="margin-left:11%; margin-top: 1em">sort_by {
s/(\d+)/sprintf &quot;%09d&quot;, $1/eg; $_ } @strings</p>

<p style="margin-left:11%; margin-top: 1em">This sorts
strings by generating sort keys which zero-pad the embedded
numbers to some level (9 digits in this case), helping to
ensure the lexical sort puts them in the correct order.</p>

<p style="margin-left:11%; margin-top: 1em"><i>nsort_by
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Similar to
sort_by but compares its key values numerically.</p>

<p style="margin-left:11%; margin-top: 1em"><i>qsort
<small>BLOCK ARRAY</small></i></p>

<p style="margin-left:11%; margin-top: 1em">This sorts the
given array <b>in place</b> using the given compare code.
Except for tiny compare code like &quot;$a &lt;=&gt;
$b&quot;, qsort is much faster than Perl&rsquo;s
&quot;sort&quot; depending on the version.</p>

<p style="margin-left:11%; margin-top: 1em">Compared 5.8
and 5.26:</p>

<p style="margin-left:11%; margin-top: 1em">my @rl; <br>
for(my $i = 0; $i &lt; 1E6; ++$i) { push @rl, rand(1E5) }
<br>
my $idx; <br>
sub ext_cmp { $_[0] &lt;=&gt; $_[1] } <br>
cmpthese( &minus;60, { <br>
'qsort' =&gt; sub { <br>
my @qrl = @rl; <br>
qsort { ext_cmp($a, $b) } @qrl; <br>
$idx = bsearchidx { ext_cmp($_, $rl[0]) } @qrl <br>
}, <br>
'reverse qsort' =&gt; sub { <br>
my @qrl = @rl; <br>
qsort { ext_cmp($b, $a) } @qrl; <br>
$idx = bsearchidx { ext_cmp($rl[0], $_) } @qrl <br>
}, <br>
'sort' =&gt; sub { <br>
my @srl = @rl; <br>
@srl = sort { ext_cmp($a, $b) } @srl; <br>
$idx = bsearchidx { ext_cmp($_, $rl[0]) } @srl <br>
}, <br>
'reverse sort' =&gt; sub { <br>
my @srl = @rl; <br>
@srl = sort { ext_cmp($b, $a) } @srl; <br>
$idx = bsearchidx { ext_cmp($rl[0], $_) } @srl <br>
}, <br>
});</p>

<p style="margin-left:11%; margin-top: 1em">5.8 results</p>

<p style="margin-left:11%; margin-top: 1em">s/iter reverse
sort sort reverse qsort qsort <br>
reverse sort 6.21 &minus;&minus; &minus;0% &minus;8%
&minus;10% <br>
sort 6.19 0% &minus;&minus; &minus;7% &minus;10% <br>
reverse qsort 5.73 8% 8% &minus;&minus; &minus;2% <br>
qsort 5.60 11% 11% 2% &minus;&minus;</p>

<p style="margin-left:11%; margin-top: 1em">5.26
results</p>

<p style="margin-left:11%; margin-top: 1em">s/iter reverse
sort sort reverse qsort qsort <br>
reverse sort 4.54 &minus;&minus; &minus;0% &minus;96%
&minus;96% <br>
sort 4.52 0% &minus;&minus; &minus;96% &minus;96% <br>
reverse qsort 0.203 2139% 2131% &minus;&minus; &minus;19%
<br>
qsort 0.164 2666% 2656% 24% &minus;&minus;</p>

<p style="margin-left:11%; margin-top: 1em">Use it where
external data sources might have to be compared (think of
Unix::Statgrab &quot;tables&quot;).</p>


<p style="margin-left:11%; margin-top: 1em">&quot;qsort&quot;
is available from List::MoreUtils::XS only. It&rsquo;s
insane to maintain a wrapper around Perl&rsquo;s sort nor
having a pure Perl implementation. One could create a
flip-book in same speed as <small>PP</small> runs a
qsort.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Searching in
sorted Lists</b> <i><br>
bsearch <small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Performs a
binary search on <small>LIST</small> which must be a sorted
list of values. <small>BLOCK</small> must return a negative
value if the current element (stored in $_) is smaller, a
positive value if it is bigger and zero if it matches.</p>

<p style="margin-left:11%; margin-top: 1em">Returns a
boolean value in scalar context. In list context, it returns
the element if it was found, otherwise the empty list.</p>

<p style="margin-left:11%; margin-top: 1em"><i>bsearchidx
<small>BLOCK LIST</small></i></p>


<p style="margin-left:11%; margin-top: 1em"><i>bsearch_index
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Performs a
binary search on <small>LIST</small> which must be a sorted
list of values. <small>BLOCK</small> must return a negative
value if the current element (stored in $_) is smaller, a
positive value if it is bigger and zero if it matches.</p>

<p style="margin-left:11%; margin-top: 1em">Returns the
index of found element, otherwise &quot;&minus;1&quot;.</p>


<p style="margin-left:11%; margin-top: 1em">&quot;bsearch_index&quot;
is an alias for &quot;bsearchidx&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><i>lower_bound
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
index of the first element in <small>LIST</small> which does
not compare <i>less than val</i>. Technically it&rsquo;s the
first element in <small>LIST</small> which does not return a
value below zero when passed to <small>BLOCK.</small></p>

<p style="margin-left:11%; margin-top: 1em">@ids = (1, 1,
2, 2, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 6, 7, 7, 7, 8, 8,
9, 9, 9, 9, 9, 11, 13, 13, 13, 17); <br>
$lb = lower_bound { $_ &lt;=&gt; 2 } @ids; # returns 2 <br>
$lb = lower_bound { $_ &lt;=&gt; 4 } @ids; # returns 10</p>

<p style="margin-left:11%; margin-top: 1em">lower_bound has
a complexity of O(log n).</p>

<p style="margin-left:11%; margin-top: 1em"><i>upper_bound
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Returns the
index of the first element in <small>LIST</small> which does
not compare <i>greater than val</i>. Technically it&rsquo;s
the first element in <small>LIST</small> which does not
return a value below or equal to zero when passed to
<small>BLOCK.</small></p>

<p style="margin-left:11%; margin-top: 1em">@ids = (1, 1,
2, 2, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 6, 7, 7, 7, 8, 8,
9, 9, 9, 9, 9, 11, 13, 13, 13, 17); <br>
$lb = upper_bound { $_ &lt;=&gt; 2 } @ids; # returns 4 <br>
$lb = upper_bound { $_ &lt;=&gt; 4 } @ids; # returns 14</p>

<p style="margin-left:11%; margin-top: 1em">upper_bound has
a complexity of O(log n).</p>

<p style="margin-left:11%; margin-top: 1em"><i>equal_range
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Returns a pair
of indices containing the lower_bound and the
upper_bound.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Operations
on sorted Lists</b> <i><br>
binsert <small>BLOCK ITEM LIST</small></i></p>


<p style="margin-left:11%; margin-top: 1em"><i>bsearch_insert
<small>BLOCK ITEM LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Performs a
binary search on <small>LIST</small> which must be a sorted
list of values. <small>BLOCK</small> must return a negative
value if the current element (stored in $_) is smaller, a
positive value if it is bigger and zero if it matches.</p>


<p style="margin-left:11%; margin-top: 1em"><small>ITEM</small>
is inserted at the index where the <small>ITEM</small>
should be placed (based on above search). That means,
it&rsquo;s inserted before the next bigger element.</p>

<p style="margin-left:11%; margin-top: 1em">@l = (2,3,5,7);
<br>
binsert { $_ &lt;=&gt; 4 } 4, @l; # @l = (2,3,4,5,7) <br>
binsert { $_ &lt;=&gt; 6 } 42, @l; # @l = (2,3,4,42,7)</p>

<p style="margin-left:11%; margin-top: 1em">You take care
that the inserted element matches the compare result.</p>

<p style="margin-left:11%; margin-top: 1em"><i>bremove
<small>BLOCK LIST</small></i></p>


<p style="margin-left:11%; margin-top: 1em"><i>bsearch_remove
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Performs a
binary search on <small>LIST</small> which must be a sorted
list of values. <small>BLOCK</small> must return a negative
value if the current element (stored in $_) is smaller, a
positive value if it is bigger and zero if it matches.</p>

<p style="margin-left:11%; margin-top: 1em">The item at the
found position is removed and returned.</p>

<p style="margin-left:11%; margin-top: 1em">@l =
(2,3,4,5,7); <br>
bremove { $_ &lt;=&gt; 4 }, @l; # @l = (2,3,5,7);</p>

<p style="margin-left:11%; margin-top: 1em"><b>Counting and
calculation</b> <i><br>
true <small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Counts the
number of elements in <small>LIST</small> for which the
criterion in <small>BLOCK</small> is true. Sets $_ for each
item in <small>LIST</small> in turn:</p>

<p style="margin-left:11%; margin-top: 1em">printf &quot;%i
item(s) are defined&quot;, true { defined($_) } @list;</p>

<p style="margin-left:11%; margin-top: 1em"><i>false
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Counts the
number of elements in <small>LIST</small> for which the
criterion in <small>BLOCK</small> is false. Sets $_ for each
item in <small>LIST</small> in turn:</p>

<p style="margin-left:11%; margin-top: 1em">printf &quot;%i
item(s) are not defined&quot;, false { defined($_) }
@list;</p>

<p style="margin-left:11%; margin-top: 1em"><i>reduce_0
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Reduce
<small>LIST</small> by calling <small>BLOCK</small> in
scalar context for each element of <small>LIST.</small> $a
contains the progressional result and is initialized with 0.
$b contains the current processed element of
<small>LIST</small> and $_ contains the index of the element
in $b.</p>

<p style="margin-left:11%; margin-top: 1em">The idea behind
reduce_0 is <b>summation</b> (addition of a sequence of
numbers).</p>

<p style="margin-left:11%; margin-top: 1em"><i>reduce_1
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Reduce
<small>LIST</small> by calling <small>BLOCK</small> in
scalar context for each element of <small>LIST.</small> $a
contains the progressional result and is initialized with 1.
$b contains the current processed element of
<small>LIST</small> and $_ contains the index of the element
in $b.</p>

<p style="margin-left:11%; margin-top: 1em">The idea behind
reduce_1 is product of a sequence of numbers.</p>

<p style="margin-left:11%; margin-top: 1em"><i>reduce_u
<small>BLOCK LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Reduce
<small>LIST</small> by calling <small>BLOCK</small> in
scalar context for each element of <small>LIST.</small> $a
contains the progressional result and is uninitialized. $b
contains the current processed element of
<small>LIST</small> and $_ contains the index of the element
in $b.</p>

<p style="margin-left:11%; margin-top: 1em">This function
has been added if one might need the extra of the index
value but need an individual initialization.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Use with
caution</b>: In most cases &quot;reduce&quot; in List::Util
will do the job better.</p>

<p style="margin-left:11%; margin-top: 1em"><i>minmax
<small>LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Calculates the
minimum and maximum of <small>LIST</small> and returns a two
element list with the first element being the minimum and
the second the maximum. Returns the empty list if
<small>LIST</small> was empty.</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;minmax&quot; algorithm differs from a naive iteration
over the list where each element is compared to two values
being the so far calculated min and max value in that it
only requires 3n/2 &minus; 2 comparisons. Thus it is the
most efficient possible algorithm.</p>

<p style="margin-left:11%; margin-top: 1em">However, the
Perl implementation of it has some overhead simply due to
the fact that there are more lines of Perl code involved.
Therefore, <small>LIST</small> needs to be fairly big in
order for &quot;minmax&quot; to win over a naive
implementation. This limitation does not apply to the
<small>XS</small> version.</p>

<p style="margin-left:11%; margin-top: 1em"><i>minmaxstr
<small>LIST</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Computes the
minimum and maximum of <small>LIST</small> using string
compare and returns a two element list with the first
element being the minimum and the second the maximum.
Returns the empty list if <small>LIST</small> was empty.</p>

<p style="margin-left:11%; margin-top: 1em">The
implementation is similar to &quot;minmax&quot;.</p>

<h2>ENVIRONMENT
<a name="ENVIRONMENT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">When
&quot;LIST_MOREUTILS_PP&quot; is set, the module will always
use the pure-Perl implementation and not the
<small>XS</small> one. This environment variable is really
just there for the test-suite to force testing the Perl
implementation, and possibly for reporting of bugs. I
don&rsquo;t see any reason to use it in a production
environment.</p>

<h2>MAINTENANCE
<a name="MAINTENANCE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The maintenance
goal is to preserve the documented semantics of the
<small>API</small> ; bug fixes that bring actual behavior in
line with semantics are allowed. New <small>API</small>
functions may be added over time. If a backwards
incompatible change is unavoidable, we will attempt to
provide support for the legacy <small>API</small> using the
same export tag mechanism currently in place.</p>

<p style="margin-left:11%; margin-top: 1em">This module
attempts to use few non-core dependencies. Non-core
configuration and testing modules will be bundled when
reasonable; run-time dependencies will be added only if they
deliver substantial benefit.</p>

<h2>CONTRIBUTING
<a name="CONTRIBUTING"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">While
contributions are appreciated, a contribution should not
cause more effort for the maintainer than the contribution
itself saves (see Open Source Contribution Etiquette
&lt;http://tirania.org/blog/archive/2010/Dec-31.html&gt;).</p>

<p style="margin-left:11%; margin-top: 1em">To get more
familiar where help could be needed &minus; see
List::MoreUtils::Contributing.</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">There is a
problem with a bug in 5.6.x perls. It is a syntax error to
write things like:</p>

<p style="margin-left:11%; margin-top: 1em">my @x = apply {
s/foo/bar/ } qw{ foo bar baz };</p>

<p style="margin-left:11%; margin-top: 1em">It has to be
written as either</p>

<p style="margin-left:11%; margin-top: 1em">my @x = apply {
s/foo/bar/ } 'foo', 'bar', 'baz';</p>

<p style="margin-left:11%; margin-top: 1em">or</p>

<p style="margin-left:11%; margin-top: 1em">my @x = apply {
s/foo/bar/ } my @dummy = qw/foo bar baz/;</p>

<p style="margin-left:11%; margin-top: 1em">Perl 5.5.x and
Perl 5.8.x don&rsquo;t suffer from this limitation.</p>

<p style="margin-left:11%; margin-top: 1em">If you have a
functionality that you could imagine being in this module,
please drop me a line. This module&rsquo;s policy will be
less strict than List::Util&rsquo;s when it comes to
additions as it isn&rsquo;t a core module.</p>

<p style="margin-left:11%; margin-top: 1em">When you report
bugs, it would be nice if you could additionally give me the
output of your program with the environment variable
&quot;LIST_MOREUTILS_PP&quot; set to a true value. That way
I know where to look for the problem (in <small>XS,</small>
pure-Perl or possibly both).</p>

<h2>SUPPORT
<a name="SUPPORT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Bugs should
always be submitted via the <small>CPAN</small> bug
tracker.</p>

<p style="margin-left:11%; margin-top: 1em">You can find
documentation for this module with the perldoc command.</p>

<p style="margin-left:11%; margin-top: 1em">perldoc
List::MoreUtils</p>

<p style="margin-left:11%; margin-top: 1em">You can also
look for information at:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="40%">


<p style="margin-top: 1em"><small>RT: CPAN</small> &rsquo;s
request tracker</p></td>
<td width="43%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">&lt;https://rt.cpan.org/Dist/Display.html?Name=List&minus;MoreUtils&gt;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="58%">


<p style="margin-top: 1em">AnnoCPAN: Annotated
<small>CPAN</small> documentation</p></td>
<td width="25%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">&lt;http://annocpan.org/dist/List&minus;MoreUtils&gt;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="18%">


<p style="margin-top: 1em"><small>CPAN</small> Ratings</p></td>
<td width="65%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">&lt;http://cpanratings.perl.org/dist/List&minus;MoreUtils&gt;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="12%">


<p style="margin-top: 1em">MetaCPAN</p></td>
<td width="71%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">&lt;https://metacpan.org/release/List&minus;MoreUtils&gt;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="17%">


<p style="margin-top: 1em"><small>CPAN</small> Search</p></td>
<td width="66%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">&lt;http://search.cpan.org/dist/List&minus;MoreUtils/&gt;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="21%">


<p style="margin-top: 1em">Git Repository</p></td>
<td width="62%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">&lt;https://github.com/perl5&minus;utils/List&minus;MoreUtils&gt;</p>

<p style="margin-left:11%; margin-top: 1em"><b>Where can I
go for help?</b> <br>
If you have a bug report, a patch or a suggestion, please
open a new report ticket at <small>CPAN</small> (but please
check previous reports first in case your issue has already
been addressed) or open an issue on GitHub.</p>

<p style="margin-left:11%; margin-top: 1em">Report tickets
should contain a detailed description of the bug or
enhancement request and at least an easily verifiable way of
reproducing the issue or fix. Patches are always welcome,
too &minus; and it&rsquo;s cheap to send pull-requests on
GitHub. Please keep in mind that code changes are more
likely accepted when they&rsquo;re bundled with an approving
test.</p>

<p style="margin-left:11%; margin-top: 1em">If you think
you&rsquo;ve found a bug then please read &quot;How to
Report Bugs Effectively&quot; by Simon Tatham:
&lt;http://www.chiark.greenend.org.uk/~sgtatham/bugs.html&gt;.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Where can I
go for help with a concrete version?</b> <br>
Bugs and feature requests are accepted against the latest
version only. To get patches for earlier versions, you need
to get an agreement with a developer of your choice &minus;
who may or not report the issue and a suggested fix upstream
(depends on the license you have chosen).</p>

<p style="margin-left:11%; margin-top: 1em"><b>Business
support and maintenance</b> <br>
Generally, in volunteered projects, there is no right for
support. While every maintainer is happy to improve the
provided software, spare time is limited.</p>

<p style="margin-left:11%; margin-top: 1em">For those who
have a use case which requires guaranteed support, one of
the maintainers should be hired or contracted. For business
support you can contact Jens via his <small>CPAN</small>
email address rehsackATcpan.org. Please keep in mind that
business support is neither available for free nor are you
eligible to receive any support based on the license
distributed with this package.</p>

<h2>THANKS
<a name="THANKS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Tassilo von
Parseval</b> <br>
Credits go to a number of people: Steve Purkis for giving me
namespace advice and James Keenan and Terrence Branno for
their effort of keeping the <small>CPAN</small> tidier by
making List::Utils obsolete.</p>

<p style="margin-left:11%; margin-top: 1em">Brian McCauley
suggested the inclusion of <b>apply()</b> and provided the
pure-Perl implementation for it.</p>

<p style="margin-left:11%; margin-top: 1em">Eric J. Roode
asked me to add all functions from his module
&quot;List::MoreUtil&quot; into this one. With minor
modifications, the pure-Perl implementations of those are by
him.</p>

<p style="margin-left:11%; margin-top: 1em">The bunch of
people who almost immediately pointed out the many problems
with the glitchy 0.07 release (Slaven Rezic, Ron Savage,
<small>CPAN</small> testers).</p>

<p style="margin-left:11%; margin-top: 1em">A particularly
nasty memory leak was spotted by Thomas A. Lowery.</p>

<p style="margin-left:11%; margin-top: 1em">Lars Thegler
made me aware of problems with older Perl versions.</p>

<p style="margin-left:11%; margin-top: 1em">Anno Siegel
de-orphaned <b>each_arrayref()</b>.</p>

<p style="margin-left:11%; margin-top: 1em">David Filmer
made me aware of a problem in each_arrayref that could
ultimately lead to a segfault.</p>

<p style="margin-left:11%; margin-top: 1em">Ricardo Signes
suggested the inclusion of <b>part()</b> and provided the
Perl-implementation.</p>

<p style="margin-left:11%; margin-top: 1em">Robin Huston
kindly fixed a bug in perl&rsquo;s <small>MULTICALL
API</small> to make the XS-implementation of <b>part()</b>
work.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Jens
Rehsack</b> <br>
Credits goes to all people contributing feedback during the
v0.400 development releases.</p>

<p style="margin-left:11%; margin-top: 1em">Special thanks
goes to David Golden who spent a lot of effort to develop a
design to support current state of <small>CPAN</small> as
well as ancient software somewhere in the dark. He also
contributed a lot of patches to refactor the
<small>API</small> frontend to welcome any user of
List::MoreUtils &minus; from ancient past to recently last
used.</p>

<p style="margin-left:11%; margin-top: 1em">Toby Inkster
provided a lot of useful feedback for sane importer code and
was a nice sounding board for <small>API</small>
discussions.</p>

<p style="margin-left:11%; margin-top: 1em">Peter Rabbitson
provided a sane git repository setup containing entire
package history.</p>

<h2>TODO
<a name="TODO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">A pile of
requests from other people is still pending further
processing in my mailbox. This includes:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="37%">


<p style="margin-top: 1em">delete_index</p></td>
<td width="46%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="37%">


<p>random_item</p></td>
<td width="46%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="37%">


<p>random_item_delete_index</p></td>
<td width="46%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="37%">


<p>list_diff_hash</p></td>
<td width="46%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="37%">


<p>list_diff_inboth</p></td>
<td width="46%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="37%">


<p>list_diff_infirst</p></td>
<td width="46%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="37%">


<p>list_diff_insecond</p></td>
<td width="46%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">These were all
suggested by Dan Muey.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="11%">


<p style="margin-top: 1em">listify</p></td>
<td width="72%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Always return a
flat list when either a simple scalar value was passed or an
array-reference. Suggested by Mark Summersault.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">List::Util,
List::AllUtils, List::UtilsBy</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Jens Rehsack
&lt;rehsack <small>AT</small> cpan.org&gt;</p>

<p style="margin-left:11%; margin-top: 1em">Adam Kennedy
&lt;adamk@cpan.org&gt;</p>

<p style="margin-left:11%; margin-top: 1em">Tassilo von
Parseval
&lt;tassilo.von.parseval@rwth&minus;aachen.de&gt;</p>

<h2>COPYRIGHT AND LICENSE
<a name="COPYRIGHT AND LICENSE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Some parts
copyright 2011 Aaron Crane.</p>

<p style="margin-left:11%; margin-top: 1em">Copyright 2004
&minus; 2010 by Tassilo von Parseval</p>

<p style="margin-left:11%; margin-top: 1em">Copyright 2013
&minus; 2017 by Jens Rehsack</p>

<p style="margin-left:11%; margin-top: 1em">All code added
with 0.417 or later is licensed under the Apache License,
Version 2.0 (the &quot;License&quot;); you may not use this
file except in compliance with the License. You may obtain a
copy of the License at</p>


<p style="margin-left:11%; margin-top: 1em">http://www.apache.org/licenses/LICENSE&minus;2.0</p>

<p style="margin-left:11%; margin-top: 1em">Unless required
by applicable law or agreed to in writing, software
distributed under the License is distributed on an &quot;
<small>AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS
OF ANY KIND,</small> either express or implied. See the
License for the specific language governing permissions and
limitations under the License.</p>

<p style="margin-left:11%; margin-top: 1em">All code until
0.416 is licensed under the same terms as Perl itself,
either Perl version 5.8.4 or, at your option, any later
version of Perl 5 you may have available.</p>
<hr>
</body>
</html>
