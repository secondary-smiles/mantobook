<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:55:35 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>MPI_Sendrecv</title>

</head>
<body>
<h1>MPI_Sendrecv</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>MPI_Sendrecv</b>
&minus; Sends and receives a message.</p>

<h2>SYNTAX
<a name="SYNTAX"></a>
</h2>


<h2>C Syntax
<a name="C Syntax"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">#include
&lt;mpi.h&gt; <br>
int MPI_Sendrecv(const void *<i>sendbuf</i>, int
<i>sendcount</i>, MPI_Datatype <i>sendtype</i>,</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>int <i>dest</i>, int <i>sendtag</i>, void
<i>*recvbuf</i>, int <i>recvcount</i>,</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>MPI_Datatype <i>recvtype</i>, int <i>source</i>, int
<i>recvtag</i>,</p> </td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>MPI_Comm <i>comm</i>, MPI_Status <i>*status</i>)</p></td></tr>
</table>

<h2>Fortran Syntax
<a name="Fortran Syntax"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">USE MPI <br>
! or the older form: INCLUDE &rsquo;mpif.h&rsquo; <br>
MPI_SENDRECV(<i>SENDBUF, SENDCOUNT, SENDTYPE, DEST,
SENDTAG,</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="8%">


<p><i>RECVBUF, RECVCOUNT, RECVTYPE, SOURCE, RECVTAG,
COMM,</i></p> </td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="8%">


<p><i>STATUS, IERROR</i>)</p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">


<p>&lt;type&gt;</p></td>
<td width="8%"></td>
<td width="69%">


<p><i>SENDBUF(*), RECVBUF(*)</i></p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">


<p>INTEGER</p></td>
<td width="8%"></td>
<td width="69%">


<p><i>SENDCOUNT, SENDTYPE, DEST, SENDTAG</i></p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">


<p>INTEGER</p></td>
<td width="8%"></td>
<td width="69%">


<p><i>RECVCOUNT, RECVTYPE, SOURCE, RECVTAG, COMM</i></p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">


<p>INTEGER</p></td>
<td width="8%"></td>
<td width="69%">


<p><i>STATUS(MPI_STATUS_SIZE), IERROR</i></p></td></tr>
</table>

<h2>Fortran 2008 Syntax
<a name="Fortran 2008 Syntax"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">USE mpi_f08
<br>
MPI_Sendrecv(<i>sendbuf</i>, <i>sendcount</i>,
<i>sendtype</i>, <i>dest</i>, <i>sendtag</i>,
<i>recvbuf</i>,</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="77%">


<p><i>recvcount</i>, <i>recvtype</i>, <i>source</i>,
<i>recvtag</i>, <i>comm</i>, <i>status</i>,
<i>ierror</i>)</p> </td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>TYPE(*), DIMENSION(..), INTENT(IN) :: <i>sendbuf</i></p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>TYPE(*), DIMENSION(..) :: <i>recvbuf</i></p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>INTEGER, INTENT(IN) :: <i>sendcount</i>, <i>dest</i>,
<i>sendtag</i>, <i>recvcount</i>, <i>source,</i></p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p><i>recvtag</i></p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>TYPE(MPI_Datatype), INTENT(IN) :: <i>sendtype</i>,
<i>recvtype</i></p> </td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>TYPE(MPI_Comm), INTENT(IN) :: <i>comm</i></p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>TYPE(MPI_Status) :: <i>status</i></p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>INTEGER, OPTIONAL, INTENT(OUT) :: <i>ierror</i></p></td>
<td width="77%">
</td></tr>
</table>

<h2>C++ Syntax
<a name="C++ Syntax"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">#include
&lt;mpi.h&gt; <br>
void Comm::Sendrecv(const void *<i>sendbuf</i>, int
<i>sendcount</i>, const</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>Datatype&amp; <i>sendtype</i>, int <i>dest</i>, int
<i>sendtag</i>, void *<i>recvbuf</i>,</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>int <i>recvcount</i>, const Datatype&amp;
<i>recvtype</i>, int <i>source</i>,</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>int <i>recvtag</i>, Status&amp; <i>status</i>) const</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">void
Comm::Sendrecv(const void *<i>sendbuf</i>, int
<i>sendcount</i>, const</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>Datatype&amp; <i>sendtype</i>, int <i>dest</i>, int
<i>sendtag</i>, void *<i>recvbuf</i>,</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>int <i>recvcount</i>, const Datatype&amp;
<i>recvtype</i>, int <i>source</i>,</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>int <i>recvtag</i>) const</p></td></tr>
</table>

<h2>INPUT PARAMETERS
<a name="INPUT PARAMETERS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p style="margin-top: 1em">sendbuf</p></td>
<td width="1%"></td>
<td width="74%">


<p style="margin-top: 1em">Initial address of send buffer
(choice).</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>sendcount</p></td>
<td width="1%"></td>
<td width="74%">


<p>Number of elements to send (integer).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>sendtype</p></td>
<td width="1%"></td>
<td width="74%">


<p>Type of elements in send buffer (handle).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>dest</p></td>
<td width="1%"></td>
<td width="74%">


<p>Rank of destination (integer).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>sendtag</p></td>
<td width="1%"></td>
<td width="74%">


<p>Send tag (integer).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>recvcount</p></td>
<td width="1%"></td>
<td width="74%">


<p>Maximum number of elements to receive (integer).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>recvtype</p></td>
<td width="1%"></td>
<td width="74%">


<p>Type of elements in receive buffer (handle).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>source</p></td>
<td width="1%"></td>
<td width="74%">


<p>Rank of source (integer).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>recvtag</p></td>
<td width="1%"></td>
<td width="74%">


<p>Receive tag (integer).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>comm</p></td>
<td width="1%"></td>
<td width="74%">


<p>Communicator (handle).</p></td></tr>
</table>

<h2>OUTPUT PARAMETERS
<a name="OUTPUT PARAMETERS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p style="margin-top: 1em">recvbuf</p></td>
<td width="4%"></td>
<td width="74%">


<p style="margin-top: 1em">Initial address of receive
buffer (choice).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p>status</p></td>
<td width="4%"></td>
<td width="74%">


<p>Status object (status). This refers to the receive
operation.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p>IERROR</p></td>
<td width="4%"></td>
<td width="74%">


<p>Fortran only: Error status (integer).</p></td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
send-receive operations combine in one call the sending of a
message to one destination and the receiving of another
message, from another process. The two (source and
destination) are possibly the same. A send-receive operation
is useful for executing a shift operation across a chain of
processes. If blocking sends and receives are used for such
a shift, then one needs to order the sends and receives
correctly (for example, even processes send, then receive;
odd processes receive first, then send) in order to prevent
cyclic dependencies that may lead to deadlock. When a
send-receive operation is used, the communication subsystem
takes care of these issues. The send-receive operation can
be used in conjunction with the functions described in
Chapter 6 of the MPI-1 Standard, &quot;Process
Topologies,&quot; in order to perform shifts on various
logical topologies. Also, a send-receive operation is useful
for implementing remote procedure calls.</p>

<p style="margin-left:11%; margin-top: 1em">A message sent
by a send-receive operation can be received by a regular
receive operation or probed by a probe operation; a
send-receive operation can receive a message sent by a
regular send operation.</p>

<p style="margin-left:11%; margin-top: 1em">MPI_Sendrecv
executes a blocking send and receive operation. Both send
and receive use the same communicator, but possibly
different tags. The send buffer and receive buffers must be
disjoint, and may have different lengths and datatypes.</p>

<p style="margin-left:11%; margin-top: 1em">If your
application does not need to examine the <i>status</i>
field, you can save resources by using the predefined
constant MPI_STATUS_IGNORE as a special value for the
<i>status</i> argument.</p>

<h2>ERRORS
<a name="ERRORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Almost all MPI
routines return an error value; C routines as the value of
the function and Fortran routines in the last argument. C++
functions do not return errors. If the default error handler
is set to MPI::ERRORS_THROW_EXCEPTIONS, then on error the
C++ exception mechanism will be used to throw an
MPI::Exception object.</p>

<p style="margin-left:11%; margin-top: 1em">Before the
error value is returned, the current MPI error handler is
called. By default, this error handler aborts the MPI job,
except for I/O function errors. The error handler may be
changed with MPI_Comm_set_errhandler; the predefined error
handler MPI_ERRORS_RETURN may be used to cause error values
to be returned. Note that MPI does not guarantee that an MPI
program can continue past an error.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">MPI_Sendrecv_replace</p>
<hr>
</body>
</html>
