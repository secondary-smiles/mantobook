<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:55:58 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SD_BUS_SET_DESCRIPTION</title>

</head>
<body>
<h1>sd_bus_get_allow_interactive_authorization</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">sd_bus_set_description,
sd_bus_get_description, sd_bus_set_anonymous,
sd_bus_is_anonymous, sd_bus_set_trusted, sd_bus_is_trusted,
sd_bus_set_allow_interactive_authorization,
sd_bus_get_allow_interactive_authorization,
sd_bus_get_scope, sd_bus_get_tid, sd_bus_get_unique_name
&minus; Set or query properties of a bus object</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;systemd/sd&minus;bus.h&gt;</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>int
sd_bus_set_description(sd_bus&nbsp;*</b><i>bus</i><b>,
const&nbsp;char&nbsp;*</b><i>description</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>int
sd_bus_get_description(sd_bus&nbsp;*</b><i>bus</i><b>,
const&nbsp;char&nbsp;**</b><i>description</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>int
sd_bus_set_anonymous(sd_bus&nbsp;*</b><i>bus</i><b>,
int&nbsp;</b><i>b</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>int
sd_bus_is_anonymous(sd_bus&nbsp;*</b><i>bus</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>int
sd_bus_set_trusted(sd_bus&nbsp;*</b><i>bus</i><b>,
int&nbsp;</b><i>b</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>int
sd_bus_is_trusted(sd_bus&nbsp;*</b><i>bus</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>int
sd_bus_set_allow_interactive_authorization(sd_bus&nbsp;*</b><i>bus</i><b>,
int&nbsp;</b><i>b</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>int
sd_bus_get_allow_interactive_authorization(sd_bus&nbsp;*</b><i>bus</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>int
sd_bus_get_scope(sd_bus&nbsp;*</b><i>bus</i><b>,
const&nbsp;char&nbsp;**</b><i>scope</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>int
sd_bus_get_tid(sd_bus&nbsp;*</b><i>bus</i><b>,
pid_t&nbsp;*</b><i>tid</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>int
sd_bus_get_unique_name(sd_bus&nbsp;*</b><i>bus</i><b>,
const&nbsp;char&nbsp;**</b><i>unique</i><b>);</b></p> </td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>sd_bus_set_description()</b>
sets the description string that is used in logging to the
specified string. The string is copied internally and freed
when the bus object is deallocated. The <i>description</i>
argument may be <b>NULL</b>, in which case the description
is unset. This function must be called before the bus is
started.</p>


<p style="margin-left:11%; margin-top: 1em"><b>sd_bus_get_description()</b>
returns a description string in <i>description</i>. This
string may have been previously set with
<b>sd_bus_set_description()</b> or
<b>sd_bus_open_with_description</b>(3) or similar. If not
set this way, a default string like &quot;system&quot; or
&quot;user&quot; will be returned for the system or user
buses, and <b>&minus;ENXIO</b> otherwise.</p>


<p style="margin-left:11%; margin-top: 1em"><b>sd_bus_set_anonymous()</b>
enables or disables &quot;anonymous authentication&quot;,
i.e. lack of authentication, of the bus peer. This function
must be called before the bus is started. See the
<b><font color="#0000FF">Authentication
Mechanisms</font></b>
<small><font color="#000000">[1]</font></small>
<font color="#000000">section of the D&minus;Bus
specification for details.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>sd_bus_is_anonymous()</b>
returns true if the bus connection allows anonymous
authentication (in the sense described in previous
paragraph).</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>sd_bus_set_trusted()</b>
sets the &quot;trusted&quot; state on the <i>bus</i> object.
If true, all connections on the bus are trusted and access
to all privileged and unprivileged methods is granted. This
function must be called before the bus is
started.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>sd_bus_is_trusted()</b>
returns true if the bus connection is trusted (in the sense
described in previous paragraph).</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>sd_bus_set_allow_interactive_authorization()</b>
enables or disables interactive authorization for method
calls. If true, messages are marked with the
<b>ALLOW_INTERACTIVE_AUTHORIZATION</b> flag specified by
the</font> <b><font color="#0000FF">D&minus;Bus</font></b>
<small><font color="#000000">[2]</font></small>
<font color="#000000">specification, informing the receiving
side that the caller is prepared to wait for interactive
authorization, which might take a considerable time to
complete. If this flag is set, the user may be queried for
passwords or confirmation via</font>
<b><font color="#0000FF">polkit</font></b>
<small><font color="#000000">[3]</font></small>
<font color="#000000">or a similar framework.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>sd_bus_get_allow_interactive_authorization()</b>
returns true if interactive authorization is allowed and
false if not.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>sd_bus_get_scope()</b>
stores the scope of the given bus object in <i>scope</i>.
The scope of the system bus is &quot;system&quot;. The scope
of a user session bus is &quot;user&quot;. If the given bus
object is not the system or a user session bus,
<b>sd_bus_get_scope()</b> returns an error.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>sd_bus_get_tid()</b>
stores the kernel thread id of the thread associated with
the given bus object in <i>tid</i>. If <i>bus</i> is a
default bus object obtained by calling one of the functions
of the <b>sd_bus_default</b>(3) family of functions, it
stores the thread id of the thread the bus object was
created in. Otherwise, if the bus object is attached to an
event loop, it stores the thread id of the thread the event
loop object was created in. If <i>bus</i> is not a default
bus object and is not attached to an event loop,
<b>sd_bus_get_tid()</b> returns an error.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>sd_bus_get_unique_name()</b>
stores the unique name of the bus object on the bus in
<i>unique</i>. See</font> <b><font color="#0000FF">The
D&minus;Bus specification</font></b>
<small><font color="#000000">[4]</font></small>
<font color="#000000">for more information on bus names.
Note that the caller does not own the string stored in
<i>unique</i> and should not free it.</font></p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">On
success, these functions return a non&minus;negative
integer. On failure, they return a negative
errno&minus;style error code.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>Errors</b>
<br>
Returned errors may indicate the following
problems:</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>&minus;EINVAL</b></font></p>

<p style="margin-left:17%;"><font color="#000000">An
argument is invalid.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>&minus;ENOPKG</b></font></p>

<p style="margin-left:17%;"><font color="#000000">The bus
cannot be resolved.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>&minus;EPERM</b></font></p>

<p style="margin-left:17%;"><font color="#000000">The bus
has already been started.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>&minus;ECHILD</b></font></p>

<p style="margin-left:17%;"><font color="#000000">The bus
was created in a different process.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>&minus;ENOMEM</b></font></p>

<p style="margin-left:17%;"><font color="#000000">Memory
allocation failed.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>&minus;ENODATA</b></font></p>

<p style="margin-left:17%;"><font color="#000000">The bus
object passed to <b>sd_bus_get_scope()</b> was not a system
or user session bus.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>&minus;ENXIO</b></font></p>

<p style="margin-left:17%;"><font color="#000000">The bus
object passed to <b>sd_bus_get_tid()</b> was not a default
bus object and is not attached to an event loop.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">The
bus object passed to <b>sd_bus_get_description()</b> did not
have a <i>description</i>.</font></p>

<h2>NOTES
<a name="NOTES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000">These
APIs are implemented as a shared library, which can be
compiled and linked to with the
<b>libsystemd&nbsp;pkg-config</b>(1) file.</font></p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>systemd</b>(1),
<b>sd-bus</b>(3), <b>sd_bus_default_user</b>(3),
<b>sd_bus_default_system</b>(3), <b>sd_bus_open_user</b>(3),
<b>sd_bus_open_system</b>(3)</font></p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">



<p style="margin-top: 1em"><font color="#000000">1.</font></p> </td>
<td width="2%"></td>
<td width="38%">



<p style="margin-top: 1em"><font color="#000000">Authentication
Mechanisms</font></p> </td>
<td width="45%">
</td></tr>
</table>


<p style="margin-left:17%;"><font color="#000000">view-source:https://dbus.freedesktop.org/doc/dbus-specification.html#auth-mechanisms</font></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">



<p style="margin-top: 1em"><font color="#000000">2.</font></p> </td>
<td width="2%"></td>
<td width="8%">



<p style="margin-top: 1em"><font color="#000000">D-Bus</font></p> </td>
<td width="75%">
</td></tr>
</table>


<p style="margin-left:17%;"><font color="#000000">view-source:https://dbus.freedesktop.org/doc/dbus-specification.html</font></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">



<p style="margin-top: 1em"><font color="#000000">3.</font></p> </td>
<td width="2%"></td>
<td width="9%">



<p style="margin-top: 1em"><font color="#000000">polkit</font></p> </td>
<td width="74%">
</td></tr>
</table>


<p style="margin-left:17%;"><font color="#000000">https://www.freedesktop.org/wiki/Software/polkit</font></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">



<p style="margin-top: 1em"><font color="#000000">4.</font></p> </td>
<td width="2%"></td>
<td width="35%">


<p style="margin-top: 1em"><font color="#000000">The D-Bus
specification</font></p> </td>
<td width="48%">
</td></tr>
</table>


<p style="margin-left:17%;"><font color="#000000">https://dbus.freedesktop.org/doc/dbus-specification.html#message-protocol-names-bus</font></p>
<hr>
</body>
</html>
