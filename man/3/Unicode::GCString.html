<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:56:23 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>Unicode::GCString</title>

</head>
<body>
<h1>Unicode::GCString</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">Unicode::GCString
&minus; String as Sequence of UAX #29 Grapheme Clusters</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">use
Unicode::GCString; <br>
$gcstring = Unicode::GCString&minus;&gt;new($string);</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">Unicode::GCString
treats Unicode string as a sequence of <i>extended grapheme
clusters</i> defined by Unicode Standard Annex #29 [
<small>UAX</small> #29].</p>

<p style="margin-left:11%; margin-top: 1em"><b>Grapheme
cluster</b> is a sequence of Unicode character(s) that
consists of one <b>grapheme base</b> and optional
<b>grapheme extender</b> and/or <b>&acirc;prepend&acirc;
character</b>. It is close in that people consider as
<i>character</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Public
Interface</b> <i><br>
Constructors</i> <br>
new ( <small>STRING,</small> [ <small>KEY</small> =&gt;
<small>VALUE, ...</small> ]) <br>
new ( <small>STRING,</small> [ <small>LINEBREAK</small>
])</p>

<p style="margin-left:17%;"><i>Constructor</i>. Create new
grapheme cluster string (Unicode::GCString object) from
Unicode string <small>STRING.</small></p>

<p style="margin-left:17%; margin-top: 1em">About optional
<small>KEY</small> =&gt; <small>VALUE</small> pairs see
&quot;Options&quot; in Unicode::LineBreak. On second form,
Unicode::LineBreak object <small>LINEBREAK</small> controls
breaking features.</p>

<p style="margin-left:17%; margin-top: 1em"><b>Note</b>:
The first form was introduced by release 2012.10.</p>

<p style="margin-left:11%;">copy</p>

<p style="margin-left:17%;"><i>Copy constructor</i>. Create
a copy of grapheme cluster string. Next position of new
string is set at beginning.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Sizes</i>
<br>
chars</p>

<p style="margin-left:17%;"><i>Instance method</i>. Returns
number of Unicode characters grapheme cluster string
includes, i.e. length as Unicode string.</p>

<p style="margin-left:11%;">columns</p>

<p style="margin-left:17%;"><i>Instance method</i>. Returns
total number of columns of grapheme clusters defined by
built-in character database. For more details see &quot;
<small>DESCRIPTION&quot;</small> in Unicode::LineBreak.</p>

<p style="margin-left:11%;">length</p>

<p style="margin-left:17%;"><i>Instance method</i>. Returns
number of grapheme clusters contained in grapheme cluster
string.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Operations
as String</i> <br>
as_string <br>
&quot;&quot;&quot; <small>OBJECT</small>
&quot;&quot;&quot;</p>

<p style="margin-left:17%;"><i>Instance method</i>. Convert
grapheme cluster string to Unicode string explicitly.</p>

<p style="margin-left:11%;">cmp ( <small>STRING</small> )
<small><br>
STRING</small> &quot;cmp&quot; <small>STRING</small></p>

<p style="margin-left:17%;"><i>Instance method</i>. Compare
strings. There are no oddities. One of each
<small>STRING</small> may be Unicode string.</p>

<p style="margin-left:11%;">concat ( <small>STRING</small>
) <small><br>
STRING</small> &quot;.&quot; <small>STRING</small></p>

<p style="margin-left:17%;"><i>Instance method</i>.
Concatenate STRINGs. One of each <small>STRING</small> may
be Unicode string. Note that number of columns (see
<b>columns()</b>) or grapheme clusters (see <b>length()</b>)
of resulting string is not always equal to sum of both
strings. Next position of new string is that set on the left
value.</p>

<p style="margin-left:11%;">join ([ <small>STRING,
...</small> ])</p>

<p style="margin-left:17%;"><i>Instance method</i>. Join
STRINGs inserting grapheme cluster string. Any of STRINGs
may be Unicode string.</p>

<p style="margin-left:11%;">substr ( <small>OFFSET,</small>
[ <small>LENGTH,</small> [ <small>REPLACEMENT</small>
]])</p>

<p style="margin-left:17%;"><i>Instance method</i>. Returns
substring of grapheme cluster string. <small>OFFSET</small>
and <small>LENGTH</small> are based on grapheme clusters. If
<small>REPLACEMENT</small> is specified, substring is
replaced by it. <small>REPLACEMENT</small> may be Unicode
string.</p>

<p style="margin-left:17%; margin-top: 1em">Note: This
method cannot return the lvalue, unlike built-in
<b>substr()</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Operations
as Sequence of Grapheme Clusters</i> <br>
as_array <br>
&quot;@{&quot; <small>OBJECT</small> &quot;}&quot; <br>
as_arrayref</p>

<p style="margin-left:17%;"><i>Instance method</i>. Convert
grapheme cluster string to an array of grapheme
clusters.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>eos</p></td>
<td width="2%"></td>
<td width="83%">


<p><i>Instance method</i>. Test if current position is at
end of grapheme cluster string.</p></td></tr>
</table>

<p style="margin-left:11%;">item ([ <small>OFFSET</small>
])</p>

<p style="margin-left:17%;"><i>Instance method</i>. Returns
OFFSET-th grapheme cluster. If <small>OFFSET</small> was not
specified, returns next grapheme cluster.</p>

<p style="margin-left:11%;">next <br>
&quot;&lt;&quot; <small>OBJECT</small> &quot;&gt;&quot;</p>

<p style="margin-left:17%;"><i>Instance method</i>,
iterative. Returns next grapheme cluster and increment next
position.</p>

<p style="margin-left:11%;">pos ([ <small>OFFSET</small>
])</p>

<p style="margin-left:17%;"><i>Instance method</i>. If
optional <small>OFFSET</small> is specified, set next
position by it. Returns next position of grapheme cluster
string.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Miscelaneous</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>lbc</p></td>
<td width="2%"></td>
<td width="83%">


<p><i>Instance method</i>. Returns Line Breaking Class (See
Unicode::LineBreak) of the first character of first grapheme
cluster.</p> </td></tr>
</table>

<p style="margin-left:11%;">lbcext</p>

<p style="margin-left:17%;"><i>Instance method</i>. Returns
Line Breaking Class (See Unicode::LineBreak) of the last
grapheme extender of last grapheme cluster. If there are no
grapheme extenders or its class is <small>CM,</small> value
of last grapheme base will be returned.</p>

<h2>CAVEATS
<a name="CAVEATS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The grapheme cluster should not
be referred to as &quot;grapheme&quot; even though Larry
does.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>On Perl around 5.10.1, implicit conversion from
Unicode::GCString object to Unicode string sometimes let
&quot;utf8_mg_pos_cache_update&quot; cache be confused.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">For example,
instead of doing</p>

<p style="margin-left:17%; margin-top: 1em">$sub =
substr($gcstring, $i, $j);</p>

<p style="margin-left:17%; margin-top: 1em">do</p>

<p style="margin-left:17%; margin-top: 1em">$sub =
substr(&quot;$gcstring&quot;, $i, $j); <br>
$sub = substr($gcstring&minus;&gt;as_string, $i, $j);</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">This module implements
<i>default</i> algorithm for determining grapheme cluster
boundaries. Tailoring mechanism has not been supported
yet.</p> </td></tr>
</table>

<h2>VERSION
<a name="VERSION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Consult
$VERSION variable.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Incompatible
Changes</b> <br>
Release 2013.10</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p>The <b>new()</b> method can take non-Unicode string
argument. In this case it will be decoded by
iso&minus;8859&minus;1 (Latin 1) character set. That method
of former releases would die with non-Unicode inputs.</p></td></tr>
</table>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">[
<small>UAX</small> #29] Mark Davis (ed.) (2009&minus;2013).
<i>Unicode Standard Annex #29: Unicode Text
Segmentation</i>, Revisions 15&minus;23.
&lt;http://www.unicode.org/reports/tr29/&gt;.</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Hatuka*nezumi
&minus; <small>IKEDA</small> Soji
&lt;hatuka(at)nezumi.nu&gt;</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright (C)
2009&minus;2013 Hatuka*nezumi &minus; <small>IKEDA</small>
Soji.</p>

<p style="margin-left:11%; margin-top: 1em">This program is
free software; you can redistribute it and/or modify it
under the same terms as Perl itself.</p>
<hr>
</body>
</html>
