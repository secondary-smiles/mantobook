<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:54:29 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>CURLMOPT_MAXCONNECTS</title>

</head>
<body>
<h1>CURLMOPT_MAXCONNECTS</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">CURLMOPT_MAXCONNECTS
&minus; size of connection cache</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">#include
&lt;curl/curl.h&gt;</p>

<p style="margin-left:11%; margin-top: 1em">CURLMcode
curl_multi_setopt(CURLM *handle, CURLMOPT_MAXCONNECTS, long
max);</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Pass a long
indicating the <b>max</b>. The set number will be used as
the maximum amount of simultaneously open connections that
libcurl may keep in its connection cache after completed
use. By default libcurl will enlarge the size for each added
easy handle to make it fit 4 times the number of added easy
handles.</p>

<p style="margin-left:11%; margin-top: 1em">By setting this
option, you can prevent the cache size from growing beyond
the limit set by you.</p>

<p style="margin-left:11%; margin-top: 1em">When the cache
is full, curl closes the oldest one in the cache to prevent
the number of open connections from increasing.</p>

<p style="margin-left:11%; margin-top: 1em">This option is
for the multi handle&rsquo;s use only, when using the easy
interface you should instead use the
<i>CURLOPT_MAXCONNECTS(3)</i> option.</p>

<p style="margin-left:11%; margin-top: 1em">See
<i>CURLMOPT_MAX_TOTAL_CONNECTIONS(3)</i> for limiting the
number of active connections.</p>

<h2>DEFAULT
<a name="DEFAULT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">See
DESCRIPTION</p>

<h2>PROTOCOLS
<a name="PROTOCOLS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">All</p>

<h2>EXAMPLE
<a name="EXAMPLE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">CURLM *m =
curl_multi_init(); <br>
/* only keep 10 connections in the cache */ <br>
curl_multi_setopt(m, CURLMOPT_MAXCONNECTS, 10L);</p>

<h2>AVAILABILITY
<a name="AVAILABILITY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Added in
7.16.3</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Returns
CURLM_OK if the option is supported, and
CURLM_UNKNOWN_OPTION if not.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>CURLMOPT_MAX_HOST_CONNECTIONS</b>(3),
<b>CURLOPT_MAXCONNECTS</b>(3),</p>
<hr>
</body>
</html>
