<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:56:00 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SD_HWDB_NEW</title>

</head>
<body>
<h1>sd_hwdb_new_from_path</h1>



<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">sd_hwdb_new,
sd_hwdb_new_from_path, sd_hwdb_ref, sd_hwdb_unref &minus;
Create a new hwdb object and create or destroy references to
it</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;systemd/sd&minus;hwdb.h&gt;</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>int
sd_hwdb_new(sd_hwdb&nbsp;**</b><i>hwdb</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>int
sd_hwdb_new_from_path(const&nbsp;char&nbsp;*</b><i>path</i><b>,
sd_hwdb&nbsp;**</b><i>hwdb</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>sd_hwdb*
sd_hwdb_ref(sd_hwdb&nbsp;*</b><i>hwdb</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>sd_hwdb*
sd_hwdb_unref(sd_hwdb&nbsp;*</b><i>hwdb</i><b>);</b></p> </td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>sd_hwdb_new()</b>
creates a new hwdb object to access the binary hwdb
database. Upon initialization, the file containing the
binary representation of the hardware database is located
and opened. The new object is returned in <i>hwdb</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>sd_hwdb_new_from_path()</b>
may be used to specify the path from which the binary
hardware database should be opened.</p>

<p style="margin-left:11%; margin-top: 1em">The <i>hwdb</i>
object is reference counted. <b>sd_hwdb_ref()</b> and
<b>sd_hwdb_unref()</b> may be used to get a new reference or
destroy an existing reference to an object. The caller must
dispose of the reference acquired with <b>sd_hwdb_new()</b>
by calling <b>sd_hwdb_unref()</b> when done with the
object.</p>

<p style="margin-left:11%; margin-top: 1em">Use
<b>sd_hwdb_seek</b>(3), <b>sd_hwdb_get</b>(3), and
<b>sd_hwdb_enumerate</b>(3) to access entries.</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">On success,
<b>sd_hwdb_new()</b> and <b>sd_hwdb_new_from_path()</b>
return a non&minus;negative integer. On failure, a negative
errno&minus;style error code is returned.</p>


<p style="margin-left:11%; margin-top: 1em"><b>sd_hwdb_ref()</b>
always returns the argument.</p>


<p style="margin-left:11%; margin-top: 1em"><b>sd_hwdb_unref()</b>
always returns <b>NULL</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Errors</b>
<br>
Returned errors may indicate the following problems:</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;ENOENT</b></p>

<p style="margin-left:17%;">The binary hardware database
file could not be located. See <b>systemd-hwdb</b>(8) for
more information.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;EINVAL</b></p>

<p style="margin-left:17%;">The located binary hardware
database file is in an incompatible format.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;ENOMEM</b></p>

<p style="margin-left:17%;">Memory allocation failed.</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">These APIs are
implemented as a shared library, which can be compiled and
linked to with the <b>libsystemd&nbsp;pkg-config</b>(1)
file.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>systemd</b>(1),
<b>systemd-udevd.service</b>(8), <b>sd-hwdb</b>(3),
<b>systemd-hwdb</b>(3)</p>
<hr>
</body>
</html>
