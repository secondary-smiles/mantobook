<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:55:29 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>libalpm_packages</title>

</head>
<body>
<h1>libalpm_packages</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">libalpm_packages
&minus; Package Functions</p>

<p style="margin-left:11%; margin-top: 1em">&minus;
Functions to manipulate libalpm packages.</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>Typedefs</b></p>

<p style="margin-left:17%;">typedef struct __alpm_pkg_t
<b>alpm_pkg_t</b> <br>
A package.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Enumerations</b></p>

<p style="margin-left:17%;">enum <b>alpm_pkgreason_t</b> {
<b>ALPM_PKG_REASON_EXPLICIT</b> = 0,
<b>ALPM_PKG_REASON_DEPEND</b> = 1 } <br>
Package install reasons. <br>
enum <b>alpm_pkgfrom_t</b> { <b>ALPM_PKG_FROM_FILE</b> = 1,
<b>ALPM_PKG_FROM_LOCALDB</b>, <b>ALPM_PKG_FROM_SYNCDB</b> }
<br>
Location a package object was loaded from. <br>
enum <b>alpm_pkgvalidation_t</b> {
<b>ALPM_PKG_VALIDATION_UNKNOWN</b> = 0,
<b>ALPM_PKG_VALIDATION_NONE</b> = (1 &lt;&lt; 0),
<b>ALPM_PKG_VALIDATION_MD5SUM</b> = (1 &lt;&lt; 1),
<b>ALPM_PKG_VALIDATION_SHA256SUM</b> = (1 &lt;&lt; 2),
<b>ALPM_PKG_VALIDATION_SIGNATURE</b> = (1 &lt;&lt; 3) } <br>
Method used to validate a package.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Functions</b></p>

<p style="margin-left:17%;">int <b>alpm_pkg_load</b>
(<b>alpm_handle_t</b> *handle, const char *filename, int
full, int level, <b>alpm_pkg_t</b> **pkg) <br>
Create a package from a file. <br>
int <b>alpm_fetch_pkgurl</b> (<b>alpm_handle_t</b> *handle,
const <b>alpm_list_t</b> *urls, <b>alpm_list_t</b>
**fetched) <br>
Fetch a list of remote packages. <b><br>
alpm_pkg_t</b> * <b>alpm_pkg_find</b> (<b>alpm_list_t</b>
*haystack, const char *needle) <br>
Find a package in a list by name. <br>
int <b>alpm_pkg_free</b> (<b>alpm_pkg_t</b> *pkg) <br>
Free a package. <br>
int <b>alpm_pkg_checkmd5sum</b> (<b>alpm_pkg_t</b> *pkg)
<br>
Check the integrity (with md5) of a package from the sync
cache. <br>
int <b>alpm_pkg_vercmp</b> (const char *a, const char *b)
<br>
Compare two version strings and determine which one is
&rsquo;newer&rsquo;. <b><br>
alpm_list_t</b> * <b>alpm_pkg_compute_requiredby</b>
(<b>alpm_pkg_t</b> *pkg) <br>
Computes the list of packages requiring a given package.
<b><br>
alpm_list_t</b> * <b>alpm_pkg_compute_optionalfor</b>
(<b>alpm_pkg_t</b> *pkg) <br>
Computes the list of packages optionally requiring a given
package. <br>
int <b>alpm_pkg_should_ignore</b> (<b>alpm_handle_t</b>
*handle, <b>alpm_pkg_t</b> *pkg) <br>
Test if a package should be ignored.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Package
Property Accessors</b> <br>
Any pointer returned by these functions points to internal
structures allocated by libalpm.</p>

<p style="margin-left:11%; margin-top: 1em">They should not
be freed nor modified in any way.</p>

<p style="margin-left:11%; margin-top: 1em">For loaded
packages, they will be freed when <b>alpm_pkg_free</b> is
called. For database packages, they will be freed when the
database is unregistered.</p>

<p style="margin-left:17%;">const char *
<b>alpm_pkg_get_filename</b> (<b>alpm_pkg_t</b> *pkg) <br>
Gets the name of the file from which the package was loaded.
<br>
const char * <b>alpm_pkg_get_base</b> (<b>alpm_pkg_t</b>
*pkg) <br>
Returns the package base name. <br>
const char * <b>alpm_pkg_get_name</b> (<b>alpm_pkg_t</b>
*pkg) <br>
Returns the package name. <br>
const char * <b>alpm_pkg_get_version</b> (<b>alpm_pkg_t</b>
*pkg) <br>
Returns the package version as a string. <b><br>
alpm_pkgfrom_t alpm_pkg_get_origin</b> (<b>alpm_pkg_t</b>
*pkg) <br>
Returns the origin of the package. <br>
const char * <b>alpm_pkg_get_desc</b> (<b>alpm_pkg_t</b>
*pkg) <br>
Returns the package description. <br>
const char * <b>alpm_pkg_get_url</b> (<b>alpm_pkg_t</b>
*pkg) <br>
Returns the package URL. <b><br>
alpm_time_t alpm_pkg_get_builddate</b> (<b>alpm_pkg_t</b>
*pkg) <br>
Returns the build timestamp of the package. <b><br>
alpm_time_t alpm_pkg_get_installdate</b> (<b>alpm_pkg_t</b>
*pkg) <br>
Returns the install timestamp of the package. <br>
const char * <b>alpm_pkg_get_packager</b> (<b>alpm_pkg_t</b>
*pkg) <br>
Returns the packager&rsquo;s name. <br>
const char * <b>alpm_pkg_get_md5sum</b> (<b>alpm_pkg_t</b>
*pkg) <br>
Returns the package&rsquo;s MD5 checksum as a string. <br>
const char * <b>alpm_pkg_get_sha256sum</b>
(<b>alpm_pkg_t</b> *pkg) <br>
Returns the package&rsquo;s SHA256 checksum as a string.
<br>
const char * <b>alpm_pkg_get_arch</b> (<b>alpm_pkg_t</b>
*pkg) <br>
Returns the architecture for which the package was built.
<br>
off_t <b>alpm_pkg_get_size</b> (<b>alpm_pkg_t</b> *pkg) <br>
Returns the size of the package. <br>
off_t <b>alpm_pkg_get_isize</b> (<b>alpm_pkg_t</b> *pkg)
<br>
Returns the installed size of the package. <b><br>
alpm_pkgreason_t alpm_pkg_get_reason</b> (<b>alpm_pkg_t</b>
*pkg) <br>
Returns the package installation reason. <b><br>
alpm_list_t</b> * <b>alpm_pkg_get_licenses</b>
(<b>alpm_pkg_t</b> *pkg) <br>
Returns the list of package licenses. <b><br>
alpm_list_t</b> * <b>alpm_pkg_get_groups</b>
(<b>alpm_pkg_t</b> *pkg) <br>
Returns the list of package groups. <b><br>
alpm_list_t</b> * <b>alpm_pkg_get_depends</b>
(<b>alpm_pkg_t</b> *pkg) <br>
Returns the list of package dependencies as
<b>alpm_depend_t</b>. <b><br>
alpm_list_t</b> * <b>alpm_pkg_get_optdepends</b>
(<b>alpm_pkg_t</b> *pkg) <br>
Returns the list of package optional dependencies. <b><br>
alpm_list_t</b> * <b>alpm_pkg_get_checkdepends</b>
(<b>alpm_pkg_t</b> *pkg) <br>
Returns a list of package check dependencies. <b><br>
alpm_list_t</b> * <b>alpm_pkg_get_makedepends</b>
(<b>alpm_pkg_t</b> *pkg) <br>
Returns a list of package make dependencies. <b><br>
alpm_list_t</b> * <b>alpm_pkg_get_conflicts</b>
(<b>alpm_pkg_t</b> *pkg) <br>
Returns the list of packages conflicting with pkg. <b><br>
alpm_list_t</b> * <b>alpm_pkg_get_provides</b>
(<b>alpm_pkg_t</b> *pkg) <br>
Returns the list of packages provided by pkg. <b><br>
alpm_list_t</b> * <b>alpm_pkg_get_replaces</b>
(<b>alpm_pkg_t</b> *pkg) <br>
Returns the list of packages to be replaced by pkg. <b><br>
alpm_filelist_t</b> * <b>alpm_pkg_get_files</b>
(<b>alpm_pkg_t</b> *pkg) <br>
Returns the list of files installed by pkg. <b><br>
alpm_list_t</b> * <b>alpm_pkg_get_backup</b>
(<b>alpm_pkg_t</b> *pkg) <br>
Returns the list of files backed up when installing pkg.
<b><br>
alpm_db_t</b> * <b>alpm_pkg_get_db</b> (<b>alpm_pkg_t</b>
*pkg) <br>
Returns the database containing pkg. <br>
const char * <b>alpm_pkg_get_base64_sig</b>
(<b>alpm_pkg_t</b> *pkg) <br>
Returns the base64 encoded package signature. <br>
int <b>alpm_pkg_get_sig</b> (<b>alpm_pkg_t</b> *pkg,
unsigned char **sig, size_t *sig_len) <br>
Extracts package signature either from embedded package
signature or if it is absent then reads data from detached
signature file. <br>
int <b>alpm_pkg_get_validation</b> (<b>alpm_pkg_t</b> *pkg)
<br>
Returns the method used to validate a package during
install. <br>
int <b>alpm_pkg_has_scriptlet</b> (<b>alpm_pkg_t</b> *pkg)
<br>
Returns whether the package has an install scriptlet. <br>
off_t <b>alpm_pkg_download_size</b> (<b>alpm_pkg_t</b>
*newpkg) <br>
Returns the size of the files that will be downloaded to
install a package. <br>
int <b>alpm_pkg_set_reason</b> (<b>alpm_pkg_t</b> *pkg,
<b>alpm_pkgreason_t</b> reason) <br>
Set install reason for a package in the local database.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Changelog
functions</b> <br>
Functions for reading the changelog</p>

<p style="margin-left:17%;">void *
<b>alpm_pkg_changelog_open</b> (<b>alpm_pkg_t</b> *pkg) <br>
Open a package changelog for reading. <br>
size_t <b>alpm_pkg_changelog_read</b> (void *ptr, size_t
size, const <b>alpm_pkg_t</b> *pkg, void *fp) <br>
Read data from an open changelog &rsquo;file stream&rsquo;.
<br>
int <b>alpm_pkg_changelog_close</b> (const <b>alpm_pkg_t</b>
*pkg, void *fp) <br>
Close a package changelog for reading.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Mtree
functions</b> <br>
Functions for reading the mtree</p>

<p style="margin-left:17%;">struct archive *
<b>alpm_pkg_mtree_open</b> (<b>alpm_pkg_t</b> *pkg) <br>
Open a package mtree file for reading. <br>
int <b>alpm_pkg_mtree_next</b> (const <b>alpm_pkg_t</b>
*pkg, struct archive *archive, struct archive_entry **entry)
<br>
Read next entry from a package mtree file. <br>
int <b>alpm_pkg_mtree_close</b> (const <b>alpm_pkg_t</b>
*pkg, struct archive *archive) <br>
Close a package mtree file.</p>

<h2>Detailed Description
<a name="Detailed Description"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Functions to
manipulate libalpm packages.</p>

<h2>Typedef Documentation
<a name="Typedef Documentation"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>typedef
struct __alpm_pkg_t alpm_pkg_t</b> <br>
A package. A package can be loaded from disk via
<b>alpm_pkg_load</b> or retrieved from a database. Packages
from databases are automatically freed when the database is
unregistered. Packages loaded from a file must be freed
manually.</p>

<p style="margin-left:11%; margin-top: 1em">Packages can
then be queried for metadata or added to a
<b>transaction</b> to be added or removed from the
system.</p>

<h2>Enumeration Type Documentation
<a name="Enumeration Type Documentation"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>enum
alpm_pkgfrom_t</b> <br>
Location a package object was loaded from.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Enumerator</b>
<i><br>
ALPM_PKG_FROM_FILE</i></p>

<p style="margin-left:22%;">Loaded from a file via
<b>alpm_pkg_load</b>.</p>


<p style="margin-left:11%;"><i>ALPM_PKG_FROM_LOCALDB</i></p>

<p style="margin-left:22%;">From the local database.</p>


<p style="margin-left:11%;"><i>ALPM_PKG_FROM_SYNCDB</i></p>

<p style="margin-left:22%;">From a sync database.</p>

<p style="margin-left:11%; margin-top: 1em"><b>enum
alpm_pkgreason_t</b> <br>
Package install reasons.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Enumerator</b>
<i><br>
ALPM_PKG_REASON_EXPLICIT</i></p>

<p style="margin-left:22%;">Explicitly requested by the
user.</p>


<p style="margin-left:11%;"><i>ALPM_PKG_REASON_DEPEND</i></p>

<p style="margin-left:22%;">Installed as a dependency for
another package.</p>

<p style="margin-left:11%; margin-top: 1em"><b>enum
alpm_pkgvalidation_t</b> <br>
Method used to validate a package.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Enumerator</b>
<i><br>
ALPM_PKG_VALIDATION_UNKNOWN</i></p>

<p style="margin-left:22%;">The package&rsquo;s validation
type is unknown.</p>


<p style="margin-left:11%;"><i>ALPM_PKG_VALIDATION_NONE</i></p>

<p style="margin-left:22%;">The package does not have any
validation.</p>


<p style="margin-left:11%;"><i>ALPM_PKG_VALIDATION_MD5SUM</i></p>

<p style="margin-left:22%;">The package is validated with
md5.</p>


<p style="margin-left:11%;"><i>ALPM_PKG_VALIDATION_SHA256SUM</i></p>

<p style="margin-left:22%;">The package is validated with
sha256.</p>


<p style="margin-left:11%;"><i>ALPM_PKG_VALIDATION_SIGNATURE</i></p>

<p style="margin-left:22%;">The package is validated with a
PGP signature.</p>

<h2>Function Documentation
<a name="Function Documentation"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>int
alpm_fetch_pkgurl (alpm_handle_t * handle, const alpm_list_t
* urls, alpm_list_t ** fetched)</b> <br>
Fetch a list of remote packages.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>handle</i> the context
handle <i><br>
urls</i> list of package URLs to download <i><br>
fetched</i> list of filepaths to the fetched packages, each
item corresponds to one in <tt>urls</tt> list. This is an
output parameter, the caller should provide a pointer to an
empty list (*fetched === NULL) and the callee fills the list
with data.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">0 on success or -1 on
failure</p>

<p style="margin-left:11%; margin-top: 1em"><b>int
alpm_pkg_changelog_close (const alpm_pkg_t * pkg, void *
fp)</b> <br>
Close a package changelog for reading.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> the package to close
the changelog of (either file or db) <i><br>
fp</i> the &rsquo;file stream&rsquo; to the package
changelog to close</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">0 on success, -1 on error</p>

<p style="margin-left:11%; margin-top: 1em"><b>void *
alpm_pkg_changelog_open (alpm_pkg_t * pkg)</b> <br>
Open a package changelog for reading. Similar to fopen in
functionality, except that the returned &rsquo;file
stream&rsquo; could really be from an archive as well as
from the database.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> the package to read
the changelog of (either file or db)</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">a &rsquo;file stream&rsquo; to
the package changelog</p>

<p style="margin-left:11%; margin-top: 1em"><b>size_t
alpm_pkg_changelog_read (void * ptr, size_t size, const
alpm_pkg_t * pkg, void * fp)</b> <br>
Read data from an open changelog &rsquo;file stream&rsquo;.
Similar to fread in functionality, this function takes a
buffer and amount of data to read. If an error occurs
pm_errno will be set.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>ptr</i> a buffer to fill
with raw changelog data <i><br>
size</i> the size of the buffer <i><br>
pkg</i> the package that the changelog is being read from
<i><br>
fp</i> a &rsquo;file stream&rsquo; to the package
changelog</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">the number of characters read,
or 0 if there is no more data or an error occurred.</p>

<p style="margin-left:11%; margin-top: 1em"><b>int
alpm_pkg_checkmd5sum (alpm_pkg_t * pkg)</b> <br>
Check the integrity (with md5) of a package from the sync
cache.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> package pointer</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">0 on success, -1 on error
(pm_errno is set accordingly)</p>

<p style="margin-left:11%; margin-top: 1em"><b>alpm_list_t
* alpm_pkg_compute_optionalfor (alpm_pkg_t * pkg)</b> <br>
Computes the list of packages optionally requiring a given
package. The return value of this function is a newly
allocated list of package names (char*), it should be freed
by the caller.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">the list of packages optionally
requiring pkg</p>

<p style="margin-left:11%; margin-top: 1em"><b>alpm_list_t
* alpm_pkg_compute_requiredby (alpm_pkg_t * pkg)</b> <br>
Computes the list of packages requiring a given package. The
return value of this function is a newly allocated list of
package names (char*), it should be freed by the caller.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">the list of packages requiring
pkg</p>

<p style="margin-left:11%; margin-top: 1em"><b>off_t
alpm_pkg_download_size (alpm_pkg_t * newpkg)</b> <br>
Returns the size of the files that will be downloaded to
install a package.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>newpkg</i> the new package
to upgrade to</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">the size of the download</p>

<p style="margin-left:11%; margin-top: 1em"><b>alpm_pkg_t *
alpm_pkg_find (alpm_list_t * haystack, const char *
needle)</b> <br>
Find a package in a list by name.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>haystack</i> a list of
alpm_pkg_t <i><br>
needle</i> the package name</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">a pointer to the package if
found or NULL</p>

<p style="margin-left:11%; margin-top: 1em"><b>int
alpm_pkg_free (alpm_pkg_t * pkg)</b> <br>
Free a package. Only packages loaded with
<b>alpm_pkg_load</b> can be freed. Packages from databases
will be freed by libalpm when they are unregistered.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> package pointer to
free</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">0 on success, -1 on error
(pm_errno is set accordingly)</p>

<p style="margin-left:11%; margin-top: 1em"><b>const char *
alpm_pkg_get_arch (alpm_pkg_t * pkg)</b> <br>
Returns the architecture for which the package was
built.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">a reference to an internal
string</p>

<p style="margin-left:11%; margin-top: 1em"><b>alpm_list_t
* alpm_pkg_get_backup (alpm_pkg_t * pkg)</b> <br>
Returns the list of files backed up when installing pkg.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">a reference to a list of
<b>alpm_backup_t</b> objects</p>

<p style="margin-left:11%; margin-top: 1em"><b>const char *
alpm_pkg_get_base (alpm_pkg_t * pkg)</b> <br>
Returns the package base name.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">a reference to an internal
string</p>

<p style="margin-left:11%; margin-top: 1em"><b>const char *
alpm_pkg_get_base64_sig (alpm_pkg_t * pkg)</b> <br>
Returns the base64 encoded package signature.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">a reference to an internal
string</p>

<p style="margin-left:11%; margin-top: 1em"><b>alpm_time_t
alpm_pkg_get_builddate (alpm_pkg_t * pkg)</b> <br>
Returns the build timestamp of the package.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">the timestamp of the build
time</p>

<p style="margin-left:11%; margin-top: 1em"><b>alpm_list_t
* alpm_pkg_get_checkdepends (alpm_pkg_t * pkg)</b> <br>
Returns a list of package check dependencies.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">a reference to an internal list
of <b>alpm_depend_t</b> structures.</p>

<p style="margin-left:11%; margin-top: 1em"><b>alpm_list_t
* alpm_pkg_get_conflicts (alpm_pkg_t * pkg)</b> <br>
Returns the list of packages conflicting with pkg.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">a reference to an internal list
of <b>alpm_depend_t</b> structures.</p>

<p style="margin-left:11%; margin-top: 1em"><b>alpm_db_t *
alpm_pkg_get_db (alpm_pkg_t * pkg)</b> <br>
Returns the database containing pkg. Returns a pointer to
the alpm_db_t structure the package is originating from, or
NULL if the package was loaded from a file.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">a pointer to the DB containing
pkg, or NULL.</p>

<p style="margin-left:11%; margin-top: 1em"><b>alpm_list_t
* alpm_pkg_get_depends (alpm_pkg_t * pkg)</b> <br>
Returns the list of package dependencies as
<b>alpm_depend_t</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">a reference to an internal list
of <b>alpm_depend_t</b> structures.</p>

<p style="margin-left:11%; margin-top: 1em"><b>const char *
alpm_pkg_get_desc (alpm_pkg_t * pkg)</b> <br>
Returns the package description.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">a reference to an internal
string</p>

<p style="margin-left:11%; margin-top: 1em"><b>const char *
alpm_pkg_get_filename (alpm_pkg_t * pkg)</b> <br>
Gets the name of the file from which the package was
loaded.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">a reference to an internal
string</p>


<p style="margin-left:11%; margin-top: 1em"><b>alpm_filelist_t
* alpm_pkg_get_files (alpm_pkg_t * pkg)</b> <br>
Returns the list of files installed by pkg. The filenames
are relative to the install root, and do not include leading
slashes.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">a pointer to a filelist object
containing a count and an array of package file objects</p>

<p style="margin-left:11%; margin-top: 1em"><b>alpm_list_t
* alpm_pkg_get_groups (alpm_pkg_t * pkg)</b> <br>
Returns the list of package groups.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">a pointer to an internal list
of strings.</p>

<p style="margin-left:11%; margin-top: 1em"><b>alpm_time_t
alpm_pkg_get_installdate (alpm_pkg_t * pkg)</b> <br>
Returns the install timestamp of the package.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">the timestamp of the install
time</p>

<p style="margin-left:11%; margin-top: 1em"><b>off_t
alpm_pkg_get_isize (alpm_pkg_t * pkg)</b> <br>
Returns the installed size of the package.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">the total size of files
installed by the package.</p>

<p style="margin-left:11%; margin-top: 1em"><b>alpm_list_t
* alpm_pkg_get_licenses (alpm_pkg_t * pkg)</b> <br>
Returns the list of package licenses.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">a pointer to an internal list
of strings.</p>

<p style="margin-left:11%; margin-top: 1em"><b>alpm_list_t
* alpm_pkg_get_makedepends (alpm_pkg_t * pkg)</b> <br>
Returns a list of package make dependencies.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">a reference to an internal list
of <b>alpm_depend_t</b> structures.</p>

<p style="margin-left:11%; margin-top: 1em"><b>const char *
alpm_pkg_get_md5sum (alpm_pkg_t * pkg)</b> <br>
Returns the package&rsquo;s MD5 checksum as a string. The
returned string is a sequence of 32 lowercase hexadecimal
digits.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">a reference to an internal
string</p>

<p style="margin-left:11%; margin-top: 1em"><b>const char *
alpm_pkg_get_name (alpm_pkg_t * pkg)</b> <br>
Returns the package name.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">a reference to an internal
string</p>

<p style="margin-left:11%; margin-top: 1em"><b>alpm_list_t
* alpm_pkg_get_optdepends (alpm_pkg_t * pkg)</b> <br>
Returns the list of package optional dependencies.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">a reference to an internal list
of <b>alpm_depend_t</b> structures.</p>


<p style="margin-left:11%; margin-top: 1em"><b>alpm_pkgfrom_t
alpm_pkg_get_origin (alpm_pkg_t * pkg)</b> <br>
Returns the origin of the package.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">an alpm_pkgfrom_t constant, -1
on error</p>

<p style="margin-left:11%; margin-top: 1em"><b>const char *
alpm_pkg_get_packager (alpm_pkg_t * pkg)</b> <br>
Returns the packager&rsquo;s name.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">a reference to an internal
string</p>

<p style="margin-left:11%; margin-top: 1em"><b>alpm_list_t
* alpm_pkg_get_provides (alpm_pkg_t * pkg)</b> <br>
Returns the list of packages provided by pkg.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">a reference to an internal list
of <b>alpm_depend_t</b> structures.</p>


<p style="margin-left:11%; margin-top: 1em"><b>alpm_pkgreason_t
alpm_pkg_get_reason (alpm_pkg_t * pkg)</b> <br>
Returns the package installation reason.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">an enum member giving the
install reason.</p>

<p style="margin-left:11%; margin-top: 1em"><b>alpm_list_t
* alpm_pkg_get_replaces (alpm_pkg_t * pkg)</b> <br>
Returns the list of packages to be replaced by pkg.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">a reference to an internal list
of <b>alpm_depend_t</b> structures.</p>

<p style="margin-left:11%; margin-top: 1em"><b>const char *
alpm_pkg_get_sha256sum (alpm_pkg_t * pkg)</b> <br>
Returns the package&rsquo;s SHA256 checksum as a string. The
returned string is a sequence of 64 lowercase hexadecimal
digits.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">a reference to an internal
string</p>

<p style="margin-left:11%; margin-top: 1em"><b>int
alpm_pkg_get_sig (alpm_pkg_t * pkg, unsigned char ** sig,
size_t * sig_len)</b> <br>
Extracts package signature either from embedded package
signature or if it is absent then reads data from detached
signature file.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package. <i><br>
sig</i> output parameter for signature data. Callee function
allocates a buffer needed for the signature data. Caller is
responsible for freeing this buffer. <i><br>
sig_len</i> output parameter for the signature data
length.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">0 on success, negative number
on error.</p>

<p style="margin-left:11%; margin-top: 1em"><b>off_t
alpm_pkg_get_size (alpm_pkg_t * pkg)</b> <br>
Returns the size of the package. This is only available for
sync database packages and package files, not those loaded
from the local database.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">the size of the package in
bytes.</p>

<p style="margin-left:11%; margin-top: 1em"><b>const char *
alpm_pkg_get_url (alpm_pkg_t * pkg)</b> <br>
Returns the package URL.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">a reference to an internal
string</p>

<p style="margin-left:11%; margin-top: 1em"><b>int
alpm_pkg_get_validation (alpm_pkg_t * pkg)</b> <br>
Returns the method used to validate a package during
install.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">an enum member giving the
validation method</p>

<p style="margin-left:11%; margin-top: 1em"><b>const char *
alpm_pkg_get_version (alpm_pkg_t * pkg)</b> <br>
Returns the package version as a string. This includes all
available epoch, version, and pkgrel components. Use
<b>alpm_pkg_vercmp()</b> to compare version strings if
necessary.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> a pointer to
package</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">a reference to an internal
string</p>

<p style="margin-left:11%; margin-top: 1em"><b>int
alpm_pkg_has_scriptlet (alpm_pkg_t * pkg)</b> <br>
Returns whether the package has an install scriptlet.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">0 if FALSE, TRUE otherwise</p>

<p style="margin-left:11%; margin-top: 1em"><b>int
alpm_pkg_load (alpm_handle_t * handle, const char *
filename, int full, int level, alpm_pkg_t ** pkg)</b> <br>
Create a package from a file. If full is false, the archive
is read only until all necessary metadata is found. If it is
true, the entire archive is read, which serves as a
verification of integrity and the filelist can be created.
The allocated structure should be freed using
<b>alpm_pkg_free()</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>handle</i> the context
handle <i><br>
filename</i> location of the package tarball <i><br>
full</i> whether to stop the load after metadata is read or
continue through the full archive <i><br>
level</i> what level of package signature checking to
perform on the package; note that this must be a
&rsquo;.sig&rsquo; file type verification <i><br>
pkg</i> address of the package pointer</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">0 on success, -1 on error
(pm_errno is set accordingly)</p>

<p style="margin-left:11%; margin-top: 1em"><b>int
alpm_pkg_mtree_close (const alpm_pkg_t * pkg, struct archive
* archive)</b> <br>
Close a package mtree file.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> the local package to
close the mtree of <i><br>
archive</i> the archive to close</p>

<p style="margin-left:11%; margin-top: 1em"><b>int
alpm_pkg_mtree_next (const alpm_pkg_t * pkg, struct archive
* archive, struct archive_entry ** entry)</b> <br>
Read next entry from a package mtree file.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> the package that the
mtree file is being read from <i><br>
archive</i> the archive structure reading from the mtree
file <i><br>
entry</i> an archive_entry to store the entry header
information</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">0 on success, 1 if end of
archive is reached, -1 otherwise.</p>

<p style="margin-left:11%; margin-top: 1em"><b>struct
archive * alpm_pkg_mtree_open (alpm_pkg_t * pkg)</b> <br>
Open a package mtree file for reading.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> the local package to
read the mtree of</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">an archive structure for the
package mtree file</p>

<p style="margin-left:11%; margin-top: 1em"><b>int
alpm_pkg_set_reason (alpm_pkg_t * pkg, alpm_pkgreason_t
reason)</b> <br>
Set install reason for a package in the local database. The
provided package object must be from the local database or
this method will fail. The write to the local database is
performed immediately.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>pkg</i> the package to
update <i><br>
reason</i> the new install reason</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">0 on success, -1 on error
(pm_errno is set accordingly)</p>

<p style="margin-left:11%; margin-top: 1em"><b>int
alpm_pkg_should_ignore (alpm_handle_t * handle, alpm_pkg_t *
pkg)</b> <br>
Test if a package should be ignored. Checks if the package
is ignored via IgnorePkg, or if the package is in a group
ignored via IgnoreGroup.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>handle</i> the context
handle <i><br>
pkg</i> the package to test</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">1 if the package should be
ignored, 0 otherwise</p>

<p style="margin-left:11%; margin-top: 1em"><b>int
alpm_pkg_vercmp (const char * a, const char * b)</b> <br>
Compare two version strings and determine which one is
&rsquo;newer&rsquo;. Returns a value comparable to the way
strcmp works. Returns 1 if a is newer than b, 0 if a and b
are the same version, or -1 if b is newer than a.</p>

<p style="margin-left:11%; margin-top: 1em">Different epoch
values for version strings will override any further
comparison. If no epoch is provided, 0 is assumed.</p>

<p style="margin-left:11%; margin-top: 1em">Keep in mind
that the pkgrel is only compared if it is available on both
versions handed to this function. For example, comparing
1.5-1 and 1.5 will yield 0; comparing 1.5-1 and 1.5-2 will
yield -1 as expected. This is mainly for supporting
versioned dependencies that do not include the pkgrel.</p>

<h2>Author
<a name="Author"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Generated
automatically by Doxygen for libalpm from the source
code.</p>
<hr>
</body>
</html>
