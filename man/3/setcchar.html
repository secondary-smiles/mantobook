<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:56:02 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>curs_getcchar</title>

</head>
<body>
<h1>setcchar</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>getcchar</b>,
<b>setcchar</b> &minus; Get a wide character string and
rendition from a <b>cchar_t</b> or set a <b>cchar_t</b> from
a wide-character string</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;curses.h&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
getcchar( <br>
const cchar_t *</b><i>wcval</i><b>, <br>
wchar_t *</b><i>wch</i><b>, <br>
attr_t *</b><i>attrs</i><b>, <br>
short *</b><i>color_pair</i><b>, <br>
void *</b><i>opts</i> <b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
setcchar( <br>
cchar_t *</b><i>wcval</i><b>, <br>
const wchar_t *</b><i>wch</i><b>, <br>
const attr_t</b> <i>attrs</i><b>, <br>
short</b> <i>color_pair</i><b>, <br>
const void *</b><i>opts</i> <b>);</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>getcchar</b>
<br>
The <b>getcchar</b> function gets a wide-character string
and rendition from a <b>cchar_t</b> argument. When
<i>wch</i> is not a null pointer, the <b>getcchar</b>
function does the following:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Extracts information from a <b>cchar_t</b> value
<i>wcval</i></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Stores the character attributes in the location pointed
to by <i>attrs</i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Stores the color-pair in the location pointed to by
<i>color_pair</i></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Stores the wide-character string, characters referenced
by <i>wcval</i>, into the array pointed to by
<i>wch</i>.</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">When <i>wch</i>
is a null pointer, the <b>getcchar</b> function does the
following:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Obtains the number of wide
characters pointed to by <i>wcval</i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Does not change the data referenced by <i>attrs</i> or
<i>color_pair</i></p> </td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><b>setcchar</b>
<br>
The <b>setcchar</b> function initializes the location
pointed to by <i>wcval</i> by using:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The character attributes in
<i>attrs</i></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The color pair in <i>color_pair</i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The wide-character string pointed to by <i>wch</i>. The
string must be L&rsquo;\0&rsquo; terminated, contain at most
one spacing character, which must be the first.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Up to
<b>CCHARW_MAX</b>&minus;1 nonspacing characters may follow.
Additional nonspacing characters are ignored.</p>

<p style="margin-left:17%; margin-top: 1em">The string may
contain a single control character instead. In that case, no
nonspacing characters are allowed.</p>

<h2>EXTENSIONS
<a name="EXTENSIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">X/Open Curses
documents the <i>opts</i> argument as reserved for future
use, saying that it must be null. This implementation uses
that parameter in ABI 6 for the functions which have a
color-pair parameter to support extended color pairs:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">For functions which modify the
color, e.g., <b>setcchar</b>, if <i>opts</i> is set it is
treated as a pointer to <b>int</b>, and used to set the
color pair instead of the <b>short</b> pair parameter.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>For functions which retrieve the color, e.g.,
<b>getcchar</b>, if <i>opts</i> is set it is treated as a
pointer to <b>int</b>, and used to retrieve the color pair
as an <b>int</b> value, in addition retrieving it via the
standard pointer to <b>short</b> parameter.</p></td></tr>
</table>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<i>wcval</i> argument may be a value generated by a call to
<b>setcchar</b> or by a function that has a <b>cchar_t</b>
output argument. If <i>wcval</i> is constructed by any other
means, the effect is unspecified.</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">When <i>wch</i>
is a null pointer, <b>getcchar</b> returns the number of
wide characters referenced by <i>wcval</i>, including one
for a trailing null.</p>

<p style="margin-left:11%; margin-top: 1em">When <i>wch</i>
is not a null pointer, <b>getcchar</b> returns <b>OK</b>
upon successful completion, and <b>ERR</b> otherwise.</p>

<p style="margin-left:11%; margin-top: 1em">Upon successful
completion, <b>setcchar</b> returns <b>OK</b>. Otherwise, it
returns <b>ERR</b>.</p>

<h2>PORTABILITY
<a name="PORTABILITY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>CCHARW_MAX</b> symbol is specific to ncurses. X/Open
Curses does not provide details for the layout of the
<b>cchar_t</b> structure. It tells what data are stored in
it:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">a spacing character
(<b>wchar_t</b>, i.e., 32-bits).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>non-spacing characters (again,
<b>wchar_t</b>&rsquo;s).</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>attributes (at least 16 bits, inferred from the various
ACS- and WACS-flags).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>color pair (at least 16 bits, inferred from the
<b>unsigned short</b> type).</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The non-spacing
characters are optional, in the sense that zero or more may
be stored in a <b>cchar_t</b>. XOpen/Curses specifies a
limit:</p>


<p style="margin-left:17%; margin-top: 1em">Implementations
may limit the number of non-spacing characters that can be
associated with a spacing character, provided any limit is
at least 5.</p>

<p style="margin-left:11%; margin-top: 1em">The Unix
implementations at the time follow that limit:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">AIX&nbsp;4 and OSF1&nbsp;4 use
the same declaration with an array of 5 non-spacing
characters <i>z</i> and a single spacing character
<i>c</i>.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>HP-UX&nbsp;10 uses an opaque structure with 28 bytes,
which is large enough for the 6 <b>wchar_t</b> values.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Solaris <i>xpg4</i> curses uses a single array of 6
<b>wchar_t</b> values.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">This
implementation&rsquo;s <b>cchar_t</b> was defined in 1995
using <b>5</b> for the total of spacing and non-spacing
characters (<b>CCHARW_MAX</b>). That was probably due to a
misreading of the AIX&nbsp;4 header files, because the
X/Open Curses document was not generally available at that
time. Later (in 2002), this detail was overlooked when
beginning to implement the functions using the
structure.</p>

<p style="margin-left:11%; margin-top: 1em">In practice,
even four non-spacing characters may seem enough. X/Open
Curses documents possible uses for non-spacing characters,
including using them for ligatures between characters (a
feature apparently not supported by any curses
implementation). Unicode does not limit the (analogous)
number of combining characters, so some applications may be
affected.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Functions:
<b>curs_attr</b>(3X), <b>curs_color</b>(3X),
<b>curses</b>(3X), <b>wcwidth</b>(3).</p>
<hr>
</body>
</html>
