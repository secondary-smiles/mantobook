<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:54:43 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>DH_GENERATE_PARAMETERS</title>

</head>
<body>
<h1>DH_check_ex</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">DH_generate_parameters_ex,
DH_generate_parameters, DH_check, DH_check_params,
DH_check_ex, DH_check_params_ex, DH_check_pub_key_ex &minus;
generate and check Diffie&minus;Hellman parameters</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">#include
&lt;openssl/dh.h&gt;</p>

<p style="margin-left:11%; margin-top: 1em">The following
functions have been deprecated since OpenSSL 3.0, and can be
hidden entirely by defining
<b><small>OPENSSL_API_COMPAT</small></b> with a suitable
version value, see <b>openssl_user_macros</b>(7):</p>

<p style="margin-left:11%; margin-top: 1em">int
DH_generate_parameters_ex(DH *dh, int prime_len, int
generator, BN_GENCB *cb); <br>
int DH_check(DH *dh, int *codes); <br>
int DH_check_params(DH *dh, int *codes); <br>
int DH_check_ex(const DH *dh); <br>
int DH_check_params_ex(const DH *dh); <br>
int DH_check_pub_key_ex(const DH *dh, const BIGNUM
*pub_key);</p>

<p style="margin-left:11%; margin-top: 1em">The following
functions have been deprecated since OpenSSL 0.9.8, and can
be hidden entirely by defining
<b><small>OPENSSL_API_COMPAT</small></b> with a suitable
version value, see <b>openssl_user_macros</b>(7):</p>

<p style="margin-left:11%; margin-top: 1em">DH
*DH_generate_parameters(int prime_len, int generator, <br>
void (*callback)(int, int, void *), void *cb_arg);</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">All of the
functions described on this page are deprecated.
Applications should instead use <b>EVP_PKEY_check</b>(3),
<b>EVP_PKEY_public_check</b>(3),
<b>EVP_PKEY_private_check</b>(3) and
<b>EVP_PKEY_param_check</b>(3).</p>


<p style="margin-left:11%; margin-top: 1em"><b>DH_generate_parameters_ex()</b>
generates Diffie-Hellman parameters that can be shared among
a group of users, and stores them in the provided
<b><small>DH</small></b> structure. The pseudo-random number
generator must be seeded before calling it. The parameters
generated by <b>DH_generate_parameters_ex()</b> should not
be used in signature schemes.</p>


<p style="margin-left:11%; margin-top: 1em"><b>prime_len</b>
is the length in bits of the safe prime to be generated.
<b>generator</b> is a small number &gt; 1, typically 2 or
5.</p>

<p style="margin-left:11%; margin-top: 1em">A callback
function may be used to provide feedback about the progress
of the key generation. If <b>cb</b> is not
<b><small>NULL</small></b> , it will be called as described
in <b>BN_generate_prime</b>(3) while a random prime number
is generated, and when a prime has been found,
<b>BN_GENCB_call(cb, 3, 0)</b> is called. See
<b>BN_generate_prime_ex</b>(3) for information on the
<b>BN_GENCB_call()</b> function.</p>


<p style="margin-left:11%; margin-top: 1em"><b>DH_generate_parameters()</b>
is similar to <b>DH_generate_prime_ex()</b> but expects an
old-style callback function; see <b>BN_generate_prime</b>(3)
for information on the old-style callback.</p>


<p style="margin-left:11%; margin-top: 1em"><b>DH_check_params()</b>
confirms that the <b>p</b> and <b>g</b> are likely enough to
be valid. This is a lightweight check, if a more thorough
check is needed, use <b>DH_check()</b>. The value of
<b>*codes</b> is updated with any problems found. If
<b>*codes</b> is zero then no problems were found, otherwise
the following bits may be set: <small><br>
DH_CHECK_P_NOT_PRIME</small></p>

<p style="margin-left:17%;">The parameter <b>p</b> has been
determined to not being an odd prime. Note that the lack of
this bit doesn&rsquo;t guarantee that <b>p</b> is a
prime.</p>


<p style="margin-left:11%;"><small>DH_NOT_SUITABLE_GENERATOR</small></p>

<p style="margin-left:17%;">The generator <b>g</b> is not
suitable. Note that the lack of this bit doesn&rsquo;t
guarantee that <b>g</b> is suitable, unless <b>p</b> is
known to be a strong prime.</p>


<p style="margin-left:11%;"><small>DH_MODULUS_TOO_SMALL</small></p>

<p style="margin-left:17%;">The modulus is too small.</p>


<p style="margin-left:11%;"><small>DH_MODULUS_TOO_LARGE</small></p>

<p style="margin-left:17%;">The modulus is too large.</p>


<p style="margin-left:11%; margin-top: 1em"><b>DH_check()</b>
confirms that the Diffie-Hellman parameters <b>dh</b> are
valid. The value of <b>*codes</b> is updated with any
problems found. If <b>*codes</b> is zero then no problems
were found, otherwise the following bits may be set:
<small><br>
DH_CHECK_P_NOT_PRIME</small></p>

<p style="margin-left:17%;">The parameter <b>p</b> is not
prime.</p>


<p style="margin-left:11%;"><small>DH_CHECK_P_NOT_SAFE_PRIME</small></p>

<p style="margin-left:17%;">The parameter <b>p</b> is not a
safe prime and no <b>q</b> value is present.</p>


<p style="margin-left:11%;"><small>DH_UNABLE_TO_CHECK_GENERATOR</small></p>

<p style="margin-left:17%;">The generator <b>g</b> cannot
be checked for suitability.</p>


<p style="margin-left:11%;"><small>DH_NOT_SUITABLE_GENERATOR</small></p>

<p style="margin-left:17%;">The generator <b>g</b> is not
suitable.</p>


<p style="margin-left:11%;"><small>DH_CHECK_Q_NOT_PRIME</small></p>

<p style="margin-left:17%;">The parameter <b>q</b> is not
prime.</p>


<p style="margin-left:11%;"><small>DH_CHECK_INVALID_Q_VALUE</small></p>

<p style="margin-left:17%;">The parameter <b>q</b> is
invalid.</p>


<p style="margin-left:11%;"><small>DH_CHECK_INVALID_J_VALUE</small></p>

<p style="margin-left:17%;">The parameter <b>j</b> is
invalid.</p>


<p style="margin-left:11%; margin-top: 1em"><b>DH_check_ex()</b>,
<b>DH_check_params()</b> and <b>DH_check_pub_key_ex()</b>
are similar to <b>DH_check()</b> and
<b>DH_check_params()</b> respectively, but the error reasons
are added to the thread&rsquo;s error queue instead of
provided as return values from the function.</p>

<h2>RETURN VALUES
<a name="RETURN VALUES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>DH_generate_parameters_ex()</b>,
<b>DH_check()</b> and <b>DH_check_params()</b> return 1 if
the check could be performed, 0 otherwise.</p>


<p style="margin-left:11%; margin-top: 1em"><b>DH_generate_parameters()</b>
returns a pointer to the <small>DH</small> structure or
<small>NULL</small> if the parameter generation fails.</p>


<p style="margin-left:11%; margin-top: 1em"><b>DH_check_ex()</b>,
<b>DH_check_params()</b> and <b>DH_check_pub_key_ex()</b>
return 1 if the check is successful, 0 for failed.</p>

<p style="margin-left:11%; margin-top: 1em">The error codes
can be obtained by <b>ERR_get_error</b>(3).</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>DH_new</b>(3),
<b>ERR_get_error</b>(3), <b>RAND_bytes</b>(3),
<b>DH_free</b>(3)</p>

<h2>HISTORY
<a name="HISTORY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">All of these
functions were deprecated in OpenSSL 3.0.</p>


<p style="margin-left:11%; margin-top: 1em"><b>DH_generate_parameters()</b>
was deprecated in OpenSSL 0.9.8; use
<b>DH_generate_parameters_ex()</b> instead.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright
2000&minus;2021 The OpenSSL Project Authors. All Rights
Reserved.</p>

<p style="margin-left:11%; margin-top: 1em">Licensed under
the Apache License 2.0 (the &quot;License&quot;). You may
not use this file except in compliance with the License. You
can obtain a copy in the file <small>LICENSE</small> in the
source distribution or at
&lt;https://www.openssl.org/source/license.html&gt;.</p>
<hr>
</body>
</html>
