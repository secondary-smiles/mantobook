<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:56:28 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>X509_PUBKEY_NEW</title>

</head>
<body>
<h1>X509_PUBKEY_eq</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">X509_PUBKEY_new_ex,
X509_PUBKEY_new, X509_PUBKEY_free, X509_PUBKEY_dup,
X509_PUBKEY_set, X509_PUBKEY_get0, X509_PUBKEY_get,
d2i_PUBKEY_ex, d2i_PUBKEY, i2d_PUBKEY, d2i_PUBKEY_bio,
d2i_PUBKEY_fp, i2d_PUBKEY_fp, i2d_PUBKEY_bio,
X509_PUBKEY_set0_param, X509_PUBKEY_get0_param,
X509_PUBKEY_eq &minus; SubjectPublicKeyInfo public key
functions</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">#include
&lt;openssl/x509.h&gt; <br>
X509_PUBKEY *X509_PUBKEY_new_ex(OSSL_LIB_CTX *libctx, const
char *propq); <br>
X509_PUBKEY *X509_PUBKEY_new(void); <br>
void X509_PUBKEY_free(X509_PUBKEY *a); <br>
X509_PUBKEY *X509_PUBKEY_dup(const X509_PUBKEY *a); <br>
int X509_PUBKEY_set(X509_PUBKEY **x, EVP_PKEY *pkey); <br>
EVP_PKEY *X509_PUBKEY_get0(const X509_PUBKEY *key); <br>
EVP_PKEY *X509_PUBKEY_get(const X509_PUBKEY *key); <br>
EVP_PKEY *d2i_PUBKEY_ex(EVP_PKEY **a, const unsigned char
**pp, long length, <br>
OSSL_LIB_CTX *libctx, const char *propq); <br>
EVP_PKEY *d2i_PUBKEY(EVP_PKEY **a, const unsigned char **pp,
long length); <br>
int i2d_PUBKEY(const EVP_PKEY *a, unsigned char **pp); <br>
EVP_PKEY *d2i_PUBKEY_bio(BIO *bp, EVP_PKEY **a); <br>
EVP_PKEY *d2i_PUBKEY_fp(FILE *fp, EVP_PKEY **a); <br>
int i2d_PUBKEY_fp(const FILE *fp, EVP_PKEY *pkey); <br>
int i2d_PUBKEY_bio(BIO *bp, const EVP_PKEY *pkey); <br>
int X509_PUBKEY_set0_param(X509_PUBKEY *pub, ASN1_OBJECT
*aobj, <br>
int ptype, void *pval, <br>
unsigned char *penc, int penclen); <br>
int X509_PUBKEY_get0_param(ASN1_OBJECT **ppkalg, <br>
const unsigned char **pk, int *ppklen, <br>
X509_ALGOR **pa, const X509_PUBKEY *pub); <br>
int X509_PUBKEY_eq(X509_PUBKEY *a, X509_PUBKEY *b);</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>X509_PUBKEY</b> structure represents the
<small>ASN.1</small> <b>SubjectPublicKeyInfo</b> structure
defined in <small>RFC5280</small> and used in certificates
and certificate requests.</p>


<p style="margin-left:11%; margin-top: 1em"><b>X509_PUBKEY_new_ex()</b>
allocates and initializes an <b>X509_PUBKEY</b> structure
associated with the given <b><small>OSSL_LIB_CTX</small></b>
in the <i>libctx</i> parameter. Any algorithm fetches
associated with using the <b>X509_PUBKEY</b> object will use
the property query string <i>propq</i>. See &quot;
<small>ALGORITHM FETCHING&quot;</small> in <b>crypto</b>(7)
for further information about algorithm fetching.</p>


<p style="margin-left:11%; margin-top: 1em"><b>X509_PUBKEY_new()</b>
is the same as <b>X509_PUBKEY_new_ex()</b> except that the
default ( <small>NULL</small> )
<b><small>OSSL_LIB_CTX</small></b> and a <small>NULL</small>
property query string are used.</p>


<p style="margin-left:11%; margin-top: 1em"><b>X509_PUBKEY_dup()</b>
creates a duplicate copy of the <b>X509_PUBKEY</b> object
specified by <i>a</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>X509_PUBKEY_free()</b>
frees up <b>X509_PUBKEY</b> structure <i>a</i>. If <i>a</i>
is <small>NULL</small> nothing is done.</p>


<p style="margin-left:11%; margin-top: 1em"><b>X509_PUBKEY_set()</b>
sets the public key in <i>*x</i> to the public key contained
in the <b><small>EVP_PKEY</small></b> structure <i>pkey</i>.
If <i>*x</i> is not <small>NULL</small> any existing public
key structure will be freed.</p>


<p style="margin-left:11%; margin-top: 1em"><b>X509_PUBKEY_get0()</b>
returns the public key contained in <i>key</i>. The returned
value is an internal pointer which <b><small>MUST
NOT</small></b> be freed after use.</p>


<p style="margin-left:11%; margin-top: 1em"><b>X509_PUBKEY_get()</b>
is similar to <b>X509_PUBKEY_get0()</b> except the reference
count on the returned key is incremented so it
<b><small>MUST</small></b> be freed using
<b>EVP_PKEY_free()</b> after use.</p>


<p style="margin-left:11%; margin-top: 1em"><b>d2i_PUBKEY_ex()</b>
decodes an <b><small>EVP_PKEY</small></b> structure using
<b>SubjectPublicKeyInfo</b> format. Some public key decoding
implementations may use cryptographic algorithms. In this
case the supplied library context <i>libctx</i> and property
query string <i>propq</i> are used. <b>d2i_PUBKEY()</b> does
the same as <b>d2i_PUBKEY_ex()</b> except that the default
library context and property query string are used.</p>


<p style="margin-left:11%; margin-top: 1em"><b>i2d_PUBKEY()</b>
encodes an <b><small>EVP_PKEY</small></b> structure using
<b>SubjectPublicKeyInfo</b> format.</p>


<p style="margin-left:11%; margin-top: 1em"><b>d2i_PUBKEY_bio()</b>,
<b>d2i_PUBKEY_fp()</b>, <b>i2d_PUBKEY_bio()</b> and
<b>i2d_PUBKEY_fp()</b> are similar to <b>d2i_PUBKEY()</b>
and <b>i2d_PUBKEY()</b> except they decode or encode using a
<b><small>BIO</small></b> or <b><small>FILE</small></b>
pointer.</p>


<p style="margin-left:11%; margin-top: 1em"><b>X509_PUBKEY_set0_param()</b>
sets the public key parameters of <i>pub</i>. The
<small>OID</small> associated with the algorithm is set to
<i>aobj</i>. The type of the algorithm parameters is set to
<i>type</i> using the structure <i>pval</i>. The encoding of
the public key itself is set to the <i>penclen</i> bytes
contained in buffer <i>penc</i>. On success ownership of all
the supplied parameters is passed to <i>pub</i> so they must
not be freed after the call.</p>


<p style="margin-left:11%; margin-top: 1em"><b>X509_PUBKEY_get0_param()</b>
retrieves the public key parameters from <i>pub</i>,
<i>*ppkalg</i> is set to the associated <small>OID</small>
and the encoding consists of <i>*ppklen</i> bytes at
<i>*pk</i>, <i>*pa</i> is set to the associated
AlgorithmIdentifier for the public key. If the value of any
of these parameters is not required it can be set to
<small>NULL.</small> All of the retrieved pointers are
internal and must not be freed after the call.</p>


<p style="margin-left:11%; margin-top: 1em"><b>X509_PUBKEY_eq()</b>
compares two <b>X509_PUBKEY</b> values.</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>X509_PUBKEY</b> functions can be used to encode and
decode public keys in a standard format.</p>

<p style="margin-left:11%; margin-top: 1em">In many cases
applications will not call the <b>X509_PUBKEY</b> functions
directly: they will instead call wrapper functions such as
<b>X509_get0_pubkey()</b>.</p>

<h2>RETURN VALUES
<a name="RETURN VALUES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If the
allocation fails, <b>X509_PUBKEY_new()</b> and
<b>X509_PUBKEY_dup()</b> return <small>NULL</small> and set
an error code that can be obtained by
<b>ERR_get_error</b>(3). Otherwise they return a pointer to
the newly allocated structure.</p>


<p style="margin-left:11%; margin-top: 1em"><b>X509_PUBKEY_free()</b>
does not return a value.</p>


<p style="margin-left:11%; margin-top: 1em"><b>X509_PUBKEY_get0()</b>
and <b>X509_PUBKEY_get()</b> return a pointer to an
<b><small>EVP_PKEY</small></b> structure or
<small>NULL</small> if an error occurs.</p>


<p style="margin-left:11%; margin-top: 1em"><b>X509_PUBKEY_set()</b>,
<b>X509_PUBKEY_set0_param()</b> and
<b>X509_PUBKEY_get0_param()</b> return 1 for success and 0
if an error occurred.</p>


<p style="margin-left:11%; margin-top: 1em"><b>X509_PUBKEY_eq()</b>
returns 1 for equal, 0 for different, and &lt; 0 on
error.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>d2i_X509</b>(3),
<b>ERR_get_error</b>(3), <b>X509_get_pubkey</b>(3),</p>

<h2>HISTORY
<a name="HISTORY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>X509_PUBKEY_new_ex()</b> and <b>X509_PUBKEY_eq()</b>
functions were added in OpenSSL 3.0.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright
2016&minus;2021 The OpenSSL Project Authors. All Rights
Reserved.</p>

<p style="margin-left:11%; margin-top: 1em">Licensed under
the Apache License 2.0 (the &quot;License&quot;). You may
not use this file except in compliance with the License. You
can obtain a copy in the file <small>LICENSE</small> in the
source distribution or at
&lt;https://www.openssl.org/source/license.html&gt;.</p>
<hr>
</body>
</html>
