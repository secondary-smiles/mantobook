<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:55:59 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SD_BUS_SET_FD</title>

</head>
<body>
<h1>sd_bus_set_fd</h1>



<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">sd_bus_set_fd
&minus; Set the file descriptors to use for bus
communication</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;systemd/sd&minus;bus.h&gt;</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>int
sd_bus_set_fd(sd_bus&nbsp;*</b><i>bus</i><b>,
int&nbsp;</b><i>input_fd</i><b>,
int&nbsp;</b><i>output_fd</i><b>);</b></p> </td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>sd_bus_set_fd()</b>
sets the file descriptors used to communicate by a bus
connection object. Both <i>input_fd</i> and <i>output_fd</i>
must be valid file descriptors, referring to
stream&minus;based file objects (e.g. a stream socket, a
pair of pipes or FIFOs, or even a TTY device).
<i>input_fd</i> must be readable, and <i>output_fd</i> must
be writable. The same file descriptor may be used (and
typically is used) as both the input and the output file
descriptor. This function must be called before the bus
connection is started via <b>sd_bus_start</b>(3).</p>

<p style="margin-left:11%; margin-top: 1em">The bus
connection object will take possession of the passed file
descriptors and will close them automatically when it is
freed. Use <b>sd_bus_set_close_on_exit</b>(3) to turn off
this behaviour.</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">On success,
<b>sd_bus_set_fd()</b> returns a non&minus;negative integer.
On failure, it returns a negative errno&minus;style error
code.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Errors</b>
<br>
Returned errors may indicate the following problems:</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;EINVAL</b></p>

<p style="margin-left:17%;">An invalid bus object was
passed.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;ECHILD</b></p>

<p style="margin-left:17%;">The bus connection was
allocated in a parent process and is being reused in a child
process after <b>fork()</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;EBADF</b></p>

<p style="margin-left:17%;">An invalid file descriptor was
passed to <b>sd_bus_set_fd()</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;ENOPKG</b></p>

<p style="margin-left:17%;">The bus cannot be resolved.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;EPERM</b></p>

<p style="margin-left:17%;">The bus connection has already
been started.</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">These APIs are
implemented as a shared library, which can be compiled and
linked to with the <b>libsystemd&nbsp;pkg-config</b>(1)
file.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>systemd</b>(1),
<b>sd-bus</b>(3), <b>sd_bus_get_fd</b>(3),
<b>sd_bus_start</b>(3)</p>
<hr>
</body>
</html>
