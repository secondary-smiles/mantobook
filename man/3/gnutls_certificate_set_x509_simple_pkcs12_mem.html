<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:55:07 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>gnutls_certificate_set_x509_simple_pkcs12_mem</title>

</head>
<body>
<h1>gnutls_certificate_set_x509_simple_pkcs12_mem</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">gnutls_certificate_set_x509_simple_pkcs12_mem
&minus; API function</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;gnutls/gnutls.h&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
gnutls_certificate_set_x509_simple_pkcs12_mem(gnutls_certificate_credentials_t</b>
<i>res</i><b>, const gnutls_datum_t *</b> <i>p12blob</i><b>,
gnutls_x509_crt_fmt_t</b> <i>type</i><b>, const char *</b>
<i>password</i><b>);</b></p>

<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">gnutls_certificate_credentials_t
res</p>

<p style="margin-left:29%;">is a
<b>gnutls_certificate_credentials_t</b> type.</p>

<p style="margin-left:11%;">const gnutls_datum_t *
p12blob</p>

<p style="margin-left:29%;">the PKCS<b>12</b> blob.</p>

<p style="margin-left:11%;">gnutls_x509_crt_fmt_t type</p>

<p style="margin-left:29%;">is PEM or DER of the
<i>pkcs12file</i> .</p>

<p style="margin-left:11%;">const char * password</p>

<p style="margin-left:29%;">optional password used to
decrypt PKCS<b>12</b> file, bags and keys.</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This function
sets a certificate/private key pair and/or a CRL in the
gnutls_certificate_credentials_t type. This function may be
called more than once (in case multiple keys/certificates
exist for the server).</p>

<p style="margin-left:11%; margin-top: 1em">Encrypted
PKCS<b>12</b> bags and PKCS<b>8</b> private keys are
supported. However, only password based security, and the
same password for all operations, are supported.</p>

<p style="margin-left:11%; margin-top: 1em">PKCS<b>12</b>
file may contain many keys and/or certificates, and this
function will try to auto&minus;detect based on the key ID
the certificate and key pair to use. If the PKCS<b>12</b>
file contain the issuer of the selected certificate, it will
be appended to the certificate to form a chain.</p>

<p style="margin-left:11%; margin-top: 1em">If more than
one private keys are stored in the PKCS<b>12</b> file, then
only one key will be read (and it is undefined which
one).</p>

<p style="margin-left:11%; margin-top: 1em">It is believed
that the limitations of this function is acceptable for most
usage, and that any more flexibility would introduce
complexity that would make it harder to use this
functionality at all.</p>

<p style="margin-left:11%; margin-top: 1em">Note that, this
function by default returns zero on success and a negative
value on error. Since 3.5.6, when the flag
<b>GNUTLS_CERTIFICATE_API_V2</b> is set using
<b>gnutls_certificate_set_flags()</b> it returns an index
(greater or equal to zero). That index can be used to other
functions to refer to the added key&minus;pair.</p>

<h2>RETURNS
<a name="RETURNS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">On success this
functions returns zero, and otherwise a negative value on
error (see above for modifying that behavior).</p>

<h2>SINCE
<a name="SINCE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">2.8.0</p>

<h2>REPORTING BUGS
<a name="REPORTING BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Report bugs to
&lt;bugs@gnutls.org&gt;. <br>
Home page: https://www.gnutls.org</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright
&copy; 2001- Free Software Foundation, Inc., and others.
<br>
Copying and distribution of this file, with or without
modification, are permitted in any medium without royalty
provided the copyright notice and this notice are
preserved.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The full
documentation for <b>gnutls</b> is maintained as a Texinfo
manual. If the /usr/share/doc/gnutls/ directory does not
contain the HTML form visit <b><br>
 https://www.gnutls.org/manual/</b></p>
<hr>
</body>
</html>
