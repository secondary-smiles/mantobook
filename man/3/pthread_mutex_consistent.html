<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:55:53 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>pthread_mutex_consistent</title>

</head>
<body>
<h1>pthread_mutex_consistent</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">pthread_mutex_consistent
&minus; make a robust mutex consistent</p>

<h2>LIBRARY
<a name="LIBRARY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">POSIX threads
library (<i>libpthread</i>, <i>&minus;lpthread</i>)</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;pthread.h&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
pthread_mutex_consistent(pthread_mutex_t
*</b><i>mutex</i><b>);</b></p>

<p style="margin-left:5%; margin-top: 1em">Feature Test
Macro Requirements for glibc (see
<b>feature_test_macros</b>(7)):</p>


<p style="margin-left:11%; margin-top: 1em"><b>pthread_mutex_consistent</b>():
<br>
_POSIX_C_SOURCE &gt;= 200809L</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This function
makes a robust mutex consistent if it is in an inconsistent
state. A mutex can be left in an inconsistent state if its
owner terminates while holding the mutex, in which case the
next owner who acquires the mutex will succeed and be
notified by a return value of <b>EOWNERDEAD</b> from a call
to <b>pthread_mutex_lock</b>().</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">On success,
<i>pthread_mutex_consistent</i>() returns 0. Otherwise, it
returns a positive error number to indicate the error.</p>

<h2>ERRORS
<a name="ERRORS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><b>EINVAL</b></p></td>
<td width="2%"></td>
<td width="78%">


<p style="margin-top: 1em">The mutex is either not robust
or is not in an inconsistent state.</p></td></tr>
</table>

<h2>STANDARDS
<a name="STANDARDS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">POSIX.1-2008.</p>

<h2>HISTORY
<a name="HISTORY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">glibc 2.12.
POSIX.1-2008.</p>

<p style="margin-left:11%; margin-top: 1em">Before the
addition of <b>pthread_mutex_consistent</b>() to POSIX,
glibc defined the following equivalent nonstandard function
if <b>_GNU_SOURCE</b> was defined:</p>


<p style="margin-left:11%; margin-top: 1em"><b>[[deprecated]]
<br>
int pthread_mutex_consistent_np(const pthread_mutex_t
*</b><i>mutex</i><b>);</b></p>

<p style="margin-left:11%; margin-top: 1em">This
GNU-specific API, which first appeared in glibc 2.4, is
nowadays obsolete and should not be used in new programs;
since glibc 2.34 it has been marked as deprecated.</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pthread_mutex_consistent</b>()
simply informs the implementation that the state (shared
data) guarded by the mutex has been restored to a consistent
state and that normal operations can now be performed with
the mutex. It is the application&rsquo;s responsibility to
ensure that the shared data has been restored to a
consistent state before calling
<b>pthread_mutex_consistent</b>().</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">See
<b>pthread_mutexattr_setrobust</b>(3).</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pthread_mutex_lock</b>(3),
<b>pthread_mutexattr_getrobust</b>(3),
<b>pthread_mutexattr_init</b>(3),
<b>pthread_mutexattr_setrobust</b>(3),
<b>pthreads</b>(7)</p>
<hr>
</body>
</html>
