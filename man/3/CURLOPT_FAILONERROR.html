<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:54:29 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>CURLOPT_FAILONERROR</title>

</head>
<body>
<h1>CURLOPT_FAILONERROR</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">CURLOPT_FAILONERROR
&minus; request failure on HTTP response &gt;= 400</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">#include
&lt;curl/curl.h&gt;</p>

<p style="margin-left:11%; margin-top: 1em">CURLcode
curl_easy_setopt(CURL *handle, CURLOPT_FAILONERROR, long
fail);</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">A long
parameter set to 1 tells the library to fail the request if
the HTTP code returned is equal to or larger than 400. The
default action would be to return the page normally,
ignoring that code.</p>

<p style="margin-left:11%; margin-top: 1em">This method is
not fail-safe and there are occasions where non-successful
response codes will slip through, especially when
authentication is involved (response codes 401 and 407).</p>

<p style="margin-left:11%; margin-top: 1em">You might get
some amounts of headers transferred before this situation is
detected, like when a &quot;100-continue&quot; is received
as a response to a POST/PUT and a 401 or 407 is received
immediately afterwards.</p>

<p style="margin-left:11%; margin-top: 1em">When this
option is used and an error is detected, it will cause the
connection to get closed and
<i>CURLE_HTTP_RETURNED_ERROR</i> is returned.</p>

<h2>DEFAULT
<a name="DEFAULT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">0, do not fail
on error</p>

<h2>PROTOCOLS
<a name="PROTOCOLS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">HTTP</p>

<h2>EXAMPLE
<a name="EXAMPLE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">CURL *curl =
curl_easy_init(); <br>
if(curl) { <br>
CURLcode ret; <br>
curl_easy_setopt(curl, CURLOPT_URL,
&quot;https://example.com/&quot;); <br>
curl_easy_setopt(curl, CURLOPT_FAILONERROR, 1L); <br>
ret = curl_easy_perform(curl); <br>
if(ret == CURLE_HTTP_RETURNED_ERROR) { <br>
/* an HTTP response error problem */ <br>
} <br>
}</p>

<h2>AVAILABILITY
<a name="AVAILABILITY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Along with
HTTP.</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Returns
CURLE_OK if HTTP is enabled, and CURLE_UNKNOWN_OPTION if
not.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>CURLOPT_HTTP200ALIASES</b>(3),
<b>CURLOPT_KEEP_SENDING_ON_ERROR</b>(3),</p>
<hr>
</body>
</html>
