<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:56:20 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>TPMLIB_ValidateState</title>

</head>
<body>
<h1>TPMLIB_ValidateState</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">TPMLIB_ValidateState
&minus; Validate the state blobs of the TPM</p>

<h2>LIBRARY
<a name="LIBRARY"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><small>TPM</small>
library (libtpms, &minus;ltpms)</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;libtpms/tpm_library.h</b>&gt;</p>

<p style="margin-left:11%; margin-top: 1em"><b>uint32_t
TPMLIB_ValidateState(TPMLIB_StateType st, <br>
unsigned int flags);</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>TPMLIB_ValidateState()</b> function allows to validate
the state blobs that the <small>TPM</small> would read upon
<b>TPMLIB_MainInit()</b> or once the TPM_Startup command has
been sent to it.</p>

<p style="margin-left:11%; margin-top: 1em">This function
is useful for <small>TPM</small> state migration between
possibly different version of libtpms. Here the target
libtpms needs to be able to determine whether it can support
the version of blobs that were migrated and if this is not
the case, the caller can refuse the migration.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>tpmlib_state</b> parameter can be a logical
&rsquo;or&rsquo; of one or multiple of of the following:
<b><small>TPMLIB_STATE_PERMANENT</small></b> ,
<b><small>TPMLIB_STATE_VOLATILE</small></b> , or
<b><small>TPMLIB_STATE_SAVE_STATE</small></b> . The
<b>flags</b> parameter is currently not used and should be
set to 0.</p>

<p style="margin-left:11%; margin-top: 1em">The first state
blob that should be loaded is the permanent state, since for
example the volatile state requires it to be available for
validation.</p>

<p style="margin-left:11%; margin-top: 1em">This function
should be called before <b>TPMLIB_MainInit()</b> is
invoked.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>TPMLIB_MainInit</b>(3),
<b>TPMLIB_Terminate</b>(3)</p>
<hr>
</body>
</html>
