<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:55:18 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>hwlocality_creation</title>

</head>
<body>
<h1>hwloc_topology_dup</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">hwlocality_creation
&minus; Topology Creation and Destruction</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>Typedefs</b></p>

<p style="margin-left:17%;">typedef struct hwloc_topology *
<b>hwloc_topology_t</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>Functions</b></p>

<p style="margin-left:17%;">int <b>hwloc_topology_init</b>
(<b>hwloc_topology_t</b> *topologyp) <br>
int <b>hwloc_topology_load</b> (<b>hwloc_topology_t</b>
topology) <br>
void <b>hwloc_topology_destroy</b> (<b>hwloc_topology_t</b>
topology) <br>
int <b>hwloc_topology_dup</b> (<b>hwloc_topology_t</b>
*newtopology, <b>hwloc_topology_t</b> oldtopology) <br>
int <b>hwloc_topology_abi_check</b> (<b>hwloc_topology_t</b>
topology) <br>
void <b>hwloc_topology_check</b> (<b>hwloc_topology_t</b>
topology)</p>

<h2>Detailed Description
<a name="Detailed Description"></a>
</h2>


<h2>Typedef Documentation
<a name="Typedef Documentation"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>typedef
struct hwloc_topology* hwloc_topology_t</b> <br>
Topology context. To be initialized with
<b>hwloc_topology_init()</b> and built with
<b>hwloc_topology_load()</b>.</p>

<h2>Function Documentation
<a name="Function Documentation"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>int
hwloc_topology_abi_check (hwloc_topology_t topology)</b>
<br>
Verify that the topology is compatible with the current
hwloc library. This is useful when using the same topology
structure (in memory) in different libraries that may use
different hwloc installations (for instance if one library
embeds a specific version of hwloc, while another library
uses a default system-wide hwloc installation).</p>

<p style="margin-left:11%; margin-top: 1em">If all
libraries/programs use the same hwloc installation, this
function always returns success.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;"><tt>0</tt> on success.</p>

<p style="margin-left:17%; margin-top: 1em"><tt>-1</tt>
with <tt>errno</tt> set to <tt>EINVAL</tt> if
incompatible.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Note</b></p>

<p style="margin-left:17%;">If sharing between processes
with <b>hwloc_shmem_topology_write()</b>, the relevant check
is already performed inside
<b>hwloc_shmem_topology_adopt()</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>void
hwloc_topology_check (hwloc_topology_t topology)</b> <br>
Run internal checks on a topology structure. The program
aborts if an inconsistency is detected in the given
topology.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>topology</i> is the topology
to be checked</p>


<p style="margin-left:11%; margin-top: 1em"><b>Note</b></p>

<p style="margin-left:17%;">This routine is only useful to
developers.</p>

<p style="margin-left:17%; margin-top: 1em">The input
topology should have been previously loaded with
<b>hwloc_topology_load()</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>void
hwloc_topology_destroy (hwloc_topology_t topology)</b> <br>
Terminate and free a topology context.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>topology</i> is the topology
to be freed</p>

<p style="margin-left:11%; margin-top: 1em"><b>int
hwloc_topology_dup (hwloc_topology_t * newtopology,
hwloc_topology_t oldtopology)</b> <br>
Duplicate a topology. The entire topology structure as well
as its objects are duplicated into a new one.</p>

<p style="margin-left:11%; margin-top: 1em">This is useful
for keeping a backup while modifying a topology.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Note</b></p>

<p style="margin-left:17%;">Object userdata is not
duplicated since hwloc does not know what it point to. The
objects of both old and new topologies will point to the
same userdata.</p>

<p style="margin-left:11%; margin-top: 1em"><b>int
hwloc_topology_init (hwloc_topology_t * topologyp)</b> <br>
Allocate a topology context.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>topologyp</i> is assigned a
pointer to the new allocated context.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">0 on success, -1 on error.</p>

<p style="margin-left:11%; margin-top: 1em"><b>int
hwloc_topology_load (hwloc_topology_t topology)</b> <br>
Build the actual topology. Build the actual topology once
initialized with <b>hwloc_topology_init()</b> and tuned with
<b>Topology Detection Configuration and Query</b> and
<b>Changing the Source of Topology Discovery</b> routines.
No other routine may be called earlier using this topology
context.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Parameters</b></p>

<p style="margin-left:17%;"><i>topology</i> is the topology
to be loaded with objects.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Returns</b></p>

<p style="margin-left:17%;">0 on success, -1 on error.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Note</b></p>

<p style="margin-left:17%;">On failure, the topology is
reinitialized. It should be either destroyed with
<b>hwloc_topology_destroy()</b> or configured and loaded
again.</p>

<p style="margin-left:17%; margin-top: 1em">This function
may be called only once per topology.</p>

<p style="margin-left:17%; margin-top: 1em">The binding of
the current thread or process may temporarily change during
this call but it will be restored before it returns.</p>

<p style="margin-left:11%; margin-top: 1em"><b>See
also</b></p>

<p style="margin-left:17%;"><b>Topology Detection
Configuration and Query</b> and <b>Changing the Source of
Topology Discovery</b></p>

<h2>Author
<a name="Author"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Generated
automatically by Doxygen for Hardware Locality (hwloc) from
the source code.</p>
<hr>
</body>
</html>
