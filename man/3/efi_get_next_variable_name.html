<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:54:47 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>EFI_GET_VARIABLE</title>

</head>
<body>
<h1>efi_get_next_variable_name</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">efi_variables_supported,
efi_del_variable, efi_get_variable,
efi_get_variable_attributes, efi_get_variable_size,
efi_set_variable &minus; manipulate UEFI variables</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;efivar.h&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
efi_variables_supported(void); <br>
int efi_del_variable(efi_guid_t</b> <i>guid</i><b>, const
char</b> <i>*name</i><b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
efi_get_variable(efi_guid_t</b> <i>guid</i><b>, const char
*</b><i>name</i><b>,</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="8%">
</td>
<td width="7%">
</td>
<td width="62%">


<p><b>void **</b><i>data</i><b>, ssize_t
*</b><i>data_size</i><b>,</b></p> </td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="8%">
</td>
<td width="7%">
</td>
<td width="62%">


<p><b>uint32_t *</b><i>attributes</i><b>);</b></p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>int
efi_get_variable_attributes(efi_guid_t</b> <i>guid</i><b>,
const char *</b><i>name</i><b>,</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="8%">
</td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="8%">
</td>
<td width="46%">


<p><b>uint32_t *</b><i>attributes</i><b>);</b></p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>int
efi_get_variable_exists(efi_guid_t</b> <i>guid</i><b>, const
char</b> <i>*name</i><b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
efi_get_variable_size(efi_guid_t</b> <i>guid</i><b>, const
char *</b><i>name</i><b>,</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="8%">
</td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="54%">


<p><b>size_t *</b><i>size</i><b>);</b></p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>int
efi_append_variable(efi_guid_t</b> <i>guid</i><b>, const
char *</b><i>name</i><b>,</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="8%">
</td>
<td width="7%">
</td>
<td width="62%">


<p><b>void *</b><i>data</i><b>, size_t</b>
<i>data_size</i><b>,</b></p> </td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="8%">
</td>
<td width="7%">
</td>
<td width="62%">


<p><b>uint32_t</b> <i>attributes</i><b>);</b></p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>int
efi_set_variable(efi_guid_t</b> <i>guid</i><b>, const char
*</b><i>name</i><b>,</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="8%">
</td>
<td width="7%">
</td>
<td width="62%">


<p><b>void *</b><i>data</i><b>, size_t</b>
<i>data_size</i><b>,</b></p> </td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="8%">
</td>
<td width="7%">
</td>
<td width="62%">


<p><b>uint32_t</b> <i>attributes</i><b>, mode_t</b>
<i>mode</i><b>);</b></p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>int
efi_get_next_variable_name(efi_guid_t **</b><i>guid</i><b>,
char **</b><i>name</i><b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
efi_str_to_guid(const char *</b><i>s</i><b>, efi_guid_t
*</b><i>guid</i><b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
efi_guid_to_str(const efi_guid_t *</b><i>guid</i><b>, char
**</b><i>sp</i><b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
efi_name_to_guid(const char *</b><i>name</i><b>, efi_guid_t
*</b><i>guid</i><b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
efi_id_guid_to_guid(const char *</b><i>id_guid</i><b>,
efi_guid_t *</b><i>guid</i><b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
efi_guid_to_name(efi_guid_t *</b><i>guid</i><b>, char
**</b><i>name</i><b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
efi_guid_to_id_guid(efi_guid_t *</b><i>guid</i><b>, char
**</b><i>id_guid</i><b>);</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
efi_guid_to_symbol(efi_guid_t *</b><i>guid</i><b>, char
**</b><i>symbol</i><b>); <br>
int efi_symbol_to_guid(const char *</b><i>symbol</i><b>,
efi_guid_t *</b><i>guid</i><b>);</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>efi_variables_supported</b>()
tests if the UEFI variable facility is supported on the
current machine.</p>


<p style="margin-left:11%; margin-top: 1em"><b>efi_del_variable</b>()
deletes the variable specified by <i>guid</i> and
<i>name</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>efi_get_variable</b>()
gets the variable specified by <i>guid</i> and <i>name</i>.
The value is stored in <i>data</i>, its size in
<i>data_size</i>, and its attributes are stored in
<i>attributes</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>efi_get_variable_attributes</b>()
gets attributes for the variable specified by <i>guid</i>
and <i>name</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>efi_get_variable_exists</b>()
gets if the variable specified by <i>guid</i> and
<i>name</i> exists.</p>


<p style="margin-left:11%; margin-top: 1em"><b>efi_get_variable_size</b>()
gets the size of the data for the variable specified by
<i>guid</i> and <i>name</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>efi_append_variable</b>()
appends <i>data</i> of size <i>size</i> to the variable
specified by <i>guid</i> and <i>name</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>efi_set_variable</b>()
sets the variable specified by <i>guid</i> and <i>name</i>,
and sets the file mode to <i>mode</i>, subject to umask.
Note that the mode will not persist across a reboot, and
that the permissions only apply if on systems using
efivarfs.</p>


<p style="margin-left:11%; margin-top: 1em"><b>efi_get_next_variable_name</b>()
iterates across the currently extant variables, passing back
a guid and name.</p>


<p style="margin-left:11%; margin-top: 1em"><b>efi_str_to_guid</b>()
parses a UEFI GUID from string form to an efi_guid_t the
caller provides</p>


<p style="margin-left:11%; margin-top: 1em"><b>efi_guid_to_str</b>()
Creates a string representation of a UEFI GUID. If sp is
NULL, it returns how big the string would be. If sp is not
NULL but *sp is NULL, it allocates a string and returns it
with. It is the caller&rsquo;s responsibility to free this
string. If sp is not NULL and *sp is not NULL,
<b>efi_guid_to_str</b>() assumes there is an allocation of
suitable size and uses it.</p>


<p style="margin-left:11%; margin-top: 1em"><b>efi_name_to_guid</b>()
translates from a well known name to an efi_guid_t the
caller provides.</p>


<p style="margin-left:11%; margin-top: 1em"><b>efi_guid_to_name</b>()
translates from an efi_guid_t to a well known name. If the
supplied GUID does not have a well known name, this function
is equivalent to <b>efi_guid_to_str</b>().</p>


<p style="margin-left:11%; margin-top: 1em"><b>efi_guid_to_id_guid</b>()
translates from an efi_guid_t to an {ID GUID}. If the
supplied GUID has a well known name, the {ID GUID} will be
of the form &quot;{name_here}&quot;. If not, it will be of
the form
&quot;{66b2af1c-6211-4082-95cb-9f73a4795a7e}&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><b>efi_id_guid_to_guid</b>()
translates from an {ID GUID} to an efi_guid_t the caller
provides.</p>


<p style="margin-left:11%; margin-top: 1em"><b>efi_guid_to_symbol</b>()
translates from an efi_guid_t to a unique (within libefivar)
C-style symbol name. These symbol names are useful for
printing as a unique, easily parsed identifier, and are also
provide by the library and its header files.</p>


<p style="margin-left:11%; margin-top: 1em"><b>efi_symbol_to_guid</b>()
translates from a libefivar efi_guid_$FOO symbol name to an
efi_guid_t the caller provides.</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>efi_variables_supported</b>()
returns true if variables are supported on the running
hardware, and false if they are not.</p>


<p style="margin-left:11%; margin-top: 1em"><b>efi_get_next_variable_name</b>()
returns 0 when iteration has completed, 1 when iteration has
not completed, and -1 on error. In the event of an error,
<i>errno</i>(3) is set appropriately.</p>


<p style="margin-left:11%; margin-top: 1em"><b>efi_del_variable</b>(),
<b>efi_get_variable</b>(),
<b>efi_get_variable_attributes</b>(),
<b>efi_get_variable_exists</b>(),
<b>efi_get_variable_size</b>(),
<b>efi_append_variable</b>(), <b>efi_set_variable</b>(),
<b>efi_str_to_guid</b>(), <b>efi_guid_to_str</b>(),
<b>efi_name_to_guid</b>(), and <b>efi_guid_to_name</b>()
return negative on error and zero on success.</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Peter Jones
&lt;pjones@redhat.com&gt;</p>
<hr>
</body>
</html>
