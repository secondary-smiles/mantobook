<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:55:31 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>LIBPSL</title>

</head>
<body>
<h1>libpsl</h1>



<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">libpsl &minus;
Public Suffix List library functions</p>

<h2>STABILITY LEVEL
<a name="STABILITY LEVEL"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Stable, unless
otherwise indicated</p>

<h2>FUNCTIONS
<a name="FUNCTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></p>


<p align="center"><b><img src="grohtml-33312291.png" alt="Image grohtml-33312291.png"></b></p>

<h2>TYPES AND VALUES
<a name="TYPES AND VALUES"></a>
</h2>



<p align="center" style="margin-top: 1em"><b><img src="grohtml-33312292.png" alt="Image grohtml-33312292.png"></b></p>

<h2>INCLUDES
<a name="INCLUDES"></a>
</h2>


<p style="margin-left:17%; margin-top: 1em">#include
&lt;libpsl.h&gt;</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b><font color="#0000FF">Public
Suffix List</font></b>
<small><font color="#000000">[1]</font></small>
<font color="#000000">library functions.</font></p>

<h2>FUNCTIONS
<a name="FUNCTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>psl_load_file&nbsp;()</b></font></p>


<p style="margin-left:17%;"><font color="#000000">psl_ctx_t&nbsp;*
<br>
psl_load_file (<i>const</i> <b>char</b>
<i>*fname</i>);</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">This
function loads the public suffixes file named <i>fname</i> .
To free the allocated resources, call
<b>psl_free()</b>.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
suffixes are expected to be UTF&minus;8 encoded (lowercase +
NFKC) if they are international.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Parameters</big></b></font></p>


<p style="margin-left:17%;"><font color="#000000"><b><big>&nbsp;</big></b></font></p>


<p align="center"><font color="#000000"><b><big><img src="grohtml-33312293.png" alt="Image grohtml-33312293.png"></big></b></font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Returns</big></b></font></p>

<p style="margin-left:17%;"><font color="#000000">Pointer
to a PSL context or NULL on failure.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Since:
0.1</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>psl_load_fp&nbsp;()</b></font></p>


<p style="margin-left:17%;"><font color="#000000">psl_ctx_t&nbsp;*
<br>
psl_load_fp (<b>FILE</b> <i>*fp</i>);</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">This
function loads the public suffixes from a FILE pointer. To
free the allocated resources, call
<b>psl_free()</b>.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
suffixes are expected to be UTF&minus;8 encoded (lowercase +
NFKC) if they are international.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Parameters</big></b></font></p>


<p style="margin-left:17%;"><font color="#000000"><b><big>&nbsp;</big></b></font></p>


<p align="center"><font color="#000000"><b><big><img src="grohtml-33312294.png" alt="Image grohtml-33312294.png"></big></b></font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Returns</big></b></font></p>

<p style="margin-left:17%;"><font color="#000000">Pointer
to a PSL context or NULL on failure.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Since:
0.1</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>psl_latest&nbsp;()</b></font></p>


<p style="margin-left:17%;"><font color="#000000">psl_ctx_t&nbsp;*
<br>
psl_latest (<i>const</i> <b>char</b>
<i>*fname</i>);</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">This
function loads the the latest available PSL data from
either</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">&bull;
<i>fname</i> (application specific filename, may be
NULL)</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">&bull;
location specified during built&minus;time (filename from
./configure
&minus;&minus;with&minus;psl&minus;distfile)</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">&bull;
built&minus;in PSL data (generated from ./configure
&minus;&minus;with&minus;psl&minus;file)</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">&bull;
location of built&minus;in data (filename from ./configure
&minus;&minus;with&minus;psl&minus;file)</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">If
none of the above is available, the function returns
NULL.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">To
free the allocated resources, call
<b>psl_free()</b>.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Parameters</big></b></font></p>


<p style="margin-left:17%;"><font color="#000000"><b><big>&nbsp;</big></b></font></p>


<p align="center"><font color="#000000"><b><big><img src="grohtml-33312295.png" alt="Image grohtml-33312295.png"></big></b></font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Returns</big></b></font></p>

<p style="margin-left:17%;"><font color="#000000">Pointer
to a PSL context or NULL on failure.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Since:
0.16</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>psl_builtin&nbsp;()</b></font></p>

<p style="margin-left:17%;"><font color="#000000">const
psl_ctx_t&nbsp;* <br>
psl_builtin (<b>void</b>);</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">This
function returns the PSL context that has been generated and
built in at compile&minus;time. You don't have to free the
returned context explicitly.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">The
builtin data also contains punycode entries, one for each
international domain name.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">If
the generation of built&minus;in data has been disabled
during compilation, NULL will be returned. When using the
builtin psl context, you can provide UTF&minus;8 (lowercase
+ NFKC) or ASCII/ACE (punycode) representations of domains
to functions like <b>psl_is_public_suffix()</b>.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Returns</big></b></font></p>

<p style="margin-left:17%;"><font color="#000000">Pointer
to the built in PSL data or NULL if this data is not
available.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Since:
0.1</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>psl_free&nbsp;()</b></font></p>

<p style="margin-left:17%;"><font color="#000000">void <br>
psl_free (<b>psl_ctx_t</b> <i>*psl</i>);</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">This
function frees the the PSL context that has been retrieved
via <b>psl_load_fp()</b> or
<b>psl_load_file()</b>.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Parameters</big></b></font></p>


<p style="margin-left:17%;"><font color="#000000"><b><big>&nbsp;</big></b></font></p>


<p align="center"><font color="#000000"><b><big><img src="grohtml-33312296.png" alt="Image grohtml-33312296.png"></big></b></font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Since:
0.1</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>psl_is_public_suffix&nbsp;()</b></font></p>

<p style="margin-left:17%;"><font color="#000000">int <br>
psl_is_public_suffix (<i>const</i> <b>psl_ctx_t</b>
<i>*psl</i>, <i><br>
const</i> <b>char</b> <i>*domain</i>);</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">This
function checks if <i>domain</i> is a public suffix by the
means of the</font> <b><font color="#0000FF">Mozilla Public
Suffix List</font></b>
<small><font color="#000000">[2]</font></small>
<font color="#000000">.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">For
cookie domain checking see
<b>psl_is_cookie_domain_acceptable()</b>.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">International
<i>domain</i> names have to be either in UTF&minus;8
(lowercase + NFKC) or in ASCII/ACE format (punycode). Other
encodings likely result in incorrect return values. Use
helper function <b>psl_str_to_utf8lower()</b> for
normalization <i>domain</i> .</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><i>psl</i>
is a context returned by either <b>psl_load_file()</b>,
<b>psl_load_fp()</b> or <b>psl_builtin()</b>.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Parameters</big></b></font></p>


<p style="margin-left:17%;"><font color="#000000"><b><big>&nbsp;
&nbsp;</big></b></font></p>


<p align="center"><font color="#000000"><b><big><img src="grohtml-33312297.png" alt="Image grohtml-33312297.png"></big></b></font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Returns</big></b></font></p>

<p style="margin-left:17%;"><font color="#000000">1 if
domain is a public suffix, 0 if not.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Since:
0.1</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>psl_is_public_suffix2&nbsp;()</b></font></p>

<p style="margin-left:17%;"><font color="#000000">int <br>
psl_is_public_suffix2 (<i>const</i> <b>psl_ctx_t</b>
<i>*psl</i>, <i><br>
const</i> <b>char</b> <i>*domain</i>, <b><br>
int</b> <i>type</i>);</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">This
function checks if <i>domain</i> is a public suffix by the
means of the</font> <b><font color="#0000FF">Mozilla Public
Suffix List</font></b>
<small><font color="#000000">[2]</font></small>
<font color="#000000">.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><i>type</i>
specifies the PSL section where to perform the lookup. Valid
values are PSL_TYPE_PRIVATE, PSL_TYPE_ICANN,
PSL_TYPE_NO_STAR_RULE, and PSL_TYPE_ANY.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">PSL_TYPE_NO_STAR_RULE
switches of the 'prevailing star rule' (see</font>
<b><font color="#0000FF">List</font></b>
<small><font color="#000000">[3]</font></small>
<font color="#000000">under 'Algorithm' 2.). Applying the
flag means that TLDs not explicitly listed in the PSL are
*not* treated as public suffixes.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">International
<i>domain</i> names have to be either in UTF&minus;8
(lowercase + NFKC) or in ASCII/ACE format (punycode). Other
encodings likely result in incorrect return values. Use
helper function <b>psl_str_to_utf8lower()</b> for
normalization <i>domain</i> .</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><i>psl</i>
is a context returned by either <b>psl_load_file()</b>,
<b>psl_load_fp()</b> or <b>psl_builtin()</b>.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Parameters</big></b></font></p>


<p style="margin-left:17%;"><font color="#000000"><b><big>&nbsp;
&nbsp; &nbsp;</big></b></font></p>


<p align="center"><font color="#000000"><b><big><img src="grohtml-33312298.png" alt="Image grohtml-33312298.png"></big></b></font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Returns</big></b></font></p>

<p style="margin-left:17%;"><font color="#000000">1 if
domain is a public suffix, 0 if not.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Since:
0.1</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>psl_unregistrable_domain&nbsp;()</b></font></p>

<p style="margin-left:17%;"><font color="#000000">const
char&nbsp;* <br>
psl_unregistrable_domain (<i>const</i> <b>psl_ctx_t</b>
<i>*psl</i>, <i><br>
const</i> <b>char</b> <i>*domain</i>);</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">This
function finds the longest public suffix part of
<i>domain</i> by the means of the</font>
<b><font color="#0000FF">Mozilla Public Suffix
List</font></b>
<small><font color="#000000">[2]</font></small>
<font color="#000000">.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">International
<i>domain</i> names have to be either in UTF&minus;8
(lowercase + NFKC) or in ASCII/ACE format (punycode). Other
encodings likely result in incorrect return values. Use
helper function <b>psl_str_to_utf8lower()</b> for
normalization <i>domain</i> .</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><i>psl</i>
is a context returned by either <b>psl_load_file()</b>,
<b>psl_load_fp()</b> or <b>psl_builtin()</b>.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Parameters</big></b></font></p>


<p style="margin-left:17%;"><font color="#000000"><b><big>&nbsp;
&nbsp;</big></b></font></p>


<p align="center"><font color="#000000"><b><big><img src="grohtml-33312299.png" alt="Image grohtml-33312299.png"></big></b></font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Returns</big></b></font></p>

<p style="margin-left:17%;"><font color="#000000">Pointer
to longest public suffix part of <i>domain</i> or NULL if
<i>domain</i> does not contain a public suffix (or if
<i>psl</i> is NULL).</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Since:
0.1</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>psl_registrable_domain&nbsp;()</b></font></p>

<p style="margin-left:17%;"><font color="#000000">const
char&nbsp;* <br>
psl_registrable_domain (<i>const</i> <b>psl_ctx_t</b>
<i>*psl</i>, <i><br>
const</i> <b>char</b> <i>*domain</i>);</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">This
function finds the shortest private suffix part of
<i>domain</i> by the means of the</font>
<b><font color="#0000FF">Mozilla Public Suffix
List</font></b>
<small><font color="#000000">[2]</font></small>
<font color="#000000">.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">International
<i>domain</i> names have to be either in UTF&minus;8
(lowercase + NFKC) or in ASCII/ACE format (punycode). Other
encodings likely result in incorrect return values. Use
helper function <b>psl_str_to_utf8lower()</b> for
normalization <i>domain</i> .</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><i>psl</i>
is a context returned by either <b>psl_load_file()</b>,
<b>psl_load_fp()</b> or <b>psl_builtin()</b>.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Parameters</big></b></font></p>


<p style="margin-left:17%;"><font color="#000000"><b><big>&nbsp;
&nbsp;</big></b></font></p>


<p align="center"><font color="#000000"><b><big><img src="grohtml-333122910.png" alt="Image grohtml-333122910.png"></big></b></font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Returns</big></b></font></p>

<p style="margin-left:17%;"><font color="#000000">Pointer
to shortest private suffix part of <i>domain</i> or NULL if
<i>domain</i> does not contain a private suffix (or if
<i>psl</i> is NULL).</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Since:
0.1</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>psl_suffix_count&nbsp;()</b></font></p>

<p style="margin-left:17%;"><font color="#000000">int <br>
psl_suffix_count (<i>const</i> <b>psl_ctx_t</b>
<i>*psl</i>);</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">This
function returns number of public suffixes maintained by
<i>psl</i> . The number of exceptions within the Public
Suffix List are not included.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">If
the information is not available, the return value is
&minus;1 (since 0.19). This is the case with DAFSA blobs or
if <i>psl</i> is NULL.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Parameters</big></b></font></p>


<p style="margin-left:17%;"><font color="#000000"><b><big>&nbsp;</big></b></font></p>


<p align="center"><font color="#000000"><b><big><img src="grohtml-333122911.png" alt="Image grohtml-333122911.png"></big></b></font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Returns</big></b></font></p>

<p style="margin-left:17%;"><font color="#000000">Number of
public suffixes entries in PSL context or &minus;1 if this
information is not available.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Since:
0.1</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>psl_suffix_exception_count&nbsp;()</b></font></p>

<p style="margin-left:17%;"><font color="#000000">int <br>
psl_suffix_exception_count (<i>const</i> <b>psl_ctx_t</b>
<i>*psl</i>);</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">This
function returns number of public suffix exceptions
maintained by <i>psl</i> .</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">If
the information is not available, the return value is
&minus;1 (since 0.19). This is the case with DAFSA blobs or
if <i>psl</i> is NULL.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Parameters</big></b></font></p>


<p style="margin-left:17%;"><font color="#000000"><b><big>&nbsp;</big></b></font></p>


<p align="center"><font color="#000000"><b><big><img src="grohtml-333122912.png" alt="Image grohtml-333122912.png"></big></b></font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Returns</big></b></font></p>

<p style="margin-left:17%;"><font color="#000000">Number of
public suffix exceptions in PSL context or &minus;1 if this
information is not available.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Since:
0.1</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>psl_suffix_wildcard_count&nbsp;()</b></font></p>

<p style="margin-left:17%;"><font color="#000000">int <br>
psl_suffix_wildcard_count (<i>const</i> <b>psl_ctx_t</b>
<i>*psl</i>);</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">This
function returns number of public suffix wildcards
maintained by <i>psl</i> .</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">If
the information is not available, the return value is
&minus;1 (since 0.19). This is the case with DAFSA blobs or
if <i>psl</i> is NULL.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Parameters</big></b></font></p>


<p style="margin-left:17%;"><font color="#000000"><b><big>&nbsp;</big></b></font></p>


<p align="center"><font color="#000000"><b><big><img src="grohtml-333122913.png" alt="Image grohtml-333122913.png"></big></b></font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Returns</big></b></font></p>

<p style="margin-left:17%;"><font color="#000000">Number of
public suffix wildcards in PSL context or &minus;1 if this
information is not available.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Since:
0.10.0</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>psl_builtin_file_time&nbsp;()</b></font></p>

<p style="margin-left:17%;"><font color="#000000">time_t
<br>
psl_builtin_file_time (<b>void</b>);</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">This
function returns the mtime of the Public Suffix List file
that has been built in.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">If
the generation of built&minus;in data has been disabled
during compilation, 0 will be returned.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Returns</big></b></font></p>

<p style="margin-left:17%;"><font color="#000000">time_t
value or 0.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Since:
0.1</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>psl_builtin_sha1sum&nbsp;()</b></font></p>

<p style="margin-left:17%;"><font color="#000000">const
char&nbsp;* <br>
psl_builtin_sha1sum (<b>void</b>);</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">This
function returns the SHA1 checksum of the Public Suffix List
file that has been built in. The returned string is in
lowercase hex encoding, e.g.
&quot;2af1e9e3044eda0678bb05949d7cca2f769901d8&quot;.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">If
the generation of built&minus;in data has been disabled
during compilation, an empty string will be
returned.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Returns</big></b></font></p>

<p style="margin-left:17%;"><font color="#000000">String
containing SHA1 checksum or an empty string.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Since:
0.1</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>psl_builtin_filename&nbsp;()</b></font></p>

<p style="margin-left:17%;"><font color="#000000">const
char&nbsp;* <br>
psl_builtin_filename (<b>void</b>);</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">This
function returns the file name of the Public Suffix List
file that has been built in.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">If
the generation of built&minus;in data has been disabled
during compilation, an empty string will be
returned.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Returns</big></b></font></p>

<p style="margin-left:17%;"><font color="#000000">String
containing the PSL file name or an empty string.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Since:
0.1</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>psl_builtin_outdated&nbsp;()</b></font></p>

<p style="margin-left:17%;"><font color="#000000">int <br>
psl_builtin_outdated (<b>void</b>);</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">This
function checks if the built&minus;in data is older than the
file it has been created from. If it is, it might be a good
idea for the application to reload the PSL. The mtime is
taken as reference.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">If
the PSL file does not exist, it is assumed that the
built&minus;in data is not outdated.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Returns</big></b></font></p>

<p style="margin-left:17%;"><font color="#000000">1 if the
built&minus;in is outdated, 0 otherwise.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Since:
0.10.0</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>psl_is_cookie_domain_acceptable&nbsp;()</b></font></p>

<p style="margin-left:17%;"><font color="#000000">int <br>
psl_is_cookie_domain_acceptable (<i>const</i>
<b>psl_ctx_t</b> <i>*psl</i>, <i><br>
const</i> <b>char</b> <i>*hostname</i>, <i><br>
const</i> <b>char</b> <i>*cookie_domain</i>);</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">This
helper function checks whether <i>cookie_domain</i> is an
acceptable cookie domain value for the request
<i>hostname</i> .</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">For
international domain names both, <i>hostname</i> and
<i>cookie_domain</i> , have to be either in UTF&minus;8
(lowercase + NFKC) or in ASCII/ACE (punycode) format. Other
encodings or mixing UTF&minus;8 and punycode likely result
in incorrect return values.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Use
helper function <b>psl_str_to_utf8lower()</b> for
normalization of <i>hostname</i> and <i>cookie_domain</i>
.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Hint
for Windows users: Please make sure the calling application
has called <b>WSAStartup()</b> before calling
<b>psl_is_cookie_domain_acceptable()</b>.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Examples:</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">1.
Cookie domain 'example.com' would be acceptable for hostname
'www.example.com', but '.com' or 'com' would NOT be
acceptable since 'com' is a public suffix.</font></p>


<p style="margin-left:17%; margin-top: 1em"><font color="#000000">2.
Cookie domain 'his.name' would be acceptable for hostname
'remember.his.name', but NOT for 'forgot.his.name' since
'forgot.his.name' is a public suffix.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Parameters</big></b></font></p>


<p style="margin-left:17%;"><font color="#000000"><b><big>&nbsp;
&nbsp; &nbsp;</big></b></font></p>


<p align="center"><font color="#000000"><b><big><img src="grohtml-333122914.png" alt="Image grohtml-333122914.png"></big></b></font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Returns</big></b></font></p>

<p style="margin-left:17%;"><font color="#000000">1 if
acceptable, 0 if not acceptable.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Since:
0.1</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>psl_dist_filename&nbsp;()</b></font></p>

<p style="margin-left:17%;"><font color="#000000">const
char&nbsp;* <br>
psl_dist_filename (<b>void</b>);</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">This
function returns the file name of the distribution/system
PSL data file. This file will be considered by
<b>psl_latest()</b>.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Return
the filename that is set by ./configure
&minus;&minus;with&minus;psl&minus;distfile, or an empty
string.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Returns</big></b></font></p>

<p style="margin-left:17%;"><font color="#000000">String
containing a PSL file name or an empty string.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Since:
0.16</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>psl_get_version&nbsp;()</b></font></p>

<p style="margin-left:17%;"><font color="#000000">const
char&nbsp;* <br>
psl_get_version (<b>void</b>);</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Get
libpsl version.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Returns</big></b></font></p>

<p style="margin-left:17%;"><font color="#000000">String
containing version of libpsl.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Since:
0.2.5</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>psl_check_version_number&nbsp;()</b></font></p>

<p style="margin-left:17%;"><font color="#000000">int <br>
psl_check_version_number (<b>int</b>
<i>version</i>);</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Check
the given version number is at minimum the current library
version number. The version number must be a hexadecimal
number like 0x000a01 (V0.10.1).</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Parameters</big></b></font></p>


<p style="margin-left:17%;"><font color="#000000"><b><big>&nbsp;</big></b></font></p>


<p align="center"><font color="#000000"><b><big><img src="grohtml-333122915.png" alt="Image grohtml-333122915.png"></big></b></font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Returns</big></b></font></p>

<p style="margin-left:17%;"><font color="#000000">Returns
the library version number if the given version number is at
least the version of the library, else return 0; If the
argument is 0, the function returns the library version
number without performing a check.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Since:
0.11.0</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>psl_str_to_utf8lower&nbsp;()</b></font></p>


<p style="margin-left:17%;"><font color="#000000">psl_error_t
<br>
psl_str_to_utf8lower (<i>const</i> <b>char</b> <i>*str</i>,
<i><br>
const</i> <b>char</b> <i>*encoding</i>, <i><br>
const</i> <b>char</b> <i>*locale</i>, <b><br>
char</b> <i>**lower</i>);</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">This
helper function converts a string to UTF&minus;8 lowercase +
NFKC representation. Lowercase + NFKC UTF&minus;8 is needed
as input to the domain checking functions.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><i>lower</i>
stays unchanged on error.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">When
returning PSL_SUCCESS, the return value 'lower' must be
freed after usage.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Parameters</big></b></font></p>


<p style="margin-left:17%;"><font color="#000000"><b><big>&nbsp;
&nbsp; &nbsp; &nbsp;</big></b></font></p>


<p align="center"><font color="#000000"><b><big><img src="grohtml-333122916.png" alt="Image grohtml-333122916.png"></big></b></font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Returns</big></b></font></p>


<p style="margin-left:17%;"><font color="#000000">psl_error_t
value. PSL_SUCCESS: Success PSL_ERR_INVALID_ARG: <i>str</i>
is a NULL value. PSL_ERR_CONVERTER: Failed to open the
unicode converter with name <i>encoding</i>
PSL_ERR_TO_UTF16: Failed to convert <i>str</i> to unicode
PSL_ERR_TO_LOWER: Failed to convert unicode to lowercase
PSL_ERR_TO_UTF8: Failed to convert unicode to UTF&minus;8
PSL_ERR_NO_MEM: Failed to allocate memory</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Since:
0.4</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>psl_free_string&nbsp;()</b></font></p>

<p style="margin-left:17%;"><font color="#000000">void <br>
psl_free_string (<b>char</b> <i>*str</i>);</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">This
function <b>free()</b>'s the memory allocated by
<b>psl_str_to_utf8lower()</b> when returning a lowercase
string</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Parameters</big></b></font></p>


<p style="margin-left:17%;"><font color="#000000"><b><big>&nbsp;</big></b></font></p>


<p align="center"><font color="#000000"><b><big><img src="grohtml-333122917.png" alt="Image grohtml-333122917.png"></big></b></font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000">Since:
0.19</font></p>

<h2>TYPES AND VALUES
<a name="TYPES AND VALUES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>PSL_API</b></font></p>

<p style="margin-left:17%;"><font color="#000000"># define
PSL_API __attribute__
((__visibility__(&quot;default&quot;)))</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>PSL_VERSION</b></font></p>

<p style="margin-left:17%;"><font color="#000000">#define
PSL_VERSION &quot;0.21.2&quot;</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>PSL_VERSION_MAJOR</b></font></p>

<p style="margin-left:17%;"><font color="#000000">#define
PSL_VERSION_MAJOR 0</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>PSL_VERSION_MINOR</b></font></p>

<p style="margin-left:17%;"><font color="#000000">#define
PSL_VERSION_MINOR 21</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>PSL_VERSION_NUMBER</b></font></p>

<p style="margin-left:17%;"><font color="#000000">#define
PSL_VERSION_NUMBER 0x001502</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>PSL_VERSION_PATCH</b></font></p>

<p style="margin-left:17%;"><font color="#000000">#define
PSL_VERSION_PATCH 2</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>PSL_TYPE_ICANN</b></font></p>

<p style="margin-left:17%;"><font color="#000000">#define
PSL_TYPE_ICANN (1&lt;&lt;0)</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>PSL_TYPE_PRIVATE</b></font></p>

<p style="margin-left:17%;"><font color="#000000">#define
PSL_TYPE_PRIVATE (1&lt;&lt;1)</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>PSL_TYPE_NO_STAR_RULE</b></font></p>

<p style="margin-left:17%;"><font color="#000000">#define
PSL_TYPE_NO_STAR_RULE (1&lt;&lt;2)</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>PSL_TYPE_ANY</b></font></p>

<p style="margin-left:17%;"><font color="#000000">#define
PSL_TYPE_ANY (PSL_TYPE_ICANN | PSL_TYPE_PRIVATE)</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>enum
psl_error_t</b> <br>
Return codes for PSL functions. Negative return codes mean
failure. Positive values are reserved for non&minus;error
return codes.</font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b><big>Members</big></b></font></p>


<p style="margin-left:17%;"><font color="#000000"><b><big>&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp;</big></b></font></p>


<p align="center"><font color="#000000"><b><big><img src="grohtml-333122918.png" alt="Image grohtml-333122918.png"></big></b></font></p>


<p style="margin-left:11%; margin-top: 1em"><font color="#000000"><b>psl_ctx_t</b></font></p>

<p style="margin-left:17%;"><font color="#000000">typedef
struct psl_ctx_st psl_ctx_t;</font></p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">



<p style="margin-top: 1em"><font color="#000000">1.</font></p> </td>
<td width="2%"></td>
<td width="28%">


<p style="margin-top: 1em"><font color="#000000">Public
Suffix List</font></p></td>
<td width="55%">
</td></tr>
</table>


<p style="margin-left:17%;"><font color="#000000">https://publicsuffix.org/</font></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">



<p style="margin-top: 1em"><font color="#000000">2.</font></p> </td>
<td width="2%"></td>
<td width="40%">


<p style="margin-top: 1em"><font color="#000000">Mozilla
Public Suffix List</font></p></td>
<td width="43%">
</td></tr>
</table>


<p style="margin-left:17%;"><font color="#000000">https://publicsuffix.org</font></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="3%">



<p style="margin-top: 1em"><font color="#000000">3.</font></p> </td>
<td width="2%"></td>
<td width="6%">



<p style="margin-top: 1em"><font color="#000000">List</font></p> </td>
<td width="77%">
</td></tr>
</table>


<p style="margin-left:17%;"><font color="#000000">https://publicsuffix.org/list</font></p>
<hr>
</body>
</html>
