<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:55:33 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>
<h1>mkd-functions</h1>

<hr>


<p>MKD_FUNCTIONS(3) BSD Library Functions Manual
MKD_FUNCTIONS(3)</p>

<p style="margin-top: 1em"><b>NAME</b></p>

<p style="margin-left:6%;"><b>mkd_functions</b> &mdash;
access and process Markdown documents.</p>

<p style="margin-top: 1em"><b>LIBRARY</b></p>

<p style="margin-left:6%;">Markdown (libmarkdown,
-lmarkdown)</p>

<p style="margin-top: 1em"><b>SYNOPSIS</b></p>

<p style="margin-left:6%;"><b>#include
&lt;mkdio.h&gt;</b></p>

<p style="margin-left:6%; margin-top: 1em"><i>int</i></p>


<p style="margin-left:12%;"><b>mkd_compile</b>(<i>MMIOT&nbsp;*document</i>,
<i>int&nbsp;flags</i>);</p>

<p style="margin-left:6%; margin-top: 1em"><i>int</i></p>


<p style="margin-left:12%;"><b>mkd_css</b>(<i>MMIOT&nbsp;*document</i>,
<i>char&nbsp;**doc</i>);</p>

<p style="margin-left:6%; margin-top: 1em"><i>int</i></p>


<p style="margin-left:12%;"><b>mkd_generatecss</b>(<i>MMIOT&nbsp;*document</i>,
<i>FILE&nbsp;*output</i>);</p>

<p style="margin-left:6%; margin-top: 1em"><i>int</i></p>


<p style="margin-left:12%;"><b>mkd_document</b>(<i>MMIOT&nbsp;*document</i>,
<i>char&nbsp;**doc</i>);</p>

<p style="margin-left:6%; margin-top: 1em"><i>int</i></p>


<p style="margin-left:12%;"><b>mkd_generatehtml</b>(<i>MMIOT&nbsp;*document</i>,
<i>FILE&nbsp;*output</i>);</p>

<p style="margin-left:6%; margin-top: 1em"><i>int</i></p>


<p style="margin-left:12%;"><b>mkd_xhtmlpage</b>(<i>MMIOT&nbsp;*document</i>,
<i>int&nbsp;flags</i>, <i>FILE&nbsp;*output</i>);</p>

<p style="margin-left:6%; margin-top: 1em"><i>int</i></p>


<p style="margin-left:12%;"><b>mkd_toc</b>(<i>MMIOT&nbsp;*document</i>,
<i>char&nbsp;**doc</i>);</p>

<p style="margin-left:6%; margin-top: 1em"><i>void</i></p>


<p style="margin-left:12%;"><b>mkd_generatetoc</b>(<i>MMIOT&nbsp;*document</i>,
<i>FILE&nbsp;*output</i>);</p>

<p style="margin-left:6%; margin-top: 1em"><i>void</i></p>


<p style="margin-left:12%;"><b>mkd_cleanup</b>(<i>MMIOT*</i>);</p>


<p style="margin-left:6%; margin-top: 1em"><i>char*</i></p>


<p style="margin-left:12%;"><b>mkd_doc_title</b>(<i>MMIOT*</i>);</p>


<p style="margin-left:6%; margin-top: 1em"><i>char*</i></p>


<p style="margin-left:12%;"><b>mkd_doc_author</b>(<i>MMIOT*</i>);</p>


<p style="margin-left:6%; margin-top: 1em"><i>char*</i></p>


<p style="margin-left:12%;"><b>mkd_doc_date</b>(<i>MMIOT*</i>);</p>

<p style="margin-top: 1em"><b>DESCRIPTION</b></p>

<p style="margin-left:6%;">The <b>markdown</b> format
supported in this implementation includes Pandoc-style
header and inline <i>&lt;style&gt;</i> blocks, and the
standard markdown(3) functions do not provide access to the
data provided by either of those extensions. These functions
give you access to that data, plus they provide a
finer-grained way of converting <i>Markdown</i> documents
into HTML.</p>

<p style="margin-left:6%; margin-top: 1em">Given a
<i>MMIOT*</i> generated by <b>mkd_in</b>() or
<b>mkd_string</b>(), <b>mkd_compile</b>() compiles the
document into <i>&lt;style&gt;</i>, <i>Pandoc</i>, and
<i>html</i> sections.</p>

<p style="margin-left:6%; margin-top: 1em">Once compiled,
the document can be examined and written by the
<b>mkd_css</b>(), <b>mkd_document</b>(),
<b>mkd_generatecss</b>(), <b>mkd_generatehtml</b>(),
<b>mkd_generatetoc</b>(), <b>mkd_toc</b>(),
<b>mkd_xhtmlpage</b>(), <b>mkd_doc_title</b>(),
<b>mkd_doc_author</b>(), and <b>mkd_doc_date</b>()
functions.</p>


<p style="margin-left:6%; margin-top: 1em"><b>mkd_css</b>()
allocates a string and populates it with any &lt;style&gt;
sections provided in the document, <b>mkd_generatecss</b>()
writes any &lt;style&gt; sections to the output,
<b>mkd_document</b>() points <i>text</i> to the text of the
document and returns the size of the document,
<b>mkd_generatehtml</b>() writes the rest of the document to
the output, and <b>mkd_doc_title</b>(),
<b>mkd_doc_author</b>(), <b>mkd_doc_date</b>() are used to
read the contents of a Pandoc header, if any.</p>


<p style="margin-left:6%; margin-top: 1em"><b>mkd_xhtmlpage</b>()
writes a xhtml page containing the document. The regular set
of flags can be passed.</p>


<p style="margin-left:6%; margin-top: 1em"><b>mkd_toc</b>()
writes a document outline, in the form of a collection of
nested lists with links to each header in the document, into
a string allocated with <b>malloc</b>(), and returns the
size.</p>


<p style="margin-left:6%; margin-top: 1em"><b>mkd_generatetoc</b>()
is like <b>mkd_toc</b>(), except that it writes the document
outline to the given <i>FILE*</i> argument.</p>


<p style="margin-left:6%; margin-top: 1em"><b>mkd_cleanup</b>()
deletes a <i>MMIOT*</i> after processing is done.</p>


<p style="margin-left:6%; margin-top: 1em"><b>mkd_compile</b>()
accepts the same flags that <b>markdown</b>() and
<b>mkd_string</b>() do;</p>

<p><i>MKD_NOIMAGE</i></p>

<p style="margin-left:33%; margin-top: 1em">Do not process
&lsquo;![]&rsquo; and remove <i>&lt;img&gt;</i> tags from
the output.</p>

<p><i>MKD_NOLINKS</i></p>

<p style="margin-left:33%; margin-top: 1em">Do not process
&lsquo;[]&rsquo; and remove <i>&lt;a&gt;</i> tags from the
output.</p>

<p><i>MKD_NOPANTS</i></p>

<p style="margin-left:33%; margin-top: 1em">Do not do
Smartypants-style mangling of quotes, dashes, or
ellipses.</p>

<p><i>MKD_TAGTEXT</i></p>

<p style="margin-left:33%; margin-top: 1em">Process the
input as if you were inside a html tag. This means that no
html tags will be generated, and <b>mkd_compile</b>() will
attempt to escape anything that might terribly confuse a web
browser.</p>

<p><i>MKD_NO_EXT</i></p>

<p style="margin-left:33%; margin-top: 1em">Do not process
any markdown pseudo-protocols when handing <i>[][]</i>
links.</p>

<p><i>MKD_NOHEADER</i></p>

<p style="margin-left:33%; margin-top: 1em">Do not attempt
to parse any Pandoc-style headers.</p>

<p><i>MKD_TOC</i></p>

<p style="margin-left:33%; margin-top: 1em">Label all
headers for use with the <b>mkd_generatetoc</b>()
function.</p>

<p><i>MKD_1_COMPAT</i></p>


<p style="margin-left:33%; margin-top: 1em">MarkdownTest_1.0
compatibility flag; trim trailing spaces from the first line
of code blocks and disable implicit reference links.</p>

<p><i>MKD_NOSTRIKETHROUGH</i></p>

<p style="margin-left:33%; margin-top: 1em">Disable
strikethrough support.</p>

<p style="margin-top: 1em"><b>RETURN VALUES</b></p>

<p style="margin-left:6%;">The function
<b>mkd_compile</b>() returns 1 in the case of success, or 0
if the document is already compiled. The function
<b>mkd_generatecss</b>() returns the number of bytes written
in the case of success, or EOF if an error occurred. The
function <b>mkd_generatehtml</b>() returns 0 on success,
&minus;1 on failure.</p>

<p style="margin-top: 1em"><b>SEE ALSO</b></p>

<p style="margin-left:6%;">markdown(1), markdown(3),
mkd-line(3), markdown(7), mkd-extensions(7), mmap(2).</p>


<p style="margin-left:6%; margin-top: 1em">http://daringfireball.net/projects/markdown/syntax</p>

<p style="margin-top: 1em"><b>BUGS</b></p>

<p style="margin-left:6%;">Error handling is minimal at
best.</p>

<p style="margin-left:6%; margin-top: 1em">Mastodon
January&nbsp;18, 2008 Mastodon</p>
<hr>
</body>
</html>
