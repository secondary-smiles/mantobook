<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:55:22 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>IPQ_CREATE_HANDLE</title>

</head>
<body>
<h1>ipq_destroy_handle</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">ipq_create_handle,
ipq_destroy_handle &mdash; create and destroy libipq
handles.</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;linux/netfilter.h&gt; <br>
#include &lt;libipq.h&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>struct
ipq_handle *ipq_create_handle(uint32_t</b> <i>flags</i><b>,
uint32_t</b> <i>protocol</i><b>); <br>
int ipq_destroy_handle(struct ipq_handle
*</b><i>h</i><b>);</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>ipq_create_handle</b> function initialises libipq for an
application, attempts to bind to the Netlink socket used by
ip_queue, and returns an opaque context handle. It should be
the first libipq function to be called by an application.
The handle returned should be used in all subsequent library
calls which require a handle parameter.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>flags</i> parameter is not currently used and should be
set to zero by the application for forward
compatibility.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>protocol</i> parameter is used to specify the protocol of
the packets to be queued. Valid values are NFPROTO_IPV4 for
IPv4 and NFPROTO_IPV6 for IPv6. Currently, only one protocol
may be queued at a time for a handle.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>ipq_destroy_handle</b> function frees up resources
allocated by <b>ipq_create_handle</b>, and should be used
when the handle is no longer required by the
application.</p>

<h2>RETURN VALUES
<a name="RETURN VALUES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">On success,
<b>ipq_create_handle</b> returns a pointer to a context
handle. <br>
On failure, NULL is returned.</p>

<p style="margin-left:11%; margin-top: 1em">On success,
<b>ipq_destroy_handle</b> returns zero. <br>
On failure, &minus;1 is returned.</p>

<h2>ERRORS
<a name="ERRORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">On failure, a
descriptive error message will be available via the
<b>ipq_errstr</b> function.</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">None known.</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">James Morris
&lt;jmorris@intercode.com.au&gt;</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright (c)
2000-2001 Netfilter Core Team.</p>

<p style="margin-left:11%; margin-top: 1em">Distributed
under the GNU General Public License.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>iptables</b>(8),
<b>libipq</b>(3).</p>
<hr>
</body>
</html>
