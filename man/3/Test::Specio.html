<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:56:18 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>Test::Specio</title>

</head>
<body>
<h1>Test::Specio</h1>



<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Test::Specio
&minus; Test helpers for Specio</p>

<h2>VERSION
<a name="VERSION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">version
0.48</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">use
Test::Specio qw( test_constraint :vars ); <br>
test_constraint( <br>
t('Foo'), { <br>
accept =&gt; [ 'foo', 'bar' ], <br>
reject =&gt; [ 42, {}, $EMPTY_STRING, $HASH_REF ], <br>
} <br>
);</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This package
provides some helper functions and variables for testing
Specio types.</p>

<h2>EXPORTS
<a name="EXPORTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This module
provides the following exports:</p>


<p style="margin-left:11%; margin-top: 1em"><b>test_constraint(
$type, $tests, [ $describer ] )</b> <br>
This subroutine accepts two arguments. The first should be a
Specio type object. The second is hashref which can contain
the keys &quot;accept&quot; and &quot;reject&quot;. Each key
should contain an arrayref of values which the type accepts
or rejects.</p>

<p style="margin-left:11%; margin-top: 1em">The third
argument is optional. This is a sub reference which will be
called to generate a description of the value being tested.
This defaults to calling this package&rsquo;s
&quot;describe&quot; sub, but you can provide your own.</p>


<p style="margin-left:11%; margin-top: 1em"><b>describe($value)</b>
<br>
Given a value, this subroutine returns a string describing
that value in a useful way for test output. It know about
the various classes used for the variables exported by this
package and will do something intelligent when such a
variable.</p>


<p style="margin-left:11%; margin-top: 1em"><b>builtins_tests(
$GLOB, $GLOB_OVERLOAD, $GLOB_OVERLOAD_FH )</b> <br>
This subroutine returns a hashref containing test variables
for all builtin types. The hashref has a form like this:</p>

<p style="margin-left:11%; margin-top: 1em">{ <br>
Bool =&gt; { <br>
accept =&gt; [ <br>
$ZERO, <br>
$ONE, <br>
$BOOL_OVERLOAD_TRUE, <br>
$BOOL_OVERLOAD_FALSE, <br>
..., <br>
], <br>
reject =&gt; [ <br>
$INT, <br>
$NEG_INT, <br>
$NUM, <br>
$NEG_NUM, <br>
..., <br>
$OBJECT, <br>
], <br>
}, <br>
Maybe =&gt; {...}, <br>
}</p>

<p style="margin-left:11%; margin-top: 1em">You need to
pass in a glob, an object which overloads globification, and
an object which overloads globification to return an open
filehandle. See below for more details on how to create
these things.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Variables</b>
<br>
This module also exports many variables containing values
which are useful for testing constraints. Note that
references are always empty unless stated otherwise. You can
import these variables individually or import all of them
with the &quot;:vars&quot; import tag.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="8%">


<p>$ZERO</p></td>
<td width="75%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="8%">


<p>$ONE</p></td>
<td width="75%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="8%">


<p>$INT</p></td>
<td width="75%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">An arbitrary
positive integer.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="12%">


<p style="margin-top: 1em">$NEG_INT</p></td>
<td width="71%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">An arbitrary
negative integer.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="6%">


<p style="margin-top: 1em">$NUM</p></td>
<td width="77%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">An arbitrary
positive non-integer number.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="12%">


<p style="margin-top: 1em">$NEG_NUM</p></td>
<td width="71%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">An arbitrary
negative non-integer number.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="20%">


<p style="margin-top: 1em">$EMPTY_STRING</p></td>
<td width="63%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="20%">


<p>$STRING</p></td>
<td width="63%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">An arbitrary
non-empty string.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="21%">


<p style="margin-top: 1em">$NUM_IN_STRING</p></td>
<td width="62%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">An arbitrary
string which contains a number.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="20%">


<p style="margin-top: 1em">$INT_WITH_NL1</p></td>
<td width="63%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">An string
containing an integer followed by a newline.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="20%">


<p style="margin-top: 1em">$INT_WITH_NL2</p></td>
<td width="63%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">An string
containing a newline followed by an integer.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="23%">


<p style="margin-top: 1em">$SCALAR_REF</p></td>
<td width="60%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="23%">


<p>$SCALAR_REF_REF</p></td>
<td width="60%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">A reference
containing a reference to a scalar.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="15%">


<p style="margin-top: 1em">$ARRAY_REF</p></td>
<td width="68%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="15%">


<p>$HASH_REF</p></td>
<td width="68%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="15%">


<p>$CODE_REF</p></td>
<td width="68%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="15%">


<p>$GLOB_REF</p></td>
<td width="68%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="15%">


<p>$FH</p></td>
<td width="68%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">An opened
filehandle.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="15%">


<p style="margin-top: 1em">$FH_OBJECT</p></td>
<td width="68%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">An opened
IO::File object.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="9%">


<p style="margin-top: 1em">$REGEX</p></td>
<td width="74%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">A regex created
with &quot;qr//&quot;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="15%">


<p style="margin-top: 1em">$REGEX_OBJ</p></td>
<td width="68%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">A regex created
with &quot;qr//&quot; that was then blessed into class.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="17%">


<p style="margin-top: 1em">$FAKE_REGEX</p></td>
<td width="66%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">A non-regex
blessed into the &quot;Regexp&quot; class which Perl uses
internally for &quot;qr//&quot; objects.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="11%">


<p style="margin-top: 1em">$OBJECT</p></td>
<td width="72%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">An arbitrary
object.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="17%">


<p style="margin-top: 1em">$UNDEF</p></td>
<td width="66%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="17%">


<p>$CLASS_NAME</p></td>
<td width="66%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">A string
containing a loaded package name.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="29%">


<p style="margin-top: 1em">$BOOL_OVERLOAD_TRUE</p></td>
<td width="54%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">An object which
overloads boolification to return true.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="31%">


<p style="margin-top: 1em">$BOOL_OVERLOAD_FALSE</p></td>
<td width="52%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">An object which
overloads boolification to return false.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="29%">


<p style="margin-top: 1em">$STR_OVERLOAD_EMPTY</p></td>
<td width="54%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">An object which
overloads stringification to return an empty string.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="28%">


<p style="margin-top: 1em">$STR_OVERLOAD_FULL</p></td>
<td width="55%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">An object which
overloads stringification to return a non-empty string.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="37%">


<p style="margin-top: 1em">$STR_OVERLOAD_CLASS_NAME</p></td>
<td width="46%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">An object which
overloads stringification to return a loaded package
name.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="38%">


<p style="margin-top: 1em">$NUM_OVERLOAD_ZERO</p></td>
<td width="45%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="38%">


<p>$NUM_OVERLOAD_ONE</p></td>
<td width="45%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="38%">


<p>$NUM_OVERLOAD_NEG</p></td>
<td width="45%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="38%">


<p>$NUM_OVERLOAD_DECIMAL</p></td>
<td width="45%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="38%">


<p>$NUM_OVERLOAD_NEG_DECIMAL</p></td>
<td width="45%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="38%">


<p>$CODE_OVERLOAD</p></td>
<td width="45%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="38%">


<p>$SCALAR_OVERLOAD</p></td>
<td width="45%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">An object which
overloads scalar dereferencing to return a non-empty
string.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="23%">


<p style="margin-top: 1em">$ARRAY_OVERLOAD</p></td>
<td width="60%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">An object which
overloads array dereferencing to return a non-empty
array.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="21%">


<p style="margin-top: 1em">$HASH_OVERLOAD</p></td>
<td width="62%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">An object which
overloads hash dereferencing to return a non-empty hash.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Globs and
the _T::GlobOverload package</b> <br>
To create a glob you can pass around for tests, use this
code:</p>

<p style="margin-left:11%; margin-top: 1em">my $GLOB = do {
<br>
no warnings 'once'; <br>
*SOME_GLOB; <br>
};</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;_T::GlobOverload&quot; package is defined when you
load &quot;Test::Specio&quot; so you can create your own
glob overloading objects. Such objects cannot be exported
because the glob they return does not transfer across
packages properly.</p>

<p style="margin-left:11%; margin-top: 1em">You can create
such a variable like this:</p>

<p style="margin-left:11%; margin-top: 1em">local *FOO;
<br>
my $GLOB_OVERLOAD = _T::GlobOverload&minus;&gt;new( \*FOO
);</p>

<p style="margin-left:11%; margin-top: 1em">If you want to
create a glob overloading object that returns a filehandle,
do this:</p>

<p style="margin-left:11%; margin-top: 1em">local *BAR;
<br>
open BAR, '&lt;', $^X or die &quot;Could not open $^X for
the test&quot;; <br>
my $GLOB_OVERLOAD_FH = _T::GlobOverload&minus;&gt;new( \*BAR
);</p>

<h2>SUPPORT
<a name="SUPPORT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Bugs may be
submitted at
&lt;https://github.com/houseabsolute/Specio/issues&gt;.</p>

<h2>SOURCE
<a name="SOURCE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The source code
repository for Specio can be found at
&lt;https://github.com/houseabsolute/Specio&gt;.</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Dave Rolsky
&lt;autarch@urth.org&gt;</p>

<h2>COPYRIGHT AND LICENSE
<a name="COPYRIGHT AND LICENSE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This software
is Copyright (c) 2012 &minus; 2022 by Dave Rolsky.</p>

<p style="margin-left:11%; margin-top: 1em">This is free
software, licensed under:</p>

<p style="margin-left:11%; margin-top: 1em">The Artistic
License 2.0 (GPL Compatible)</p>

<p style="margin-left:11%; margin-top: 1em">The full text
of the license can be found in the
<i><small>LICENSE</small></i> file included with this
distribution.</p>
<hr>
</body>
</html>
