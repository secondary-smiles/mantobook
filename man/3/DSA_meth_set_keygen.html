<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:54:45 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>DSA_METH_NEW</title>

</head>
<body>
<h1>DSA_meth_set_keygen</h1>



<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">DSA_meth_new,
DSA_meth_free, DSA_meth_dup, DSA_meth_get0_name,
DSA_meth_set1_name, DSA_meth_get_flags, DSA_meth_set_flags,
DSA_meth_get0_app_data, DSA_meth_set0_app_data,
DSA_meth_get_sign, DSA_meth_set_sign,
DSA_meth_get_sign_setup, DSA_meth_set_sign_setup,
DSA_meth_get_verify, DSA_meth_set_verify,
DSA_meth_get_mod_exp, DSA_meth_set_mod_exp,
DSA_meth_get_bn_mod_exp, DSA_meth_set_bn_mod_exp,
DSA_meth_get_init, DSA_meth_set_init, DSA_meth_get_finish,
DSA_meth_set_finish, DSA_meth_get_paramgen,
DSA_meth_set_paramgen, DSA_meth_get_keygen,
DSA_meth_set_keygen &minus; Routines to build up DSA
methods</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">#include
&lt;openssl/dsa.h&gt;</p>

<p style="margin-left:11%; margin-top: 1em">The following
functions have been deprecated since OpenSSL 3.0, and can be
hidden entirely by defining
<b><small>OPENSSL_API_COMPAT</small></b> with a suitable
version value, see <b>openssl_user_macros</b>(7):</p>

<p style="margin-left:11%; margin-top: 1em">DSA_METHOD
*DSA_meth_new(const char *name, int flags); <br>
void DSA_meth_free(DSA_METHOD *dsam); <br>
DSA_METHOD *DSA_meth_dup(const DSA_METHOD *meth); <br>
const char *DSA_meth_get0_name(const DSA_METHOD *dsam); <br>
int DSA_meth_set1_name(DSA_METHOD *dsam, const char *name);
<br>
int DSA_meth_get_flags(const DSA_METHOD *dsam); <br>
int DSA_meth_set_flags(DSA_METHOD *dsam, int flags); <br>
void *DSA_meth_get0_app_data(const DSA_METHOD *dsam); <br>
int DSA_meth_set0_app_data(DSA_METHOD *dsam, void
*app_data); <br>
DSA_SIG *(*DSA_meth_get_sign(const DSA_METHOD *dsam))(const
unsigned char *, <br>
int, DSA *); <br>
int DSA_meth_set_sign(DSA_METHOD *dsam, DSA_SIG
*(*sign)(const unsigned char *, <br>
int, DSA *)); <br>
int (*DSA_meth_get_sign_setup(const DSA_METHOD *dsam))(DSA
*, BN_CTX *,$ <br>
BIGNUM **, BIGNUM **); <br>
int DSA_meth_set_sign_setup(DSA_METHOD *dsam, int
(*sign_setup)(DSA *, BN_CTX *, <br>
BIGNUM **, BIGNUM **)); <br>
int (*DSA_meth_get_verify(const DSA_METHOD *dsam))(const
unsigned char *, <br>
int, DSA_SIG *, DSA *); <br>
int DSA_meth_set_verify(DSA_METHOD *dsam, int
(*verify)(const unsigned char *, <br>
int, DSA_SIG *, DSA *)); <br>
int (*DSA_meth_get_mod_exp(const DSA_METHOD *dsam))(DSA
*dsa, BIGNUM *rr, BIGNUM *a1, <br>
BIGNUM *p1, BIGNUM *a2, BIGNUM *p2, <br>
BIGNUM *m, BN_CTX *ctx, <br>
BN_MONT_CTX *in_mont); <br>
int DSA_meth_set_mod_exp(DSA_METHOD *dsam, int
(*mod_exp)(DSA *dsa, BIGNUM *rr, <br>
BIGNUM *a1, BIGNUM *p1, <br>
BIGNUM *a2, BIGNUM *p2, <br>
BIGNUM *m, BN_CTX *ctx, <br>
BN_MONT_CTX *mont)); <br>
int (*DSA_meth_get_bn_mod_exp(const DSA_METHOD *dsam))(DSA
*dsa, BIGNUM *r, BIGNUM *a, <br>
const BIGNUM *p, const BIGNUM *m, <br>
BN_CTX *ctx, BN_MONT_CTX *mont); <br>
int DSA_meth_set_bn_mod_exp(DSA_METHOD *dsam, int
(*bn_mod_exp)(DSA *dsa, <br>
BIGNUM *r, <br>
BIGNUM *a, <br>
const BIGNUM *p, <br>
const BIGNUM *m, <br>
BN_CTX *ctx, <br>
BN_MONT_CTX *mont)); <br>
int (*DSA_meth_get_init(const DSA_METHOD *dsam))(DSA *);
<br>
int DSA_meth_set_init(DSA_METHOD *dsam, int (*init)(DSA *));
<br>
int (*DSA_meth_get_finish(const DSA_METHOD *dsam))(DSA *);
<br>
int DSA_meth_set_finish(DSA_METHOD *dsam, int (*finish)(DSA
*)); <br>
int (*DSA_meth_get_paramgen(const DSA_METHOD *dsam))(DSA *,
int, <br>
const unsigned char *, <br>
int, int *, unsigned long *, <br>
BN_GENCB *); <br>
int DSA_meth_set_paramgen(DSA_METHOD *dsam, <br>
int (*paramgen)(DSA *, int, const unsigned char *, <br>
int, int *, unsigned long *, BN_GENCB *)); <br>
int (*DSA_meth_get_keygen(const DSA_METHOD *dsam))(DSA *);
<br>
int DSA_meth_set_keygen(DSA_METHOD *dsam, int (*keygen)(DSA
*));</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">All of the
functions described on this page are deprecated.
Applications and extension implementations should instead
use the <small>OSSL_PROVIDER</small> APIs.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b><small>DSA_METHOD</small></b> type is a structure used
for the provision of custom <small>DSA</small>
implementations. It provides a set of functions used by
OpenSSL for the implementation of the various
<small>DSA</small> capabilities.</p>


<p style="margin-left:11%; margin-top: 1em"><b>DSA_meth_new()</b>
creates a new <b><small>DSA_METHOD</small></b> structure. It
should be given a unique <b>name</b> and a set of
<b>flags</b>. The <b>name</b> should be a
<small>NULL</small> terminated string, which will be
duplicated and stored in the
<b><small>DSA_METHOD</small></b> object. It is the callers
responsibility to free the original string. The flags will
be used during the construction of a new
<b><small>DSA</small></b> object based on this
<b><small>DSA_METHOD</small></b> . Any new
<b><small>DSA</small></b> object will have those flags set
by default.</p>


<p style="margin-left:11%; margin-top: 1em"><b>DSA_meth_dup()</b>
creates a duplicate copy of the
<b><small>DSA_METHOD</small></b> object passed as a
parameter. This might be useful for creating a new
<b><small>DSA_METHOD</small></b> based on an existing one,
but with some differences.</p>


<p style="margin-left:11%; margin-top: 1em"><b>DSA_meth_free()</b>
destroys a <b><small>DSA_METHOD</small></b> structure and
frees up any memory associated with it.</p>


<p style="margin-left:11%; margin-top: 1em"><b>DSA_meth_get0_name()</b>
will return a pointer to the name of this
<small>DSA_METHOD.</small> This is a pointer to the internal
name string and so should not be freed by the caller.
<b>DSA_meth_set1_name()</b> sets the name of the
<small>DSA_METHOD</small> to <b>name</b>. The string is
duplicated and the copy is stored in the
<small>DSA_METHOD</small> structure, so the caller remains
responsible for freeing the memory associated with the
name.</p>


<p style="margin-left:11%; margin-top: 1em"><b>DSA_meth_get_flags()</b>
returns the current value of the flags associated with this
<small>DSA_METHOD.</small> <b>DSA_meth_set_flags()</b>
provides the ability to set these flags.</p>

<p style="margin-left:11%; margin-top: 1em">The functions
<b>DSA_meth_get0_app_data()</b> and
<b>DSA_meth_set0_app_data()</b> provide the ability to
associate implementation specific data with the
<small>DSA_METHOD.</small> It is the application&rsquo;s
responsibility to free this data before the
<small>DSA_METHOD</small> is freed via a call to
<b>DSA_meth_free()</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>DSA_meth_get_sign()</b>
and <b>DSA_meth_set_sign()</b> get and set the function used
for creating a <small>DSA</small> signature respectively.
This function will be called in response to the application
calling <b>DSA_do_sign()</b> (or <b>DSA_sign()</b>). The
parameters for the function have the same meaning as for
<b>DSA_do_sign()</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>DSA_meth_get_sign_setup()</b>
and <b>DSA_meth_set_sign_setup()</b> get and set the
function used for precalculating the <small>DSA</small>
signature values <b>k^&minus;1</b> and <b>r</b>. This
function will be called in response to the application
calling <b>DSA_sign_setup()</b>. The parameters for the
function have the same meaning as for
<b>DSA_sign_setup()</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>DSA_meth_get_verify()</b>
and <b>DSA_meth_set_verify()</b> get and set the function
used for verifying a <small>DSA</small> signature
respectively. This function will be called in response to
the application calling <b>DSA_do_verify()</b> (or
<b>DSA_verify()</b>). The parameters for the function have
the same meaning as for <b>DSA_do_verify()</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>DSA_meth_get_mod_exp()</b>
and <b>DSA_meth_set_mod_exp()</b> get and set the function
used for computing the following value:</p>

<p style="margin-left:11%; margin-top: 1em">rr = a1^p1 *
a2^p2 mod m</p>

<p style="margin-left:11%; margin-top: 1em">This function
will be called by the default OpenSSL method during
verification of a <small>DSA</small> signature. The result
is stored in the <b>rr</b> parameter. This function may be
<small>NULL.</small></p>


<p style="margin-left:11%; margin-top: 1em"><b>DSA_meth_get_bn_mod_exp()</b>
and <b>DSA_meth_set_bn_mod_exp()</b> get and set the
function used for computing the following value:</p>

<p style="margin-left:11%; margin-top: 1em">r = a ^ p mod
m</p>

<p style="margin-left:11%; margin-top: 1em">This function
will be called by the default OpenSSL function for
<b>DSA_sign_setup()</b>. The result is stored in the
<b>r</b> parameter. This function may be
<small>NULL.</small></p>


<p style="margin-left:11%; margin-top: 1em"><b>DSA_meth_get_init()</b>
and <b>DSA_meth_set_init()</b> get and set the function used
for creating a new <small>DSA</small> instance respectively.
This function will be called in response to the application
calling <b>DSA_new()</b> (if the current default
<small>DSA_METHOD</small> is this one) or
<b>DSA_new_method()</b>. The <b>DSA_new()</b> and
<b>DSA_new_method()</b> functions will allocate the memory
for the new <small>DSA</small> object, and a pointer to this
newly allocated structure will be passed as a parameter to
the function. This function may be <small>NULL.</small></p>


<p style="margin-left:11%; margin-top: 1em"><b>DSA_meth_get_finish()</b>
and <b>DSA_meth_set_finish()</b> get and set the function
used for destroying an instance of a <small>DSA</small>
object respectively. This function will be called in
response to the application calling <b>DSA_free()</b>. A
pointer to the <small>DSA</small> to be destroyed is passed
as a parameter. The destroy function should be used for
<small>DSA</small> implementation specific clean up. The
memory for the <small>DSA</small> itself should not be freed
by this function. This function may be
<small>NULL.</small></p>


<p style="margin-left:11%; margin-top: 1em"><b>DSA_meth_get_paramgen()</b>
and <b>DSA_meth_set_paramgen()</b> get and set the function
used for generating <small>DSA</small> parameters
respectively. This function will be called in response to
the application calling <b>DSA_generate_parameters_ex()</b>
(or <b>DSA_generate_parameters()</b>). The parameters for
the function have the same meaning as for
<b>DSA_generate_parameters_ex()</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>DSA_meth_get_keygen()</b>
and <b>DSA_meth_set_keygen()</b> get and set the function
used for generating a new <small>DSA</small> key pair
respectively. This function will be called in response to
the application calling <b>DSA_generate_key()</b>. The
parameter for the function has the same meaning as for
<b>DSA_generate_key()</b>.</p>

<h2>RETURN VALUES
<a name="RETURN VALUES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>DSA_meth_new()</b>
and <b>DSA_meth_dup()</b> return the newly allocated
<small>DSA_METHOD</small> object or <small>NULL</small> on
failure.</p>


<p style="margin-left:11%; margin-top: 1em"><b>DSA_meth_get0_name()</b>
and <b>DSA_meth_get_flags()</b> return the name and flags
associated with the <small>DSA_METHOD</small>
respectively.</p>

<p style="margin-left:11%; margin-top: 1em">All other
DSA_meth_get_*() functions return the appropriate function
pointer that has been set in the <small>DSA_METHOD,</small>
or <small>NULL</small> if no such pointer has yet been
set.</p>


<p style="margin-left:11%; margin-top: 1em"><b>DSA_meth_set1_name()</b>
and all DSA_meth_set_*() functions return 1 on success or 0
on failure.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>DSA_new</b>(3),
<b>DSA_new</b>(3), <b>DSA_generate_parameters</b>(3),
<b>DSA_generate_key</b>(3), <b>DSA_dup_DH</b>(3),
<b>DSA_do_sign</b>(3), <b>DSA_set_method</b>(3),
<b>DSA_SIG_new</b>(3), <b>DSA_sign</b>(3),
<b>DSA_size</b>(3), <b>DSA_get0_pqg</b>(3)</p>

<h2>HISTORY
<a name="HISTORY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The functions
described here were deprecated in OpenSSL 3.0.</p>

<p style="margin-left:11%; margin-top: 1em">The functions
described here were added in OpenSSL 1.1.0.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright
2016&minus;2021 The OpenSSL Project Authors. All Rights
Reserved.</p>

<p style="margin-left:11%; margin-top: 1em">Licensed under
the Apache License 2.0 (the &quot;License&quot;). You may
not use this file except in compliance with the License. You
can obtain a copy in the file <small>LICENSE</small> in the
source distribution or at
&lt;https://www.openssl.org/source/license.html&gt;.</p>
<hr>
</body>
</html>
