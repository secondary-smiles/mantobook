<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:54:29 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>CURLOPT_CONNECT_ONLY</title>

</head>
<body>
<h1>CURLOPT_CONNECT_ONLY</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">CURLOPT_CONNECT_ONLY
&minus; stop when connected to target server</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">#include
&lt;curl/curl.h&gt;</p>

<p style="margin-left:11%; margin-top: 1em">CURLcode
curl_easy_setopt(CURL *handle, CURLOPT_CONNECT_ONLY, long
only);</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Pass a long. If
the parameter equals 1, it tells the library to perform all
the required proxy authentication and connection setup, but
no data transfer, and then return.</p>

<p style="margin-left:11%; margin-top: 1em">The option can
be used to simply test a connection to a server, but is more
useful when used with the <i>CURLINFO_ACTIVESOCKET(3)</i>
option to <i>curl_easy_getinfo(3)</i> as the library can set
up the connection and then the application can obtain the
most recently used socket for special data transfers.</p>

<p style="margin-left:11%; margin-top: 1em">Since 7.86.0,
this option can be set to &rsquo;2&rsquo; and if HTTP or
WebSocket are used, libcurl will do the request and read all
response headers before handing over control to the
application.</p>

<p style="margin-left:11%; margin-top: 1em">Transfers
marked connect only will not reuse any existing connections
and connections marked connect only will not be allowed to
get reused.</p>

<p style="margin-left:11%; margin-top: 1em">If the connect
only transfer is done using the multi interface, the
particular easy handle must remain added to the multi handle
for as long as the application wants to use it. Once it has
been removed with <i>curl_multi_remove_handle(3)</i>,
<i>curl_easy_send(3)</i> and <i>curl_easy_recv(3)</i> do not
function.</p>

<h2>DEFAULT
<a name="DEFAULT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">0</p>

<h2>PROTOCOLS
<a name="PROTOCOLS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">HTTP, SMTP,
POP3 and IMAP. For WS and WSS starting in 7.86.0.</p>

<h2>EXAMPLE
<a name="EXAMPLE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">CURL *curl =
curl_easy_init(); <br>
if(curl) { <br>
CURLcode ret; <br>
curl_easy_setopt(curl, CURLOPT_URL,
&quot;https://example.com/&quot;); <br>
curl_easy_setopt(curl, CURLOPT_CONNECT_ONLY, 1L); <br>
ret = curl_easy_perform(curl); <br>
if(ret == CURLE_OK) { <br>
/* only connected! */ <br>
} <br>
}</p>

<h2>AVAILABILITY
<a name="AVAILABILITY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Added in
7.15.2</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Returns
CURLE_OK if the option is supported, and
CURLE_UNKNOWN_OPTION if not.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>CURLOPT_VERBOSE</b>(3),
<b>CURLOPT_HTTPPROXYTUNNEL</b>(3), <b>curl_easy_recv</b>(3),
<b>curl_easy_send</b>(3)</p>
<hr>
</body>
</html>
