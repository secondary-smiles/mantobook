<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:55:34 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>MPI_Dist_graph_create_adjacent</title>

</head>
<body>
<h1>MPI_Dist_graph_create_adjacent</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>MPI_Dist_graph_create_adjacent</b>
&minus; Makes a new communicator to which topology
information has been attached.</p>

<h2>SYNTAX
<a name="SYNTAX"></a>
</h2>


<h2>C Syntax
<a name="C Syntax"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">#include
&lt;mpi.h&gt; <br>
int MPI_Dist_graph_create_adjacent(MPI_Comm <i>comm_old</i>,
int <i>indegree</i>, const int <i>sources[]</i>,</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>const int <i>sourceweights[]</i>, int <i>outdegree</i>,
const int <i>destinations</i>[], const int
<i>destweights</i>[],</p> </td></tr>
</table>

<p style="margin-left:11%;">MPI_Info info, int
<i>reorder</i>, MPI_Comm <i>*comm_dist_graph</i>)</p>

<h2>Fortran Syntax
<a name="Fortran Syntax"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">USE MPI <br>
! or the older form: INCLUDE &rsquo;mpif.h&rsquo; <br>
MPI_DIST_GRAPH_CREATE_ADJACENT(<i>COMM_OLD, INDEGREE,
SOURCES, SOURCEWEIGHTS, OUTDEGREE, <br>
DESTINATIONS, DESTWEIGHTS, INFO, REORDER, COMM_DIST_GRAPH,
IERROR</i>)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%"></td>
<td width="8%"></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">


<p>INTEGER</p></td>
<td width="8%"></td>
<td width="8%"></td>
<td width="69%">


<p><i>COMM_OLD, INDEGREE, SOURCES(*), SOURCEWEIGHTS(*),
OUTDEGREE, DESTINATIONS(*), DESTWEIGHTS(*), INFO</i></p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%"></td>
<td width="8%"></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">


<p>INTEGER</p></td>
<td width="8%"></td>
<td width="8%"></td>
<td width="69%">


<p><i>COMM_DIST_GRAPH, IERROR</i></p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">


<p>LOGICAL <i>REORDER</i></p></td>
<td width="8%"></td>
<td width="8%"></td>
<td width="69%">
</td></tr>
</table>

<h2>Fortran 2008 Syntax
<a name="Fortran 2008 Syntax"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">USE mpi_f08
<br>
MPI_Dist_Graph_create_adjacent(<i>comm_old</i>,
<i>ndegree</i>, <i>sources</i>, <i>sourceweights</i>,</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="77%">


<p><i>outdegree</i>, <i>destinations</i>,
<i>destweights</i>, <i>info</i>, <i>reorder</i>,</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="77%">


<p><i>comm_dist_graph</i>, <i>ierror</i>)</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>TYPE(MPI_Comm), INTENT(IN) :: <i>comm_old</i></p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>INTEGER, INTENT(IN) :: <i>indegree</i>,
<i>sources(indegree)</i>, <i>outdegree</i>,
<i>destinations(outdegree)</i></p> </td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>INTEGER, INTENT(IN) :: <i>sourceweights(*)</i>,
<i>destweights(*)</i></p> </td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>TYPE(MPI_Info), INTENT(IN) :: <i>info</i></p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>LOGICAL, INTENT(IN) :: reorder</p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>TYPE(MPI_Comm), INTENT(OUT) ::
<i>comm_dist_graph</i></p> </td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>INTEGER, OPTIONAL, INTENT(OUT) :: <i>ierror</i></p></td>
<td width="77%">
</td></tr>
</table>

<h2>INPUT PARAMETERS
<a name="INPUT PARAMETERS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p style="margin-top: 1em">comm_old</p></td>
<td width="3%"></td>
<td width="74%">


<p style="margin-top: 1em">Input communicator without
topology (handle).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p>indegree</p></td>
<td width="3%"></td>
<td width="74%">


<p>Size of <i>sources</i> and <i>sourceweights</i> arrays
(non-negative integer).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p>sources</p></td>
<td width="3%"></td>
<td width="74%">


<p>Ranks of processes for which the calling process is a
destination (array of non-negative integers).</p></td></tr>
</table>

<p style="margin-left:11%;">sourceweights</p>

<p style="margin-left:26%;">Weights of the edges into the
calling process (array of non-negative integers).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>outdegree</p></td>
<td width="1%"></td>
<td width="74%">


<p>Size of <i>destinations</i> and <i>destweights</i>
arrays (non-negative integer).</p></td></tr>
</table>

<p style="margin-left:11%;">destinations</p>

<p style="margin-left:26%;">Ranks of processes for which
the calling process is a source (array of non-negative
integers).</p>

<p style="margin-left:11%;">destweights</p>

<p style="margin-left:26%;">Weights of the edges out of the
calling process (array of non-negative integers).</p>

<p style="margin-left:11%;">Hints on optimization and
interpretation of weights (handle).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p>reorder</p></td>
<td width="4%"></td>
<td width="74%">


<p>Ranking may be reordered (true) or not (false)
(logical).</p> </td></tr>
</table>

<h2>OUTPUT PARAMETERS
<a name="OUTPUT PARAMETERS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">comm_dist_graph</p>

<p style="margin-left:26%;">Communicator with distibuted
graph topology added (handle).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p>IERROR</p></td>
<td width="6%"></td>
<td width="57%">


<p>Fortran only: Error status (integer).</p></td>
<td width="17%">
</td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">MPI_Dist_graph_create_adjacent
creats a new communicator <i>comm_dist_graph</i> with
distrubuted graph topology and returns a handle to the new
communicator. The number of processes in
<i>comm_dist_graph</i> is identical to the number of
processes in <i>comm_old</i>. Each process passes all
information about its incoming and outgoing edges in the
virtual distributed graph topology. The calling processes
must ensure that each edge of the graph is described in the
source and in the destination process with the same weights.
If there are multiple edges for a given (source,dest) pair,
then the sequence of the weights of these edges does not
matter. The complete communication topology is the
combination of all edges shown in the <i>sources</i> arrays
of all processes in comm_old, which must be identical to the
combination of all edges shown in the <i>destinations</i>
arrays. Source and destination ranks must be process ranks
of comm_old. This allows a fully distributed specication of
the communication graph. Isolated processes (i.e., processes
with no outgoing or incoming edges, that is, processes that
have specied indegree and outdegree as zero and thus do not
occur as source or destination rank in the graph
specication) are allowed. The call to
MPI_Dist_graph_create_adjacent is collective.</p>

<h2>WEIGHTS
<a name="WEIGHTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Weights are
specied as non-negative integers and can be used to
influence the process remapping strategy and other internal
MPI optimizations. For instance, approximate count arguments
of later communication calls along specic edges could be
used as their edge weights. Multiplicity of edges can
likewise indicate more intense communication between pairs
of processes. However, the exact meaning of edge weights is
not specied by the MPI standard and is left to the
implementation. An application can supply the special value
MPI_UNWEIGHTED for the weight array to indicate that all
edges have the same (effectively no) weight. It is erroneous
to supply MPI_UNWEIGHTED for some but not all processes of
comm_old. If the graph is weighted but <i>indegree</i> or
<i>outdegree</i> is zero, then MPI_WEIGHTS_EMPTY or any
arbitrary array may be passed to sourceweights or
destweights respectively. Note that MPI_UNWEIGHTED and
MPI_WEIGHTS_EMPTY are not special weight values; rather they
are special values for the total array argument. In Fortran,
MPI_UNWEIGHTED and MPI_WEIGHTS_EMPTY are objects like
MPI_BOTTOM (not usable for initialization or assignment).
See MPI-3 &Acirc;&sect; 2.5.4.</p>

<h2>ERRORS
<a name="ERRORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Almost all MPI
routines return an error value; C routines as the value of
the function and Fortran routines in the last argument.</p>

<p style="margin-left:11%; margin-top: 1em">Before the
error value is returned, the current MPI error handler is
called. By default, this error handler aborts the MPI job,
except for I/O function errors. The error handler may be
changed with MPI_Comm_set_errhandler; the predefined error
handler MPI_ERRORS_RETURN may be used to cause error values
to be returned. Note that MPI does not guarantee that an MPI
program can continue past an error.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">MPI_Dist_graph_create
MPI_Dist_graph_neighbors MPI_Dist_graph_neighbors_count</p>
<hr>
</body>
</html>
