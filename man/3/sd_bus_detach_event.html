<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:55:57 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SD_BUS_ATTACH_EVENT</title>

</head>
<body>
<h1>sd_bus_detach_event</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">sd_bus_attach_event,
sd_bus_detach_event, sd_bus_get_event &minus; Attach a bus
connection object to an event loop</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;systemd/sd&minus;bus.h&gt;</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>int
sd_bus_attach_event(sd_bus&nbsp;*</b><i>bus</i><b>,
sd_event&nbsp;*</b><i>e</i><b>,
int&nbsp;</b><i>priority</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>int
sd_bus_detach_event(sd_bus&nbsp;*</b><i>bus</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>sd_event
*sd_bus_get_event(sd_bus&nbsp;*</b><i>bus</i><b>);</b></p> </td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>sd_bus_attach_event()</b>
attaches the specified bus connection object to an
<b>sd-event</b>(3) event loop object at the specified
priority (see <b>sd_event_source_set_priority</b>(3) for
details on event loop priorities). When a bus connection
object is attached to an event loop incoming messages will
be automatically read and processed, and outgoing messages
written, whenever the event loop is run. When the event loop
is about to terminate, the bus connection is automatically
flushed and closed (see <b>sd_bus_set_close_on_exit</b>(3)
for details on this). By default bus connection objects are
not attached to any event loop. When a bus connection object
is attached to one it is not necessary to invoke
<b>sd_bus_wait</b>(3) or <b>sd_bus_process</b>(3) as this
functionality is handled automatically by the event
loop.</p>


<p style="margin-left:11%; margin-top: 1em"><b>sd_bus_detach_event()</b>
detaches a bus object from its event loop.</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>sd_bus_get_event()</b> returns the event loop object the
specified bus object is currently attached to, or
<b>NULL</b> if it is currently not attached to any.</p>

<p style="margin-left:11%; margin-top: 1em">Note that
<b>sd_bus_attach_event()</b> is only one of three supported
ways to implement I/O event handling for bus connections.
Alternatively use <b>sd_bus_get_fd</b>(3) for hooking up a
bus connection object with external or manual event loops.
Or use <b>sd_bus_wait</b>(3) as a simple synchronous,
blocking I/O waiting call.</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">On success,
<b>sd_bus_attach_event()</b> and
<b>sd_bus_detach_event()</b> return 0 or a positive integer.
On failure, they return a negative errno&minus;style error
code.</p>


<p style="margin-left:11%; margin-top: 1em"><b>sd_bus_get_event()</b>
returns an event loop object or <b>NULL</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Errors</b>
<br>
Returned errors may indicate the following problems:</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;ECHILD</b></p>

<p style="margin-left:17%;">The bus connection has been
created in a different process.</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">These APIs are
implemented as a shared library, which can be compiled and
linked to with the <b>libsystemd&nbsp;pkg-config</b>(1)
file.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>systemd</b>(1),
<b>sd-bus</b>(3), <b>sd-event</b>(3),
<b>sd_event_source_set_priority</b>(3),
<b>sd_bus_set_close_on_exit</b>(3), <b>sd_bus_wait</b>(3),
<b>sd_bus_get_fd</b>(3)</p>
<hr>
</body>
</html>
