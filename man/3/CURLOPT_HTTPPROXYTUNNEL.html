<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:54:29 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>CURLOPT_HTTPPROXYTUNNEL</title>

</head>
<body>
<h1>CURLOPT_HTTPPROXYTUNNEL</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">CURLOPT_HTTPPROXYTUNNEL
&minus; tunnel through HTTP proxy</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">#include
&lt;curl/curl.h&gt;</p>

<p style="margin-left:11%; margin-top: 1em">CURLcode
curl_easy_setopt(CURL *handle, CURLOPT_HTTPPROXYTUNNEL, long
tunnel);</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Set the
<b>tunnel</b> parameter to 1L to make libcurl tunnel all
operations through the HTTP proxy (set with
<i>CURLOPT_PROXY(3)</i>). There is a big difference between
using a proxy and to tunnel through it.</p>

<p style="margin-left:11%; margin-top: 1em">Tunneling means
that an HTTP CONNECT request is sent to the proxy, asking it
to connect to a remote host on a specific port number and
then the traffic is just passed through the proxy. Proxies
tend to white-list specific port numbers it allows CONNECT
requests to and often only port 80 and 443 are allowed.</p>

<p style="margin-left:11%; margin-top: 1em">To suppress
proxy CONNECT response headers from user callbacks use
<i>CURLOPT_SUPPRESS_CONNECT_HEADERS(3)</i>.</p>

<p style="margin-left:11%; margin-top: 1em">HTTP proxies
can generally only speak HTTP (for obvious reasons), which
makes libcurl convert non-HTTP requests to HTTP when using
an HTTP proxy without this tunnel option set. For example,
asking for an FTP URL and specifying an HTTP proxy will make
libcurl send an FTP URL in an HTTP GET request to the proxy.
By instead tunneling through the proxy, you avoid that
conversion (that rarely works through the proxy anyway).</p>

<h2>DEFAULT
<a name="DEFAULT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">0</p>

<h2>PROTOCOLS
<a name="PROTOCOLS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">All network
protocols</p>

<h2>EXAMPLE
<a name="EXAMPLE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">CURL *curl =
curl_easy_init(); <br>
if(curl) { <br>
curl_easy_setopt(curl, CURLOPT_URL,
&quot;ftp://example.com/file.txt&quot;); <br>
curl_easy_setopt(curl, CURLOPT_PROXY,
&quot;http://127.0.0.1:80&quot;); <br>
curl_easy_setopt(curl, CURLOPT_HTTPPROXYTUNNEL, 1L); <br>
curl_easy_perform(curl); <br>
}</p>

<h2>AVAILABILITY
<a name="AVAILABILITY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Always</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Returns
CURLE_OK</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>CURLOPT_PROXY</b>(3),
<b>CURLOPT_PROXYTYPE</b>(3),
<b>CURLOPT_PROXYPORT</b>(3),</p>
<hr>
</body>
</html>
