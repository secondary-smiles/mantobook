<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:55:35 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>MPI_Reduce_scatter_block</title>

</head>
<body>
<h1>MPI_Reduce_scatter_block</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>MPI_Reduce_scatter_block,
MPI_Ireduce_scatter_block</b> &minus; Combines values and
scatters the results in blocks.</p>

<h2>SYNTAX
<a name="SYNTAX"></a>
</h2>


<h2>C Syntax
<a name="C Syntax"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">#include
&lt;mpi.h&gt; <br>
int MPI_Reduce_scatter_block(const void *<i>sendbuf</i>,
void <i>*recvbuf</i>, int <i>recvcount</i>,</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>MPI_Datatype <i>datatype</i>, MPI_Op <i>op</i>, MPI_Comm
<i>comm</i>)</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">int
MPI_Ireduce_scatter_block(const void *<i>sendbuf</i>, void
<i>*recvbuf</i>, int <i>recvcount</i>,</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>MPI_Datatype <i>datatype</i>, MPI_Op <i>op</i>, MPI_Comm
<i>comm</i>, MPI_Request <i>*request</i>)</p></td></tr>
</table>

<h2>Fortran Syntax
<a name="Fortran Syntax"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">USE MPI <br>
! or the older form: INCLUDE &rsquo;mpif.h&rsquo; <br>
MPI_REDUCE_SCATTER_BLOCK(<i>SENDBUF, RECVBUF, RECVCOUNT,
DATATYPE, OP,</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="8%">


<p><i>COMM, IERROR</i>)</p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">


<p>&lt;type&gt;</p></td>
<td width="8%"></td>
<td width="69%">


<p><i>SENDBUF(*), RECVBUF(*)</i></p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">


<p>INTEGER</p></td>
<td width="8%"></td>
<td width="69%">


<p><i>RECVCOUNT, DATATYPE, OP, COMM, IERROR</i></p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em">MPI_IREDUCE_SCATTER_BLOCK(<i>SENDBUF,
RECVBUF, RECVCOUNT, DATATYPE, OP,</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="8%">


<p><i>COMM, REQUEST, IERROR</i>)</p></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">


<p>&lt;type&gt;</p></td>
<td width="8%"></td>
<td width="69%">


<p><i>SENDBUF(*), RECVBUF(*)</i></p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">


<p>INTEGER</p></td>
<td width="8%"></td>
<td width="69%">


<p><i>RECVCOUNT, DATATYPE, OP, COMM, REQUEST,
IERROR</i></p> </td></tr>
</table>

<h2>Fortran 2008 Syntax
<a name="Fortran 2008 Syntax"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">USE mpi_f08
<br>
MPI_Ireduce_scatter_block(<i>sendbuf</i>, <i>recvbuf</i>,
<i>recvcount</i>, <i>datatype</i>, <i>op</i>,
<i>comm</i>,</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="77%">


<p><i>ierror</i>)</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>TYPE(*), DIMENSION(..), INTENT(IN), ASYNCHRONOUS ::
<i>sendbuf</i></p> </td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>TYPE(*), DIMENSION(..), ASYNCHRONOUS ::
<i>recvbuf</i></p> </td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>INTEGER, INTENT(IN) :: <i>recvcount</i></p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>TYPE(MPI_Datatype), INTENT(IN) :: <i>datatype</i></p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>TYPE(MPI_Op), INTENT(IN) :: <i>op</i></p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>TYPE(MPI_Comm), INTENT(IN) :: <i>comm</i></p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>INTEGER, OPTIONAL, INTENT(OUT) :: <i>ierror</i></p></td>
<td width="77%">
</td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em">MPI_Ireduce_scatter_block(<i>sendbuf</i>,
<i>recvbuf</i>, <i>recvcount</i>, <i>datatype</i>,
<i>op</i>, <i>comm</i>,</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="77%">


<p><i>request</i>, <i>ierror</i>)</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>TYPE(*), DIMENSION(..), INTENT(IN), ASYNCHRONOUS ::
<i>sendbuf</i></p> </td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>TYPE(*), DIMENSION(..), ASYNCHRONOUS ::
<i>recvbuf</i></p> </td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>INTEGER, INTENT(IN) :: <i>recvcount</i></p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>TYPE(MPI_Datatype), INTENT(IN) :: <i>datatype</i></p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>TYPE(MPI_Op), INTENT(IN) :: <i>op</i></p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>TYPE(MPI_Comm), INTENT(IN) :: <i>comm</i></p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>TYPE(MPI_Request), INTENT(OUT) :: <i>request</i></p></td>
<td width="77%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>INTEGER, OPTIONAL, INTENT(OUT) :: <i>ierror</i></p></td>
<td width="77%">
</td></tr>
</table>

<h2>INPUT PARAMETERS
<a name="INPUT PARAMETERS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p style="margin-top: 1em">sendbuf</p></td>
<td width="1%"></td>
<td width="71%">


<p style="margin-top: 1em">Starting address of send buffer
(choice).</p> </td>
<td width="3%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>recvcount</p></td>
<td width="1%"></td>
<td width="71%">


<p>lement count per block (non-negative integer).</p></td>
<td width="3%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>datatype</p></td>
<td width="1%"></td>
<td width="71%">


<p>Datatype of elements of input buffer (handle).</p></td>
<td width="3%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>op</p></td>
<td width="1%"></td>
<td width="71%">


<p>Operation (handle).</p></td>
<td width="3%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p>comm</p></td>
<td width="1%"></td>
<td width="71%">


<p>Communicator (handle).</p></td>
<td width="3%">
</td></tr>
</table>

<h2>OUTPUT PARAMETERS
<a name="OUTPUT PARAMETERS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p style="margin-top: 1em">recvbuf</p></td>
<td width="4%"></td>
<td width="68%">


<p style="margin-top: 1em">Starting address of receive
buffer (choice).</p></td>
<td width="6%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p>request</p></td>
<td width="4%"></td>
<td width="68%">


<p>Request (handle, non-blocking only).</p></td>
<td width="6%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="11%">


<p>IERROR</p></td>
<td width="4%"></td>
<td width="68%">


<p>Fortran only: Error status (integer).</p></td>
<td width="6%">
</td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">MPI_Reduce_scatter_block
first does an element-wise reduction on vector of
<i>count</i> =&nbsp;n * <i>recvcount</i> elements in the
send buffer defined by <i>sendbuf</i>, <i>count</i>, and
<i>datatype</i>, using the operation <i>op</i>, where n is
the number of processes in the group of <i>comm</i>. Next,
the resulting vector of results is split into n disjoint
segments, where n is the number of processes in the group.
Each segments contains <i>recvcount</i> elements. The ith
segment is sent to process i and stored in the receive
buffer defined by <i>recvbuf</i>, <i>recvcount</i>, and
<i>datatype</i>.</p>

<h2>USE OF IN-PLACE OPTION
<a name="USE OF IN-PLACE OPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">When the
communicator is an intracommunicator, you can perform a
reduce-scatter operation in-place (the output buffer is used
as the input buffer). Use the variable MPI_IN_PLACE as the
value of the <i>sendbuf</i>. In this case, the input data is
taken from the top of the receive buffer. The area occupied
by the input data may be either longer or shorter than the
data filled by the output data.</p>

<h2>WHEN COMMUNICATOR IS AN INTER-COMMUNICATOR
<a name="WHEN COMMUNICATOR IS AN INTER-COMMUNICATOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">When the
communicator is an inter-communicator, the reduce-scatter
operation occurs in two phases. First, the result of the
reduction performed on the data provided by the processes in
the first group is scattered among the processes in the
second group. Then the reverse occurs: the reduction
performed on the data provided by the processes in the
second group is scattered among the processes in the first
group. For each group, all processes provide the same
<i>recvcounts</i> argument, and the sum of the
<i>recvcounts</i> values should be the same for both
groups.</p>

<h2>NOTES ON COLLECTIVE OPERATIONS
<a name="NOTES ON COLLECTIVE OPERATIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The reduction
functions ( <i>MPI_Op</i> ) do not return an error value. As
a result, if the functions detect an error, all they can do
is either call <i>MPI_Abort</i> or silently skip the
problem. Thus, if you change the error handler from
<i>MPI_ERRORS_ARE_FATAL</i> to something else, for example,
<i>MPI_ERRORS_RETURN</i> , then no error may be
indicated.</p>

<p style="margin-left:11%; margin-top: 1em">The reason for
this is the performance problems in ensuring that all
collective routines return the same error value.</p>

<h2>ERRORS
<a name="ERRORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Almost all MPI
routines return an error value; C routines as the value of
the function and Fortran routines in the last argument.</p>

<p style="margin-left:11%; margin-top: 1em">Before the
error value is returned, the current MPI error handler is
called. By default, this error handler aborts the MPI job,
except for I/O function errors. The error handler may be
changed with MPI_Comm_set_errhandler; the predefined error
handler MPI_ERRORS_RETURN may be used to cause error values
to be returned. Note that MPI does not guarantee that an MPI
program can continue past an error.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">MPI_Reduce_scatter</p>
<hr>
</body>
</html>
