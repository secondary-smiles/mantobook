<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:55:32 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>malloc_trim</title>

</head>
<body>
<h1>malloc_trim</h1>



<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">malloc_trim
&minus; release free memory from the heap</p>

<h2>LIBRARY
<a name="LIBRARY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Standard C
library (<i>libc</i>, <i>&minus;lc</i>)</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;malloc.h&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
malloc_trim(size_t</b> <i>pad</i><b>);</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>malloc_trim</b>() function attempts to release free
memory from the heap (by calling <b>sbrk</b>(2) or
<b>madvise</b>(2) with suitable arguments).</p>

<p style="margin-left:11%; margin-top: 1em">The <i>pad</i>
argument specifies the amount of free space to leave
untrimmed at the top of the heap. If this argument is 0,
only the minimum amount of memory is maintained at the top
of the heap (i.e., one page or less). A nonzero argument can
be used to maintain some trailing space at the top of the
heap in order to allow future allocations to be made without
having to extend the heap with <b>sbrk</b>(2).</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>malloc_trim</b>() function returns 1 if memory was
actually released back to the system, or 0 if it was not
possible to release any memory.</p>

<h2>ERRORS
<a name="ERRORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">No errors are
defined.</p>

<h2>ATTRIBUTES
<a name="ATTRIBUTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">For an
explanation of the terms used in this section, see
<b>attributes</b>(7).</p>


<p align="center" style="margin-top: 1em"><img src="grohtml-33401731.png" alt="Image grohtml-33401731.png"></p>

<h2>STANDARDS
<a name="STANDARDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">GNU.</p>

<h2>VERSIONS
<a name="VERSIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">glibc 2.0.</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Only the main
heap (using <b>sbrk</b>(2)) honors the <i>pad</i> argument;
thread heaps do not.</p>

<p style="margin-left:11%; margin-top: 1em">Since glibc 2.8
this function frees memory in all arenas and in all chunks
with whole free pages.</p>

<p style="margin-left:11%; margin-top: 1em">Before glibc
2.8 this function only freed memory at the top of the heap
in the main arena.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>sbrk</b>(2),
<b>malloc</b>(3), <b>mallopt</b>(3)</p>
<hr>
</body>
</html>
