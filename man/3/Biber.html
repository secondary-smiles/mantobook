<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:54:10 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>Biber</title>

</head>
<body>
<h1>Biber</h1>



<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Biber &minus;
main module for biber, a bibtex replacement for users of
biblatex</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">use Biber; <br>
my $biber = Biber&minus;&gt;new(); <br>
$biber&minus;&gt;parse_ctrlfile(&quot;example.bcf&quot;);
<br>
$biber&minus;&gt;prepare;</p>

<h2>METHODS
<a name="METHODS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>new</b> <br>
Initialize the Biber object, optionally passing named
options as arguments.</p>


<p style="margin-left:11%; margin-top: 1em"><b>display_end</b>
<br>
Output summary of warnings/errors/misc before exit</p>


<p style="margin-left:11%; margin-top: 1em"><b>biber_tempdir</b>
<br>
Returns a File::Temp directory object for use in various
things</p>


<p style="margin-left:11%; margin-top: 1em"><b>biber_tempdir_name</b>
<br>
Returns the directory name of the File::Temp directory
object</p>


<p style="margin-left:11%; margin-top: 1em"><b>sections</b>
<br>
my $sections= $biber&minus;&gt;sections <br>
Returns a Biber::Sections object describing the bibliography
sections</p>


<p style="margin-left:11%; margin-top: 1em"><b>add_sections</b>
<br>
Adds a Biber::Sections object. Used externally from, e.g.
biber</p>


<p style="margin-left:11%; margin-top: 1em"><b>datalists</b>
<br>
my $datalists = $biber&minus;&gt;datalists <br>
Returns a Biber::DataLists object describing the
bibliography sorting lists</p>


<p style="margin-left:11%; margin-top: 1em"><b>langtags</b>
<br>
Returns a Biber::LangTags object containing a parser for
BCP47 tags</p>


<p style="margin-left:11%; margin-top: 1em"><b>set_output_obj</b>
<br>
Sets the object used to output final results <br>
Must be a subclass of Biber::Output::base</p>


<p style="margin-left:11%; margin-top: 1em"><b>get_preamble</b>
<br>
Returns the current preamble as an array ref</p>


<p style="margin-left:11%; margin-top: 1em"><b>get_output_obj</b>
<br>
Returns the object used to output final results</p>


<p style="margin-left:11%; margin-top: 1em"><b>set_current_section</b>
<br>
Sets the current section number that we are working on to a
section number</p>


<p style="margin-left:11%; margin-top: 1em"><b>get_current_section</b>
<br>
Gets the current section number that we are working on</p>


<p style="margin-left:11%; margin-top: 1em"><b>tool_mode_setup</b>
<br>
Fakes parts of the control file for tool mode</p>


<p style="margin-left:11%; margin-top: 1em"><b>parse_ctrlfile</b>
<br>
This method reads the control file <br>
generated by biblatex to work out the various biblatex
options. <br>
See Constants.pm for defaults and example of the data
structure being built here.</p>


<p style="margin-left:11%; margin-top: 1em"><b>process_setup</b>
<br>
Place to put misc pre&minus;processing things needed
later</p>


<p style="margin-left:11%; margin-top: 1em"><b>process_setup_tool</b>
<br>
Place to put misc pre&minus;processing things needed later
for tool mode</p>


<p style="margin-left:11%; margin-top: 1em"><b>resolve_alias_refs</b>
<br>
Resolve aliases in xref/crossref/xdata which take keys as
values to their real keys <br>
We use set_datafield as we are overriding the alias in the
datasource</p>


<p style="margin-left:11%; margin-top: 1em"><b>process_citekey_aliases</b>
<br>
Remove citekey aliases from citekeys as they don't point to
real <br>
entries.</p>


<p style="margin-left:11%; margin-top: 1em"><b>instantiate_dynamic</b>
<br>
This instantiates any dynamic entries so that they are
available <br>
for processing later on. This has to be done before most all
other <br>
processing so that when we call
$section&minus;&gt;bibentry($key), as we <br>
do many times in the code, we don't die because there is a
key but <br>
no Entry object.</p>


<p style="margin-left:11%; margin-top: 1em"><b>resolve_xdata</b>
<br>
Resolve xdata</p>


<p style="margin-left:11%; margin-top: 1em"><b>cite_setmembers</b>
<br>
Promotes set member to cited status</p>


<p style="margin-left:11%; margin-top: 1em"><b>preprocess_sets</b>
<br>
$biber&minus;&gt;preprocess_sets <br>
This records the set information for use later</p>


<p style="margin-left:11%; margin-top: 1em"><b>calculate_interentry</b>
<br>
$biber&minus;&gt;calculate_interentry <br>
Ensures that crossrefs/xrefs that are directly cited or
cross&minus;referenced <br>
at least mincrossrefs/minxrefs times are included in the
bibliography.</p>


<p style="margin-left:11%; margin-top: 1em"><b>process_interentry</b>
<br>
$biber&minus;&gt;process_interentry <br>
Ensures proper inheritance of data from
cross&minus;references.</p>


<p style="margin-left:11%; margin-top: 1em"><b>validate_datamodel</b>
<br>
Validate bib data according to a datamodel <br>
Note that we are validating the internal Biber::Entries <br>
after they have been created from the datasources so this is
<br>
datasource neutral, as it should be. It is here to enforce
<br>
adherence to what biblatex expects.</p>


<p style="margin-left:11%; margin-top: 1em"><b>process_namedis</b>
<br>
Generate name strings and disambiguation schema. Has to be
in the context <br>
of a data list (reference context) because
uniquenametemplate can be specified <br>
per&minus;list/context</p>


<p style="margin-left:11%; margin-top: 1em"><b>postprocess_sets</b>
<br>
Adds required per&minus;entry options etc. to sets</p>


<p style="margin-left:11%; margin-top: 1em"><b>process_entries_static</b>
<br>
Processing of entries which is not list&minus;specific and
which can therefore <br>
insert data directly into entries</p>


<p style="margin-left:11%; margin-top: 1em"><b>process_entries_pre</b>
<br>
Main processing operations, to generate metadata and entry
information <br>
This method is automatically called by C&lt;prepare&gt;.
<br>
Runs prior to uniqueness processing</p>


<p style="margin-left:11%; margin-top: 1em"><b>process_entries_post</b>
<br>
More processing operations, to generate things which require
uniqueness <br>
information like namehash <br>
Runs after uniqueness processing</p>


<p style="margin-left:11%; margin-top: 1em"><b>process_entries_final</b>
<br>
Final processing operations which depend on all previous
processing</p>


<p style="margin-left:11%; margin-top: 1em"><b>process_uniqueprimaryauthor</b>
<br>
Track seen primary author base names for generation of
uniqueprimaryauthor</p>


<p style="margin-left:11%; margin-top: 1em"><b>process_workuniqueness</b>
<br>
Track seen work combination for generation of singletitle,
uniquetitle, uniquebaretitle and <br>
uniquework</p>


<p style="margin-left:11%; margin-top: 1em"><b>process_extradate</b>
<br>
Track labelname/labeltitle+date parts combination for
generation of extradate</p>


<p style="margin-left:11%; margin-top: 1em"><b>process_extraname</b>
<br>
Track labelname only for generation of extraname</p>


<p style="margin-left:11%; margin-top: 1em"><b>process_extratitle</b>
<br>
Track labelname/labeltitle combination for generation of
extratitle</p>


<p style="margin-left:11%; margin-top: 1em"><b>process_extratitleyear</b>
<br>
Track labeltitle/labelyear combination for generation of
extratitleyear</p>


<p style="margin-left:11%; margin-top: 1em"><b>process_sets</b>
<br>
Postprocess set entries <br>
Checks for common set errors and enforces
&quot;dataonly&quot; options for set members. <br>
It's not necessary to set skipbib, skipbiblist in the
OPTIONS field for <br>
the set members as these are automatically set by biblatex
due to the \inset</p>


<p style="margin-left:11%; margin-top: 1em"><b>process_nocite</b>
<br>
Generate nocite information</p>


<p style="margin-left:11%; margin-top: 1em"><b>process_labelname</b>
<br>
Generate labelname information.</p>


<p style="margin-left:11%; margin-top: 1em"><b>process_labeldate</b>
<br>
Generate labeldate information, including times</p>


<p style="margin-left:11%; margin-top: 1em"><b>process_labeltitle</b>
<br>
Generate labeltitle <br>
Note that this is not conditionalised on the biblatex
&quot;labeltitle&quot; <br>
as labeltitle should always be output since all standard
styles need it. <br>
Only extratitle is conditionalised on the biblatex
&quot;labeltitle&quot; option.</p>


<p style="margin-left:11%; margin-top: 1em"><b>process_fullhash</b>
<br>
Generate fullhash</p>


<p style="margin-left:11%; margin-top: 1em"><b>process_namehash</b>
<br>
Generate namehash</p>


<p style="margin-left:11%; margin-top: 1em"><b>process_pername_hashes</b>
<br>
Generate per_name_hashes</p>


<p style="margin-left:11%; margin-top: 1em"><b>process_visible_names</b>
<br>
Generate the visible name information. <br>
This is used in various places and it is useful to have it
generated in one place.</p>


<p style="margin-left:11%; margin-top: 1em"><b>process_labelalpha</b>
<br>
Generate the labelalpha and also the variant for sorting</p>


<p style="margin-left:11%; margin-top: 1em"><b>process_extraalpha</b>
<br>
Generate the extraalpha information</p>


<p style="margin-left:11%; margin-top: 1em"><b>process_presort</b>
<br>
Put presort fields for an entry into the main Biber bltx
state <br>
so that it is all available in the same place since this can
be <br>
set per&minus;type and globally too.</p>


<p style="margin-left:11%; margin-top: 1em"><b>process_lists</b>
<br>
Process a bibliography list</p>


<p style="margin-left:11%; margin-top: 1em"><b>check_list_filter</b>
<br>
Run an entry through a list filter. Returns a boolean.</p>


<p style="margin-left:11%; margin-top: 1em"><b>generate_sortdataschema</b>
<br>
Generate sort data schema for Sort::Key from sort spec like
this: <br>
spec =&gt; [ <br>
[undef, { presort =&gt; {} }], <br>
[{ final =&gt; 1 }, { sortkey =&gt; {} }], <br>
[ <br>
{'sort_direction' =&gt; 'descending'}, <br>
{ sortname =&gt; {} }, <br>
{ author =&gt; {} }, <br>
{ editor =&gt; {} }, <br>
{ translator =&gt; {} }, <br>
{ sorttitle =&gt; {} }, <br>
{ title =&gt; {} }, <br>
], <br>
[undef, { sortyear =&gt; {} }, { year =&gt; {} }], <br>
[undef, { sorttitle =&gt; {} }, { title =&gt; {} }], <br>
[undef, { volume =&gt; {} }, { &quot;0000&quot; =&gt; {} }],
<br>
],</p>


<p style="margin-left:11%; margin-top: 1em"><b>generate_sortinfo</b>
<br>
Generate information for sorting</p>


<p style="margin-left:11%; margin-top: 1em"><b>uniqueness</b>
<br>
Generate the uniqueness information needed when creating
.bbl</p>


<p style="margin-left:11%; margin-top: 1em"><b>create_uniquename_info</b>
<br>
Gather the uniquename information as we look through the
names <br>
What is happening in here is the following: We are
registering the <br>
number of occurrences of each name, name+init and fullname
within a <br>
specific context. For example, the context is
&quot;global&quot; with uniquename <br>
&lt; mininit and &quot;name list&quot; for
uniquename=mininit or minfull. The keys <br>
we store to count this are the most specific information for
the <br>
context, so, for uniquename &lt; mininit, this is the full
name and for <br>
uniquename=mininit or minfull, this is the complete list of
full names. <br>
These keys have values in a hash which are ignored. They
serve only to <br>
accumulate repeated occurrences with the context and we
don't care <br>
about this and so the values are a useful sinkhole for such
repetition. <br>
For example, if we find in the global context a base name
&quot;Smith&quot; in two different entries <br>
under the same form &quot;Alan Smith&quot;, the data
structure will look like: <br>
{Smith}&minus;&gt;{global}&minus;&gt;{Alan Smith} = 2 <br>
We don't care about the value as this means that there are 2
&quot;Alan Smith&quot;s in the global <br>
context which need disambiguating identically anyway. So, we
just count the keys for the <br>
base name &quot;Smith&quot; in the global context to see how
ambiguous the base name itself is. This <br>
would be &quot;1&quot; and so &quot;Alan Smith&quot; would
get uniquename=false because it's unambiguous as just <br>
&quot;Smith&quot;. <br>
The same goes for &quot;minimal&quot; list context
disambiguation for uniquename=mininit or minfull. <br>
For example, if we had the base name &quot;Smith&quot; to
disambiguate in two entries with labelname <br>
&quot;John Smith and Alan Jones&quot;, the data structure
would look like: <br>
{Smith}&minus;&gt;{Smith+Jones}&minus;&gt;{John Smith+Alan
Jones} = 2 <br>
Again, counting the keys of the context for the base name
gives us &quot;1&quot; which means we <br>
have uniquename=false for &quot;John Smith&quot; in both
entries because it's the same list. This also <br>
works for repeated names in the same list &quot;John Smith
and Bert Smith&quot;. Disambiguating <br>
&quot;Smith&quot; in this: <br>
{Smith}&minus;&gt;{Smith+Smith}&minus;&gt;{John Smith+Bert
Smith} = 2 <br>
So both &quot;John Smith&quot; and &quot;Bert Smith&quot; in
this entry get <br>
uniquename=false (of course, as long as there are no other
&quot;X Smith and <br>
Y Smith&quot; entries where X != &quot;John&quot; or Y !=
&quot;Bert&quot;). <br>
The values from biblatex.sty: <br>
false = 0 <br>
init = 1 <br>
true = 2 <br>
full = 2 <br>
allinit = 3 <br>
allfull = 4 <br>
mininit = 5 <br>
minfull = 6</p>


<p style="margin-left:11%; margin-top: 1em"><b>generate_uniquename</b>
<br>
Generate the per&minus;name uniquename values using the
information <br>
harvested by create_uniquename_info()</p>


<p style="margin-left:11%; margin-top: 1em"><b>create_uniquelist_info</b>
<br>
Gather the uniquelist information as we look through the
names</p>


<p style="margin-left:11%; margin-top: 1em"><b>generate_uniquelist</b>
<br>
Generate the per&minus;namelist uniquelist values using the
information <br>
harvested by create_uniquelist_info()</p>


<p style="margin-left:11%; margin-top: 1em"><b>generate_contextdata</b>
<br>
Generate information for data which may changes per
datalist</p>


<p style="margin-left:11%; margin-top: 1em"><b>generate_singletitle</b>
<br>
Generate the singletitle field, if requested. The
information for generating <br>
this is gathered in process_workuniqueness()</p>


<p style="margin-left:11%; margin-top: 1em"><b>generate_uniquetitle</b>
<br>
Generate the uniquetitle field, if requested. The
information for generating <br>
this is gathered in process_workuniqueness()</p>


<p style="margin-left:11%; margin-top: 1em"><b>generate_uniquebaretitle</b>
<br>
Generate the uniquebaretitle field, if requested. The
information for generating <br>
this is gathered in process_workuniqueness()</p>


<p style="margin-left:11%; margin-top: 1em"><b>generate_uniquework</b>
<br>
Generate the uniquework field, if requested. The information
for generating <br>
this is gathered in process_workuniqueness()</p>


<p style="margin-left:11%; margin-top: 1em"><b>generate_uniquepa</b>
<br>
Generate the uniqueprimaryauthor field, if requested. The
information for generating <br>
this is gathered in create_uniquename_info()</p>


<p style="margin-left:11%; margin-top: 1em"><b>sort_list</b>
<br>
Sort a list using information in entries according to a
certain sorting template. <br>
Use a flag to skip info messages on first pass</p>


<p style="margin-left:11%; margin-top: 1em"><b>preprocess_options</b>
<br>
Preprocessing for options. Used primarily to perform
process&minus;intensive <br>
operations which can be done once instead of inside dense
loops later.</p>

<p style="margin-left:11%; margin-top: 1em"><b>prepare</b>
<br>
Do the main work. <br>
Process and sort all entries before writing the output.</p>


<p style="margin-left:11%; margin-top: 1em"><b>prepare_tool</b>
<br>
Do the main work for tool mode</p>


<p style="margin-left:11%; margin-top: 1em"><b>fetch_data</b>
<br>
Fetch citekey and dependents data from section datasources
<br>
Expects to find datasource packages named: <br>
Biber::Input::&lt;type&gt;::&lt;datatype&gt; <br>
and one defined subroutine called: <br>

Biber::Input::&lt;type&gt;::&lt;datatype&gt;::extract_entries
<br>
which takes args: <br>
1: Biber object <br>
2: Datasource name <br>
3: Reference to an array of cite keys to look for <br>
and returns an array of the cite keys it did not find in the
datasource</p>


<p style="margin-left:11%; margin-top: 1em"><b>get_dependents</b>
<br>
Get dependents of the entries for a given list of citekeys.
Is called recursively <br>
until there are no more dependents to look for.</p>


<p style="margin-left:11%; margin-top: 1em"><b>remove_undef_dependent</b>
<br>
Remove undefined dependent keys from an entry using a map of
<br>
dependent keys to entries</p>


<p style="margin-left:11%; margin-top: 1em"><b>_parse_sort</b>
<br>
Convenience sub to parse a .bcf sorting section and return
nice <br>
sorting object</p>

<p style="margin-left:11%; margin-top: 1em"><b>_filedump
and _stringdump</b> <br>
Dump the biber object with Data::Dump for debugging</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Philip Kime
&quot;&lt;philip at kime.org.uk&gt;&quot;</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Please report
any bugs or feature requests on our Github tracker at
&lt;https://github.com/plk/biber/issues&gt;.</p>

<h2>COPYRIGHT &amp; LICENSE
<a name="COPYRIGHT &amp; LICENSE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright
2009&minus;2012 Francois Charette and Philip Kime, all
rights reserved. Copyright 2012&minus;2023 Philip Kime, all
rights reserved.</p>

<p style="margin-left:11%; margin-top: 1em">This module is
free software. You can redistribute it and/or modify it
under the terms of the Artistic License 2.0.</p>

<p style="margin-left:11%; margin-top: 1em">This program is
distributed in the hope that it will be useful, but without
any warranty; without even the implied warranty of
merchantability or fitness for a particular purpose.</p>
<hr>
</body>
</html>
