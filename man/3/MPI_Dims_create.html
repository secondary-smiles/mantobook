<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:55:34 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>MPI_Dims_create</title>

</head>
<body>
<h1>MPI_Dims_create</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>MPI_Dims_create</b>
&minus; Creates a division of processors in a Cartesian
grid.</p>

<h2>SYNTAX
<a name="SYNTAX"></a>
</h2>


<h2>C Syntax
<a name="C Syntax"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">#include
&lt;mpi.h&gt; <br>
int MPI_Dims_create(int <i>nnodes</i>, int <i>ndims</i>, int
<i>dims</i>[])</p>

<h2>Fortran Syntax
<a name="Fortran Syntax"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">USE MPI <br>
! or the older form: INCLUDE &rsquo;mpif.h&rsquo; <br>
MPI_DIMS_CREATE(<i>NNODES, NDIMS, DIMS, IERROR</i>)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%"></td>
<td width="8%"></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">


<p>INTEGER</p></td>
<td width="8%"></td>
<td width="8%"></td>
<td width="69%">


<p><i>NNODES, NDIMS, DIMS(*), IERROR</i></p></td></tr>
</table>

<h2>Fortran 2008 Syntax
<a name="Fortran 2008 Syntax"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">USE mpi_f08
<br>
MPI_Dims_create(<i>nnodes</i>, <i>ndims</i>, <i>dims</i>,
<i>ierror</i>)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>INTEGER, INTENT(IN) :: <i>nnodes</i>, <i>ndims</i></p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>INTEGER, INTENT(INOUT) :: <i>dims(ndims)</i></p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>INTEGER, OPTIONAL, INTENT(OUT) :: <i>ierror</i></p></td></tr>
</table>

<h2>C++ Syntax
<a name="C++ Syntax"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">#include
&lt;mpi.h&gt; <br>
void Compute_dims(int <i>nnodes</i>, int <i>ndims</i>, int
<i>dims</i>[])</p>

<h2>INPUT PARAMETERS
<a name="INPUT PARAMETERS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em">nnodes</p></td>
<td width="6%"></td>
<td width="63%">


<p style="margin-top: 1em">Number of nodes in a grid
(integer).</p> </td>
<td width="11%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p>ndims</p></td>
<td width="6%"></td>
<td width="63%">


<p>Number of Cartesian dimensions (integer).</p></td>
<td width="11%">
</td></tr>
</table>

<h2>IN/OUT PARAMETER
<a name="IN/OUT PARAMETER"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p style="margin-top: 1em">dims</p></td>
<td width="9%"></td>
<td width="74%">


<p style="margin-top: 1em">Integer array of size ndims
specifying the number of nodes in each dimension.</p></td></tr>
</table>

<h2>OUTPUT PARAMETER
<a name="OUTPUT PARAMETER"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em">IERROR</p></td>
<td width="6%"></td>
<td width="57%">


<p style="margin-top: 1em">Fortran only: Error status
(integer).</p> </td>
<td width="17%">
</td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">For Cartesian
topologies, the function MPI_Dims_create helps the user
select a balanced distribution of processes per coordinate
direction, depending on the number of processes in the group
to be balanced and optional constraints that can be
specified by the user. One use is to partition all the
processes (the size of MPI_COMM_WORLD&rsquo;s group) into an
n-dimensional topology.</p>

<p style="margin-left:11%; margin-top: 1em">The entries in
the array <i>dims</i> are set to describe a Cartesian grid
with <i>ndims</i> dimensions and a total of <i>nnodes</i>
nodes. The dimensions are set to be as close to each other
as possible, using an appropriate divisibility algorithm.
The caller may further constrain the operation of this
routine by specifying elements of array dims. If dims[i] is
set to a positive number, the routine will not modify the
number of nodes in dimension i; only those entries where
dims[i] = 0 are modified by the call.</p>

<p style="margin-left:11%; margin-top: 1em">Negative input
values of dims[i] are erroneous. An error will occur if
nnodes is not a multiple of ((pi) over (i, dims[i] != 0))
dims[i].</p>

<p style="margin-left:11%; margin-top: 1em">For dims[i] set
by the call, dims[i] will be ordered in nonincreasing order.
Array dims is suitable for use as input to routine
MPI_Cart_create. MPI_Dims_create is local.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Example:</b></p>

<p style="margin-left:11%; margin-top: 1em">dims</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="-3%"></td>
<td width="7%">


<p>before</p></td>
<td width="8%"></td>
<td width="8%">
</td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="8%">
</td>
<td width="46%">


<p>dims</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="-3%"></td>
<td width="7%">


<p>call</p></td>
<td width="8%">
</td>
<td width="8%">


<p>function call</p></td>
<td width="7%"></td>
<td width="8%"></td>
<td width="8%">
</td>
<td width="46%">


<p>on return</p></td></tr>
</table>


<p style="margin-left:11%;">-----------------------------------------------------</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="-3%">


<p>(0,0)</p></td>
<td width="7%"></td>
<td width="8%">


<p>MPI_Dims_create(6, 2, dims)</p></td>
<td width="39%"></td>
<td width="7%"></td>
<td width="31%">


<p>(3,2)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="-3%">


<p>(0,0)</p></td>
<td width="7%"></td>
<td width="8%">


<p>MPI_Dims_create(7, 2, dims)</p></td>
<td width="39%"></td>
<td width="7%"></td>
<td width="31%">


<p>(7,1)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="-3%">


<p>(0,3,0)</p></td>
<td width="7%"></td>
<td width="8%">


<p>MPI_Dims_create(6, 3, dims)</p></td>
<td width="39%"></td>
<td width="7%"></td>
<td width="31%">


<p>(2,3,1)</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="-3%">


<p>(0,3,0)</p></td>
<td width="7%"></td>
<td width="8%">


<p>MPI_Dims_create(7, 3, dims)</p></td>
<td width="39%"></td>
<td width="7%"></td>
<td width="31%">


<p>erroneous call</p></td></tr>
</table>


<p style="margin-left:11%;">------------------------------------------------------</p>

<h2>ERRORS
<a name="ERRORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Almost all MPI
routines return an error value; C routines as the value of
the function and Fortran routines in the last argument. C++
functions do not return errors. If the default error handler
is set to MPI::ERRORS_THROW_EXCEPTIONS, then on error the
C++ exception mechanism will be used to throw an
MPI::Exception object.</p>

<p style="margin-left:11%; margin-top: 1em">Before the
error value is returned, the current MPI error handler is
called. By default, this error handler aborts the MPI job,
except for I/O function errors. The error handler may be
changed with MPI_Comm_set_errhandler; the predefined error
handler MPI_ERRORS_RETURN may be used to cause error values
to be returned. Note that MPI does not guarantee that an MPI
program can continue past an error.</p>
<hr>
</body>
</html>
