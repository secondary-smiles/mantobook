<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:55:29 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>libssh2_knownhost_add</title>

</head>
<body>
<h1>libssh2_knownhost_add</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">libssh2_knownhost_add
- add a known host</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">#include
&lt;libssh2.h&gt;</p>

<p style="margin-left:11%; margin-top: 1em">int
libssh2_knownhost_add(LIBSSH2_KNOWNHOSTS *hosts, <br>
char *host, char *salt, <br>
char *key, size_t keylen, <br>
int typemask, <br>
struct libssh2_knownhost **store);</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">We discourage
use of this function as of libssh2 1.2.5. Instead we
strongly urge users to use <i>libssh2_knownhost_addc(3)</i>
instead, which as a more complete API.
<i>libssh2_knownhost_add(3)</i> is subject for removal in a
future release.</p>

<p style="margin-left:11%; margin-top: 1em">Adds a known
host to the collection of known hosts identified by the
&rsquo;hosts&rsquo; handle.</p>

<p style="margin-left:11%; margin-top: 1em"><i>host</i> is
a pointer the host name in plain text or hashed. If hashed,
it must be provided base64 encoded. The host name can be the
IP numerical address of the host or the full name.</p>

<p style="margin-left:11%; margin-top: 1em"><i>saltP is a
pointer to the salt used for the host hashing, if the host
is provided hashed. If the host is provided in plain text,
salt has no meaning. The salt has to be provided base64
encoded with a trailing zero byte.</i></p>

<p style="margin-left:11%; margin-top: 1em"><i>key is a
pointer to the key for the given host.</i></p>

<p style="margin-left:11%; margin-top: 1em"><i>keylen is
the total size in bytes of the key pointed to by the key
argument</i></p>

<p style="margin-left:11%; margin-top: 1em"><i>typemask is
a bitmask that specifies format and info about the data
passed to this function. Specifically, it details what
format the host name is, what format the key is and what key
type it is.</i></p>

<p style="margin-left:11%; margin-top: 1em"><i>The host
name is given as one of the following types:
LIBSSH2_KNOWNHOST_TYPE_PLAIN, LIBSSH2_KNOWNHOST_TYPE_SHA1 or
LIBSSH2_KNOWNHOST_TYPE_CUSTOM.</i></p>

<p style="margin-left:11%; margin-top: 1em"><i>The key is
encoded using one of the following encodings:
LIBSSH2_KNOWNHOST_KEYENC_RAW or
LIBSSH2_KNOWNHOST_KEYENC_BASE64.</i></p>

<p style="margin-left:11%; margin-top: 1em"><i>The key is
using one of these algorithms: LIBSSH2_KNOWNHOST_KEY_RSA1,
LIBSSH2_KNOWNHOST_KEY_SSHRSA or
LIBSSH2_KNOWNHOST_KEY_SSHDSS.</i></p>

<p style="margin-left:11%; margin-top: 1em"><i>store should
point to a pointer that gets filled in to point to the known
host data after the addition. NULL can be passed if you
don&rsquo;t care about this pointer.</i></p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Returns a
regular libssh2 error code, where negative values are error
codes and 0 indicates success.</p>

<h2>AVAILABILITY
<a name="AVAILABILITY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Added in
libssh2 1.2, deprecated since libssh2 1.2.5. Use
<i>libssh2_knownhost_addc(3)</i> instead!</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>libssh2_knownhost_init(3)
libssh2_knownhost_free(3) libssh2_knownhost_check(3)
libssh2_knownhost_addc(3)</b></p>
<hr>
</body>
</html>
