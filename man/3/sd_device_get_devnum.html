<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:55:59 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SD_DEVICE_GET_SYSPATH</title>

</head>
<body>
<h1>sd_device_get_devnum</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">sd_device_get_syspath,
sd_device_get_devpath, sd_device_get_sysname,
sd_device_get_sysnum, sd_device_get_subsystem,
sd_device_get_devtype, sd_device_get_devname,
sd_device_get_devnum, sd_device_get_ifindex,
sd_device_get_driver, sd_device_get_diskseq &minus; Returns
various fields of device objects</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;systemd/sd&minus;device.h&gt;</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>int
sd_device_get_syspath(sd_device&nbsp;*</b><i>device</i><b>,
const&nbsp;char&nbsp;**</b><i>ret</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>int
sd_device_get_devpath(sd_device&nbsp;*</b><i>device</i><b>,
const&nbsp;char&nbsp;**</b><i>ret</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>int
sd_device_get_sysname(sd_device&nbsp;*</b><i>device</i><b>,
const&nbsp;char&nbsp;**</b><i>ret</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>int
sd_device_get_sysnum(sd_device&nbsp;*</b><i>device</i><b>,
const&nbsp;char&nbsp;**</b><i>ret</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>int
sd_device_get_subsystem(sd_device&nbsp;*</b><i>device</i><b>,
const&nbsp;char&nbsp;**</b><i>ret</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>int
sd_device_get_devtype(sd_device&nbsp;*</b><i>device</i><b>,
const&nbsp;char&nbsp;**</b><i>ret</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>int
sd_device_get_devname(sd_device&nbsp;*</b><i>device</i><b>,
const&nbsp;char&nbsp;**</b><i>ret</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>int
sd_device_get_devnum(sd_device&nbsp;*</b><i>device</i><b>,
dev_t&nbsp;*</b><i>ret</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>int
sd_device_get_ifindex(sd_device&nbsp;*</b><i>device</i><b>,
int&nbsp;*</b><i>ret</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>int
sd_device_get_driver(sd_device&nbsp;*</b><i>device</i><b>,
const&nbsp;char&nbsp;**</b><i>ret</i><b>);</b></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="89%">


<p style="margin-top: 1em"><b>int
sd_device_get_diskseq(sd_device&nbsp;*</b><i>device</i><b>,
uint64_t&nbsp;*</b><i>ret</i><b>);</b></p> </td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>sd_device_get_syspath()</b>
returns the sysfs path of the specified device record,
including the /sys prefix. Example:
/sys/devices/virtual/tty/tty7</p>


<p style="margin-left:11%; margin-top: 1em"><b>sd_device_get_devpath()</b>
returns the sysfs path of the specified device record,
excluding the /sys prefix. Example:
/devices/virtual/tty/tty7</p>


<p style="margin-left:11%; margin-top: 1em"><b>sd_device_get_sysname()</b>
returns the sysfs name of the specified device record, i.e.
the last component of the sysfs path. Example:
&quot;tty7&quot; for the device
/sys/devices/virtual/tty/tty7</p>


<p style="margin-left:11%; margin-top: 1em"><b>sd_device_get_sysnum()</b>
returns the sysfs device number of the specified device
record, i.e. the numeric suffix of the last component of the
sysfs path. Example: &quot;7&quot; for the device
/sys/devices/virtual/tty/tty7</p>


<p style="margin-left:11%; margin-top: 1em"><b>sd_device_get_subsystem()</b>
returns the kernel subsystem of the specified device record.
This is a short string fitting into a filename, and thus
does not contain a slash and cannot be empty. Example:
&quot;tty&quot;, &quot;block&quot; or &quot;net&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><b>sd_device_get_devtype()</b>
returns the device type of the specified device record, if
the subsystem manages multiple types of devices. Example:
for devices of the &quot;block&quot; subsystem this can be
&quot;disk&quot; or &quot;partition&quot;</p>


<p style="margin-left:11%; margin-top: 1em"><b>sd_device_get_devname()</b>
returns the device node path of the specified device record
if the device has a device node. Example: for
/sys/devices/virtual/tty/tty7 the string /dev/tty7 is
typically returned.</p>


<p style="margin-left:11%; margin-top: 1em"><b>sd_device_get_devnum()</b>
returns the device node major/minor (i.e. <b>dev_t</b>) of
the specified device record if the device has a device node
(i.e. the one returned by <b>sd_device_get_devname()</b>).
For devices belonging to the &quot;block&quot; subsystem
this refers to a block device node, in all other cases to a
character device node. Example: for the
/sys/devices/virtual/tty/tty7 device this typically returns
the device number with major/minor &quot;4:7&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><b>sd_device_get_ifindex()</b>
returns the network interface index of the specified device
record, if the device encapsulates a network interface
device, i.e. belongs to the &quot;net&quot; subsystem.
Example: the &quot;lo&quot; interface typically has
interface index 1.</p>


<p style="margin-left:11%; margin-top: 1em"><b>sd_device_get_driver()</b>
returns the kernel driver name attached to the device. Note
that the driver field is set on the devices consumed by the
driver, not on the device created by it. Example: a PCI
device /sys/bus/pci/devices/0000:00:1f.6 might be attached
to a driver &quot;e1000e&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><b>sd_device_get_diskseq()</b>
returns the kernel disk sequence number of the block device.
This number monotonically increases whenever a backing
medium of a block device changes without the device name
changing, and is relevant for block devices encapsulating
devices with changing media (e.g. floppy or CD&minus;ROM),
or loopback block devices. Only defined for block devices,
i.e. those of subsystem &quot;block&quot;.</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">On success,
these calls return 0 or a positive integer. On failure, they
return a negative errno&minus;style error code.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Errors</b>
<br>
Returned errors may indicate the following problems:</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;EINVAL</b></p>

<p style="margin-left:17%;">A specified parameter is
invalid.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;ENOENT</b></p>

<p style="margin-left:17%;">The requested field is not
present in the device record.</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">These APIs are
implemented as a shared library, which can be compiled and
linked to with the <b>libsystemd&nbsp;pkg-config</b>(1)
file.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>systemd</b>(1)</p>
<hr>
</body>
</html>
