<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:55:35 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>MPI_Init_thread</title>

</head>
<body>
<h1>MPI_Init_thread</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>MPI_Init_thread</b>
&minus; Initializes the MPI execution environment</p>

<h2>SYNTAX
<a name="SYNTAX"></a>
</h2>


<h2>C Syntax
<a name="C Syntax"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">#include
&lt;mpi.h&gt; <br>
int MPI_Init_thread(int *<i>argc</i>, char
***<i>argv</i>,</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>int <i>required</i>, int *<i>provided</i>)</p></td></tr>
</table>

<h2>Fortran Syntax
<a name="Fortran Syntax"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">USE MPI <br>
! or the older form: INCLUDE &rsquo;mpif.h&rsquo; <br>
MPI_INIT_THREAD(<i>REQUIRED, PROVIDED, IERROR</i>)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%"></td>
<td width="8%"></td>
<td width="69%">
</td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">


<p>INTEGER</p></td>
<td width="8%"></td>
<td width="8%"></td>
<td width="69%">


<p><i>REQUIRED, PROVIDED, IERROR</i></p></td></tr>
</table>

<h2>Fortran 2008 Syntax
<a name="Fortran 2008 Syntax"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">USE mpi_f08
<br>
MPI_Init_thread(<i>required</i>, <i>provided</i>,
<i>ierror</i>)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>INTEGER, INTENT(IN) :: <i>required</i></p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>INTEGER, INTENT(OUT) :: <i>provided</i></p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>INTEGER, OPTIONAL, INTENT(OUT) :: <i>ierror</i></p></td></tr>
</table>

<h2>C++ Syntax
<a name="C++ Syntax"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">#include
&lt;mpi.h&gt; <br>
int MPI::Init_thread(int&amp; <i>argc</i>, char**&amp;
<i>argv</i>, int <i>required</i>) <br>
int MPI::Init_thread(int <i>required</i>)</p>

<h2>INPUT PARAMETERS
<a name="INPUT PARAMETERS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p style="margin-top: 1em">argc</p></td>
<td width="3%"></td>
<td width="72%">


<p style="margin-top: 1em">C/C++ only: Pointer to the
number of arguments.</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p>argv</p></td>
<td width="3%"></td>
<td width="72%">


<p>C/C++ only: Argument vector.</p></td>
<td width="2%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p>required</p></td>
<td width="3%"></td>
<td width="72%">


<p>Desired level of thread support (integer).</p></td>
<td width="2%">
</td></tr>
</table>

<h2>OUTPUT PARAMETERS
<a name="OUTPUT PARAMETERS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p style="margin-top: 1em">provided</p></td>
<td width="3%"></td>
<td width="68%">


<p style="margin-top: 1em">Available level of thread
support (integer).</p></td>
<td width="6%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p>IERROR</p></td>
<td width="3%"></td>
<td width="68%">


<p>Fortran only: Error status (integer).</p></td>
<td width="6%">
</td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This routine,
or MPI_Init, must be called before most other MPI routines
are called. There are a small number of exceptions, such as
MPI_Initialized and MPI_Finalized. MPI can be initialized at
most once; subsequent calls to MPI_Init or MPI_Init_thread
are erroneous.</p>


<p style="margin-left:11%; margin-top: 1em">MPI_Init_thread,
as compared to MPI_Init, has a provision to request a
certain level of thread support in <i>required</i>:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p style="margin-top: 1em">MPI_THREAD_SINGLE</p></td>
<td width="5%"></td>
<td width="52%">


<p style="margin-top: 1em">Only one thread will
execute.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p>MPI_THREAD_FUNNELED</p></td>
<td width="5%"></td>
<td width="52%">


<p>If the process is multithreaded, only the thread that
called MPI_Init_thread will make MPI calls.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p>MPI_THREAD_SERIALIZED</p></td>
<td width="5%"></td>
<td width="52%">


<p>If the process is multithreaded, only one thread will
make MPI library calls at one time.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p>MPI_THREAD_MULTIPLE</p></td>
<td width="5%"></td>
<td width="52%">


<p>If the process is multithreaded, multiple threads may
call MPI at once with no restrictions.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The level of
thread support available to the program is set in
<i>provided</i>, except in the C++ binding, where it is the
return value of the function. In Open MPI, the value is
dependent on how the library was configured and built. Note
that there is no guarantee that <i>provided</i> will be
greater than or equal to <i>required</i>.</p>

<p style="margin-left:11%; margin-top: 1em">Also note that
calling MPI_Init_thread with a <i>required</i> value of
<i>MPI_THREAD_SINGLE</i> is equivalent to calling
MPI_Init.</p>

<p style="margin-left:11%; margin-top: 1em">All MPI
programs must contain a call to MPI_Init or MPI_Init_thread.
Open MPI accepts the C/C++ <i>argc</i> and <i>argv</i>
arguments to main, but neither modifies, interprets, nor
distributes them:</p>

<p style="margin-left:11%; margin-top: 1em">{</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="77%">


<p>/* declare variables */</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="77%">


<p>MPI_Init_thread(&amp;argc, &amp;argv, req,
&amp;prov);</p> </td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="77%">


<p>/* parse arguments */</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="77%">


<p>/* main program */</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%">
</td>
<td width="8%">
</td>
<td width="77%">


<p>MPI_Finalize();</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="8%">


<p>}</p></td>
<td width="77%">
</td></tr>
</table>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The Fortran
version does not have provisions for <i>argc</i> and
<i>argv</i> and takes only IERROR.</p>

<p style="margin-left:11%; margin-top: 1em">It is the
caller&rsquo;s responsibility to check the value of
<i>provided</i>, as it may be less than what was requested
in <i>required</i>.</p>

<p style="margin-left:11%; margin-top: 1em">The MPI
Standard does not say what a program can do before an
MPI_Init_thread or after an MPI_Finalize. In the Open MPI
implementation, it should do as little as possible. In
particular, avoid anything that changes the external state
of the program, such as opening files, reading standard
input, or writing to standard output.</p>

<h2>MPI_THREAD_MULTIPLE Support
<a name="MPI_THREAD_MULTIPLE Support"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">MPI_THREAD_MULTIPLE
support is included if the environment in which Open MPI was
built supports threading. You can check the output of
<b>ompi_info</b>(1) to see if Open MPI has
MPI_THREAD_MULTIPLE support:</p>

<p style="margin-left:11%; margin-top: 1em">shell$
ompi_info | grep &quot;Thread support&quot; <br>
Thread support: posix (MPI_THREAD_MULTIPLE: yes, OPAL
support: yes, OMPI progress: no, Event lib: yes) <br>
shell$</p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;MPI_THREAD_MULTIPLE: yes&quot; portion of the above
output indicates that Open MPI was compiled with
MPI_THREAD_MULTIPLE support.</p>

<p style="margin-left:11%; margin-top: 1em">Note that there
is a small performance penalty for using MPI_THREAD_MULTIPLE
support; latencies for short messages will be higher as
compared to when using MPI_THREAD_SINGLE, for example.</p>

<h2>ERRORS
<a name="ERRORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Almost all MPI
routines return an error value; C routines as the value of
the function and Fortran routines in the last argument. C++
functions do not return errors. If the default error handler
is set to MPI::ERRORS_THROW_EXCEPTIONS, then on error the
C++ exception mechanism will be used to throw an
MPI::Exception object.</p>

<p style="margin-left:11%; margin-top: 1em">Before the
error value is returned, the current MPI error handler is
called. By default, this error handler aborts the MPI job,
except for I/O function errors. The error handler may be
changed with MPI_Comm_set_errhandler; the predefined error
handler MPI_ERRORS_RETURN may be used to cause error values
to be returned. Note that MPI does not guarantee that an MPI
program can continue past an error.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">MPI_Init <br>
MPI_Initialized <br>
MPI_Finalize <br>
 MPI_Finalized</p>
<hr>
</body>
</html>
