<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:55:53 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>RWARRAY</title>

</head>
<body>
<h1>rwarray</h1>



<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">writea, reada,
writeall, readall &minus; write and read gawk arrays to/from
files</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">@load
&quot;rwarray&quot;</p>

<p style="margin-left:11%; margin-top: 1em">ret =
writea(file, array) <br>
ret = reada(file, array) <br>
ret = writeall(file) <br>
ret = readall(file)</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<i>rwarray</i> extension adds functions named
<b>writea()</b>, <b>reada()</b>, <b>writeall()</b>, and
<b>readall()</b>, as follows. <b><br>
writea()</b></p>

<p style="margin-left:22%;">This function takes a string
argument, which is the name of the file to which dump the
array, and the array itself as the second argument.
<b>writea()</b> understands multidimensional arrays. It
returns one on success, or zero upon failure.</p>

<p style="margin-left:11%;"><b>reada()</b></p>

<p style="margin-left:22%;">is the inverse of
<b>writea()</b>; it reads the file named as its first
argument, filling in the array named as the second argument.
It clears the array first. Here too, the return value is one
on success and zero upon failure.</p>

<p style="margin-left:11%;"><b>writeall()</b></p>

<p style="margin-left:22%;">This function takes a string
argument, which is the name of the file to which dump the
state of all variables. Calling this function is completely
equivalent to calling <b>writea()</b> with the second
argument equal to <b>SYMTAB</b>. It returns one on success,
or zero upon failure.</p>

<p style="margin-left:11%;"><b>readall()</b></p>

<p style="margin-left:22%;">This function takes a string
argument, which is the name of the file from which to read
the contents of various global variables. For each variable
in the file, the data is loaded unless the variable already
exists. If the variable already exists, the data for that
variable in the file is ignored. It returns one on success,
or zero upon failure.</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The array
created by <b>reada()</b> is identical to that written by
<b>writea()</b> in the sense that the contents are the same.
However, due to implementation issues, the array traversal
order of the recreated array will likely be different from
that of the original array. As array traversal order in AWK
is by default undefined, this is not (technically) a
problem. If you need to guarantee a particular traversal
order, use the array sorting features in <i>gawk</i> to do
so.</p>

<p style="margin-left:11%; margin-top: 1em">The file
contains binary data. All integral values are written in
network byte order. However, double precision floating-point
values are written as native binary data. Thus, arrays
containing only string data can theoretically be dumped on
systems with one byte order and restored on systems with a
different one, but this has not been tried.</p>

<h2>EXAMPLE
<a name="EXAMPLE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">@load
&quot;rwarray&quot; <br>
... <br>
ret = writea(&quot;arraydump.bin&quot;, array) <br>
... <br>
ret = reada(&quot;arraydump.bin&quot;, array) <br>
... <br>
ret = writeall(&quot;globalstate.bin&quot;) <br>
... <br>
ret = readall(&quot;globalstate.bin&quot;)</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>GAWK:
Effective AWK Programming</i>, <i>filefuncs</i>(3am),
<i>fnmatch</i>(3am), <i>fork</i>(3am), <i>inplace</i>(3am),
<i>ordchr</i>(3am), <i>readdir</i>(3am),
<i>readfile</i>(3am), <i>revoutput</i>(3am),
<i>time</i>(3am).</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Arnold Robbins,
<b>arnold@skeeve.com</b>.</p>

<h2>COPYING PERMISSIONS
<a name="COPYING PERMISSIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright
&copy; 2012, 2013, 2018, 2022 Free Software Foundation,
Inc.</p>

<p style="margin-left:11%; margin-top: 1em">Permission is
granted to make and distribute verbatim copies of this
manual page provided the copyright notice and this
permission notice are preserved on all copies.</p>

<p style="margin-left:11%; margin-top: 1em">Permission is
granted to copy and distribute modified versions of this
manual page under the conditions for verbatim copying,
provided that the entire resulting derived work is
distributed under the terms of a permission notice identical
to this one.</p>

<p style="margin-left:11%; margin-top: 1em">Permission is
granted to copy and distribute translations of this manual
page into another language, under the above conditions for
modified versions, except that this permission notice may be
stated in a translation approved by the Foundation.</p>
<hr>
</body>
</html>
