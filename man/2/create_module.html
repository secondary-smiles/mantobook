<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:54:06 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>create_module</title>

</head>
<body>
<h1>create_module</h1>



<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">create_module
&minus; create a loadable module entry</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;linux/module.h&gt;</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>[[deprecated]]
caddr_t create_module(const char *</b><i>name</i><b>,
size_t</b> <i>size</i><b>);</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b><i>Note</i></b>:
This system call is present only before Linux 2.6.</p>


<p style="margin-left:11%; margin-top: 1em"><b>create_module</b>()
attempts to create a loadable module entry and reserve the
kernel memory that will be needed to hold the module. This
system call requires privilege.</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">On success,
returns the kernel address at which the module will reside.
On error, &minus;1 is returned and <i>errno</i> is set to
indicate the error.</p>

<h2>ERRORS
<a name="ERRORS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><b>EEXIST</b></p></td>
<td width="2%"></td>
<td width="78%">


<p style="margin-top: 1em">A module by that name already
exists.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>EFAULT</b></p></td>
<td width="2%"></td>
<td width="78%">


<p><i>name</i> is outside the program&rsquo;s accessible
address space.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>EINVAL</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>The requested size is too small even for the module
header information.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>ENOMEM</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>The kernel could not allocate a contiguous block of
memory large enough for the module.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>ENOSYS</b></p></td>
<td width="2%"></td>
<td width="78%">


<p><b>create_module</b>() is not supported in this version
of the kernel (e.g., Linux 2.6 or later).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>EPERM</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>The caller was not privileged (did not have the
<b>CAP_SYS_MODULE</b> capability).</p></td></tr>
</table>

<h2>STANDARDS
<a name="STANDARDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Linux.</p>

<h2>HISTORY
<a name="HISTORY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Removed in
Linux 2.6.</p>

<p style="margin-left:11%; margin-top: 1em">This obsolete
system call is not supported by glibc. No declaration is
provided in glibc headers, but, through a quirk of history,
glibc versions before glibc 2.23 did export an ABI for this
system call. Therefore, in order to employ this system call,
it was sufficient to manually declare the interface in your
code; alternatively, you could invoke the system call using
<b>syscall</b>(2).</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>delete_module</b>(2),
<b>init_module</b>(2), <b>query_module</b>(2)</p>
<hr>
</body>
</html>
