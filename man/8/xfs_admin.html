<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:57:10 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>xfs_admin</title>

</head>
<body>
<h1>xfs_admin</h1>



<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">xfs_admin
&minus; change parameters of an XFS filesystem</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>xfs_admin</b>
[ <b>&minus;eflpu</b> ] [ <b>&minus;O</b> <i>featurelist</i>
] [ <b>&minus;c 0</b>|<b>1</b> ] [ <b>&minus;L</b>
<i>label</i> ] [ <b>&minus;U</b> <i>uuid</i> ] [
<b>&minus;r</b> <i>rtdev</i> ] <i>device</i> [ <i>logdev</i>
] <b><br>
xfs_admin &minus;V</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>xfs_admin</b>
uses the <b>xfs_db</b>(8) command to modify various
parameters of a filesystem.</p>

<p style="margin-left:11%; margin-top: 1em">Devices that
are mounted cannot be modified. Administrators must unmount
filesystems before <b>xfs_admin</b> or <b>xfs_db</b>(8) can
convert parameters. A number of parameters of a mounted
filesystem can be examined and modified using the
<b>xfs_growfs</b>(8) command.</p>

<p style="margin-left:11%; margin-top: 1em">The optional
<b>logdev</b> parameter specifies the device special file
where the filesystem&rsquo;s external log resides. This is
required only for filesystems that use an external log. See
the <b>mkfs.xfs &minus;l</b> option, and refer to
<b>xfs</b>(5) for a detailed description of the XFS log.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>&minus;e</b></p></td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em">Enables unwritten extent support
on a filesystem that does not already have this enabled (for
legacy filesystems, it can&rsquo;t be disabled anymore at
mkfs time).</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">This option
only applies to the deprecated V4 format.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>&minus;f</b></p></td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em">Specifies that the filesystem
image to be processed is stored in a regular file at
<i>device</i> (see the <b>mkfs.xfs &minus;d</b> <i>file</i>
option).</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;j</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Enables version 2 log format (journal format supporting
larger log buffers).</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">This option
only applies to the deprecated V4 format.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>&minus;l</b></p></td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em">Print the current filesystem
label.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;p</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Enable 32bit project identifier support (PROJID32BIT
feature).</p> </td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">This option
only applies to the deprecated V4 format.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><b>&minus;u</b></p></td>
<td width="2%"></td>
<td width="78%">


<p style="margin-top: 1em">Print the current filesystem
UUID (Universally Unique IDentifier).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;c 0</b>|<b>1</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Enable (1) or disable (0) lazy-counters in the
filesystem.</p> </td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Lazy-counters
may not be disabled on Version 5 superblock filesystems
(i.e. those with metadata CRCs enabled).</p>

<p style="margin-left:22%; margin-top: 1em">In other words,
this option only applies to the deprecated V4 format.</p>

<p style="margin-left:22%; margin-top: 1em">This operation
may take quite a bit of time on large filesystems as the
entire filesystem needs to be scanned when this option is
changed.</p>

<p style="margin-left:22%; margin-top: 1em">With
lazy-counters enabled, the superblock is not modified or
logged on every change of the free-space and inode counters.
Instead, enough information is kept in other parts of the
filesystem to be able to maintain the counter values without
needing to keep them in the superblock. This gives
significant improvements in performance on some
configurations and metadata intensive workloads.</p>

<p style="margin-left:11%;"><b>&minus;L</b>
<i>label</i></p>

<p style="margin-left:22%;">Set the filesystem label to
<i>label</i>. XFS filesystem labels can be at most 12
characters long; if <i>label</i> is longer than 12
characters, <b>xfs_admin</b> will truncate it and print a
warning message. The filesystem label can be cleared using
the special &quot;<b>&minus;&minus;&quot; value for</b>
<i>label</i>.</p>

<p style="margin-left:11%;"><b>&minus;O</b>
<i>feature1</i><b>=</b><i>status</i><b>,</b><i>feature2</i><b>=</b><i>status...</i></p>

<p style="margin-left:22%;">Add or remove features on an
existing V5 filesystem. The features should be specified as
a comma-separated list. <i>status</i> should be either 0 to
disable the feature or 1 to enable the feature. Note,
however, that most features cannot be disabled.</p>

<p style="margin-left:22%; margin-top: 1em"><b>NOTE:</b>
Administrators must ensure the filesystem is clean by
running <b>xfs_repair -n</b> to inspect the filesystem
before performing the upgrade. If corruption is found,
recovery procedures (e.g. reformat followed by restoration
from backup; or running <b>xfs_repair</b> without the
<b>-n</b>) must be followed to clean the filesystem.</p>

<p style="margin-left:22%; margin-top: 1em">Supported
features are as follows: <b><br>
inobtcount</b></p>

<p style="margin-left:28%;">Keep a count the number of
blocks in each inode btree in the AGI. This reduces mount
time by speeding up metadata space reservation calculations.
The filesystem cannot be downgraded after this feature is
enabled. Once enabled, the filesystem will not be writable
by older kernels. This feature was added to Linux 5.10.</p>

<p style="margin-left:22%;"><b>bigtime</b></p>

<p style="margin-left:28%;">Upgrade a filesystem to support
larger timestamps up to the year 2486. The filesystem cannot
be downgraded after this feature is enabled. Once enabled,
the filesystem will not be mountable by older kernels. This
feature was added to Linux 5.10.</p>

<p style="margin-left:22%;"><b>nrext64</b></p>

<p style="margin-left:28%;">Upgrade a filesystem to support
large per-inode extent counters. The maximum data fork
extent count will be 2^48 - 1, while the maximum attribute
fork extent count will be 2^32 - 1. The filesystem cannot be
downgraded after this feature is enabled. Once enabled, the
filesystem will not be mountable by older kernels. This
feature was added to Linux 5.19.</p>

<p style="margin-left:11%;"><b>&minus;U</b> <i>uuid</i></p>

<p style="margin-left:22%;">Set the UUID of the filesystem
to <i>uuid</i>. A sample UUID looks like this:
&quot;c1b9d5a2-f162-11cf-9ece-0020afc76f16&quot;. The
<i>uuid</i> may also be <b>nil</b>, which will set the
filesystem UUID to the null UUID. The <i>uuid</i> may also
be <b>generate</b>, which will generate a new UUID for the
filesystem. Note that on CRC-enabled filesystems, this will
set an incompatible flag such that older kernels will not be
able to mount the filesystem. To remove this incompatible
flag, use <b>restore</b>, which will restore the original
UUID and remove the incompatible feature flag as needed.</p>

<p style="margin-left:11%;"><b>&minus;r</b>
<i>rtdev</i></p>

<p style="margin-left:22%;">Specifies the device special
file where the filesystem&rsquo;s realtime section resides.
Only for those filesystems which use a realtime section.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;V</b></p></td>
<td width="8%"></td>
<td width="55%">


<p>Prints the version number and exits.</p></td>
<td width="23%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The
<b>mount</b>(8) manual entry describes how to mount a
filesystem using its label or UUID, rather than its block
special device name.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>mkfs.xfs</b>(8),
<b>mount</b>(8), <b>xfs_db</b>(8), <b>xfs_growfs</b>(8),
<b>xfs_repair</b>(8), <b>xfs</b>(5).</p>
<hr>
</body>
</html>
