<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:57:04 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>CRYPTSETUP&minus;LUKSDUMP</title>

</head>
<body>
<h1>cryptsetup-luksDump</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">cryptsetup-luksDump
&minus; dump the header information of a LUKS device</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>cryptsetup</b>
<i>luksDump</i> <b>[&lt;options&gt;] &lt;device&gt;</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Dump the header
information of a LUKS device.</p>

<p style="margin-left:11%; margin-top: 1em">If the
&minus;&minus;dump&minus;volume&minus;key option is used,
the LUKS device volume key is dumped instead of the keyslot
info. Together with the
&minus;&minus;volume&minus;key&minus;file option, volume key
is dumped to a file instead of standard output. Beware that
the volume key cannot be changed without reencryption and
can be used to decrypt the data stored in the LUKS container
without a passphrase and even without the LUKS header. This
means that if the volume key is compromised, the whole
device has to be erased or reencrypted to prevent further
access. Use this option carefully.</p>

<p style="margin-left:11%; margin-top: 1em">To dump the
volume key, a passphrase has to be supplied, either
interactively or via &minus;&minus;key&minus;file.</p>

<p style="margin-left:11%; margin-top: 1em">To dump unbound
key (LUKS2 format only), &minus;&minus;unbound parameter,
specific &minus;&minus;key&minus;slot id and proper
passphrase has to be supplied, either interactively or via
&minus;&minus;key&minus;file. Optional
&minus;&minus;volume&minus;key&minus;file parameter enables
unbound keyslot dump to a file.</p>

<p style="margin-left:11%; margin-top: 1em">To dump LUKS2
JSON metadata (without basic header information like UUID)
use &minus;&minus;dump&minus;json&minus;metadata option.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&lt;options&gt;</b>
can be [&minus;&minus;dump&minus;volume&minus;key,
&minus;&minus;dump&minus;json&minus;metadata,
&minus;&minus;key&minus;file,
&minus;&minus;keyfile&minus;offset,
&minus;&minus;keyfile&minus;size, &minus;&minus;header,
&minus;&minus;disable&minus;locks,
&minus;&minus;volume&minus;key&minus;file,
&minus;&minus;type, &minus;&minus;unbound,
&minus;&minus;key&minus;slot, &minus;&minus;timeout].</p>


<p style="margin-left:11%; margin-top: 1em"><b>WARNING:</b>
If &minus;&minus;dump&minus;volume&minus;key is used with
&minus;&minus;key&minus;file and the argument to
&minus;&minus;key&minus;file is '&minus;', no validation
question will be asked and no warning given.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;type
&lt;device&minus;type&gt;</b></p>

<p style="margin-left:17%;">Specifies required device type,
for more info read <i>BASIC ACTIONS</i> section in
<b>cryptsetup</b>(8).</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;key&minus;file,
&minus;d</b> <i>name</i></p>

<p style="margin-left:17%;">Read the passphrase from
file.</p>

<p style="margin-left:17%; margin-top: 1em">If the name
given is &quot;&minus;&quot;, then the passphrase will be
read from stdin. In this case, reading will not stop at
newline characters.</p>

<p style="margin-left:17%; margin-top: 1em">See section
<i>NOTES ON PASSPHRASE PROCESSING</i> in
<b>cryptsetup</b>(8) for more information.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;keyfile&minus;offset</b>
<i>value</i></p>

<p style="margin-left:17%;">Skip <i>value</i> bytes at the
beginning of the key file.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;keyfile&minus;size,
&minus;l</b> <i>value</i></p>

<p style="margin-left:17%;">Read a maximum of <i>value</i>
bytes from the key file. The default is to read the whole
file up to the compiled&minus;in maximum that can be queried
with &minus;&minus;help. Supplying more data than the
compiled&minus;in maximum aborts the operation.</p>

<p style="margin-left:17%; margin-top: 1em">This option is
useful to cut trailing newlines, for example. If
&minus;&minus;keyfile&minus;offset is also given, the size
count starts after the offset.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;volume&minus;key&minus;file,
&minus;&minus;master&minus;key&minus;file (OBSOLETE
alias)</b></p>

<p style="margin-left:17%;">Use a volume key stored in a
file. The volume key is stored in a file instead of being
printed out to standard output.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;dump&minus;json&minus;metadata</b></p>

<p style="margin-left:17%;">For <i>luksDump</i> (LUKS2
only) this option prints content of LUKS2 header JSON
metadata area.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;dump&minus;volume&minus;key,
&minus;&minus;dump&minus;master&minus;key (OBSOLETE
alias)</b></p>

<p style="margin-left:17%;">Print the volume key in the
displayed information. Use with care, as the volume key can
be used to bypass the passphrases, see also option
&minus;&minus;volume&minus;key&minus;file.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;key&minus;slot,
&minus;S &lt;0&minus;N&gt;</b></p>

<p style="margin-left:17%;">For LUKS operations that add
key material, this option allows you to specify which key
slot is selected for the new key.</p>

<p style="margin-left:17%; margin-top: 1em">The maximum
number of key slots depends on the LUKS version. LUKS1 can
have up to 8 key slots. LUKS2 can have up to 32 key slots
based on key slot area size and key size, but a valid key
slot ID can always be between 0 and 31 for LUKS2.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;timeout,
&minus;t &lt;number of seconds&gt;</b></p>

<p style="margin-left:17%;">The number of seconds to wait
before timeout on passphrase input via terminal. It is
relevant every time a passphrase is asked. It has no effect
if used in conjunction with
&minus;&minus;key&minus;file.</p>

<p style="margin-left:17%; margin-top: 1em">This option is
useful when the system should not stall if the user does not
input a passphrase, e.g. during boot. The default is a value
of 0 seconds, which means to wait forever.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;header
&lt;device or file storing the LUKS header&gt;</b></p>

<p style="margin-left:17%;">Use a detached (separated)
metadata device or file where the LUKS header is stored.
This option allows one to store ciphertext and LUKS header
on different devices.</p>

<p style="margin-left:17%; margin-top: 1em">For commands
that change the LUKS header (e.g. <i>luksAddKey</i>),
specify the device or file with the LUKS header directly as
the LUKS device.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;disable&minus;locks</b></p>

<p style="margin-left:17%;">Disable lock protection for
metadata on disk. This option is valid only for LUKS2 and
ignored for other formats.</p>


<p style="margin-left:17%; margin-top: 1em"><b>WARNING:</b>
Do not use this option unless you run cryptsetup in a
restricted environment where locking is impossible to
perform (where /run directory cannot be used).</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;unbound</b></p>

<p style="margin-left:17%;">Dumps existing LUKS2 unbound
keyslot.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;batch&minus;mode,
&minus;q</b></p>

<p style="margin-left:17%;">Suppresses all confirmation
questions. Use with care!</p>

<p style="margin-left:17%; margin-top: 1em">If the
&minus;&minus;verify&minus;passphrase option is not
specified, this option also switches off the passphrase
verification.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;debug
or &minus;&minus;debug&minus;json</b></p>

<p style="margin-left:17%;">Run in debug mode with full
diagnostic logs. Debug output lines are always prefixed by
<b>#</b>.</p>

<p style="margin-left:17%; margin-top: 1em">If
&minus;&minus;debug&minus;json is used, additional LUKS2
JSON data structures are printed.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;version,
&minus;V</b></p>

<p style="margin-left:17%;">Show the program version.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;usage</b></p>

<p style="margin-left:17%;">Show short option help.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;help,
&minus;?</b></p>

<p style="margin-left:17%;">Show help text and default
parameters.</p>

<h2>REPORTING BUGS
<a name="REPORTING BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Report bugs at
<b>cryptsetup mailing list
&lt;cryptsetup@lists.linux.dev&gt; or in Issues project
section
&lt;https://gitlab.com/cryptsetup/cryptsetup/&minus;/issues/new&gt;.</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>Please
attach output of the failed command with &minus;&minus;debug
option added.</b></p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Cryptsetup
FAQ
&lt;https://gitlab.com/cryptsetup/cryptsetup/wikis/FrequentlyAskedQuestions&gt;</b></p>


<p style="margin-left:11%; margin-top: 1em"><b>cryptsetup(8),
integritysetup(8) and veritysetup(8)</b></p>

<h2>CRYPTSETUP
<a name="CRYPTSETUP"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Part of
<b>cryptsetup project
&lt;https://gitlab.com/cryptsetup/cryptsetup/&gt;.</b></p>
<hr>
</body>
</html>
