<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:57:10 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>XTABLES-LEGACY</title>

</head>
<body>
<h1>xtables-legacy</h1>



<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">xtables-legacy
&mdash; iptables using old getsockopt/setsockopt-based
kernel api</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>xtables-legacy</b>
are the original versions of iptables that use old
getsockopt/setsockopt-based kernel interface. This kernel
interface has some limitations, therefore iptables can also
be used with the newer nf_tables based API. See
<b>xtables&minus;nft(8)</b> for information about the
xtables-nft variants of iptables.</p>

<h2>USAGE
<a name="USAGE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
xtables-legacy-multi binary can be linked to the traditional
names:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>/sbin/iptables -&gt;
/sbin/iptables&minus;legacy&minus;multi</p> </td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>/sbin/ip6tables -&gt;
/sbin/ip6tables&minus;legacy&minus;multi</p> </td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>/sbin/iptables&minus;save -&gt;
/sbin/ip6tables&minus;legacy&minus;multi</p> </td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>/sbin/iptables&minus;restore -&gt;
/sbin/ip6tables&minus;legacy&minus;multi</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The iptables
version string will indicate whether the legacy API
(get/setsockopt) or the new nf_tables API is used:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>iptables &minus;V</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>iptables v1.7 (legacy)</p></td></tr>
</table>

<h2>LIMITATIONS
<a name="LIMITATIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">When inserting
a rule using iptables &minus;A or iptables &minus;I,
iptables first needs to retrieve the current active ruleset,
change it to include the new rule, and then commit back the
result. This means that if two instances of iptables are
running concurrently, one of the updates might be lost. This
can be worked around partially with the &minus;&minus;wait
option.</p>

<p style="margin-left:11%; margin-top: 1em">There is also
no method to monitor changes to the ruleset, except
periodically calling iptables-legacy-save and checking for
any differences in output.</p>


<p style="margin-left:11%; margin-top: 1em"><b>xtables&minus;monitor(8)</b>
will need the <b>xtables&minus;nft(8)</b> versions to work,
it cannot display changes made using the
<b>iptables-legacy</b> tools.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>xtables&minus;nft(8)</b>,
<b>xtables&minus;translate(8)</b></p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Rusty Russell
originally wrote iptables, in early consultation with
Michael Neuling.</p>
<hr>
</body>
</html>
