<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:57:04 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>BRIDGE</title>

</head>
<body>
<h1>bridge</h1>



<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">bridge &minus;
show / manipulate bridge addresses and devices</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:23%; margin-top: 1em"><b>bridge</b> [
<i>OPTIONS</i> ] <i>OBJECT</i> { <i>COMMAND</i> |
<b>help</b> }</p>

<p style="margin-left:23%; margin-top: 1em"><i>OBJECT</i>
:= { <b>link</b> | <b>fdb</b> | <b>mdb</b> | <b>vlan</b> |
<b>vni</b> | <b>monitor</b> }</p>

<p style="margin-left:23%; margin-top: 1em"><i>OPTIONS</i>
:= { <b>&minus;V</b>[<i>ersion</i>] |
<b>&minus;s</b>[<i>tatistics</i>] |
<b>&minus;n</b>[<i>etns</i>] name |
<b>&minus;b</b>[<i>atch</i>] filename |
<b>&minus;c</b>[<i>olor</i>] | <b>&minus;p</b>[<i>retty</i>]
| <b>&minus;j</b>[<i>son</i>] | <b>&minus;o</b>[<i>neline]
}</i></p>

<p style="margin-left:23%; margin-top: 1em"><b>bridge link
set dev</b> <i>DEV</i> [ <b>cost</b> <i>COST</i> ] [
<b>priority</b> <i>PRIO</i> ] [ <b>state</b> <i>STATE</i> ]
[ <b>guard</b> { <b>on</b> | <b>off</b> } ] [ <b>hairpin</b>
{ <b>on</b> | <b>off</b> } ] [ <b>fastleave</b> { <b>on</b>
| <b>off</b> } ] [ <b>root_block</b> { <b>on</b> |
<b>off</b> } ] [ <b>learning</b> { <b>on</b> | <b>off</b> }
] [ <b>learning_sync</b> { <b>on</b> | <b>off</b> } ] [
<b>flood</b> { <b>on</b> | <b>off</b> } ] [ <b>hwmode</b> {
<b>vepa</b> | <b>veb</b> } ] [ <b>bcast_flood</b> {
<b>on</b> | <b>off</b> } ] [ <b>mcast_flood</b> { <b>on</b>
| <b>off</b> } ] [ <b>mcast_max_groups</b> <i>MAX_GROUPS</i>
] [ <b>mcast_router</b> <i>MULTICAST_ROUTER</i> ] [
<b>mcast_to_unicast</b> { <b>on</b> | <b>off</b> } ] [
<b>neigh_suppress</b> { <b>on</b> | <b>off</b> } ] [
<b>vlan_tunnel</b> { <b>on</b> | <b>off</b> } ] [
<b>isolated</b> { <b>on</b> | <b>off</b> } ] [ <b>locked</b>
{ <b>on</b> | <b>off</b> } ] [ <b>mab</b> { <b>on</b> |
<b>off</b> } ] [ <b>backup_port</b> <i>DEVICE</i> ] [
<b>nobackup_port</b> ] [ <b>self</b> ] [ <b>master</b> ]</p>

<p style="margin-left:23%; margin-top: 1em"><b>bridge
link</b> [ <b>show</b> ] [ <b>dev</b> <i>DEV</i> ]</p>

<p style="margin-left:23%; margin-top: 1em"><b>bridge
fdb</b> { <b>add</b> | <b>append</b> | <b>del</b> |
<b>replace</b> } <i>LLADDR</i> <b>dev</b> <i>DEV</i> {
<b>local</b> | <b>static</b> | <b>dynamic</b> } [
<b>self</b> ] [ <b>master</b> ] [ <b>router</b> ] [
<b>use</b> ] [ <b>extern_learn</b> ] [ <b>sticky</b> ] [
<b>src_vni</b> <i>VNI</i> ] { [ <b>dst</b> <i>IPADDR</i> ] [
<b>vni</b> <i>VNI</i> ] [ <b>port</b> <i>PORT</i> ] [
<b>via</b> <i>DEVICE</i> ] | <b>nhid</b> <i>NHID</i> }</p>

<p style="margin-left:23%; margin-top: 1em"><b>bridge
fdb</b> [ [ <b>show</b> ] [ <b>br</b> <i>BRDEV</i> ] [
<b>brport</b> <i>DEV</i> ] [ <b>vlan</b> <i>VID</i> ] [
<b>state</b> <i>STATE</i> ] [ <b>dynamic</b> <i>] ]</i></p>

<p style="margin-left:23%; margin-top: 1em"><b>bridge fdb
get</b> [ <b>to</b> <i>] LLADDR [</i> <b>br</b> <i>BRDEV</i>
] <b>{ brport | dev }</b> <i>DEV</i> [ <b>vlan</b>
<i>VID</i> ] [ <b>vni</b> <i>VNI</i> ] [ <b>self</b> ] [
<b>master</b> ] [ <b>dynamic</b> ]</p>

<p style="margin-left:23%; margin-top: 1em"><b>bridge fdb
flush dev</b> <i>DEV</i> [ <b>brport</b> <i>DEV</i> ] [
<b>vlan</b> <i>VID</i> ] [ <b>self</b> ] [ <b>master</b> ] [
<b>[no]permanent</b> | <b>[no]static</b> |
<b>[no]dynamic</b> ] [ <b>[no]added_by_user</b> ] [
<b>[no]extern_learn</b> ] [ <b>[no]sticky</b> ] [
<b>[no]offloaded</b> ]</p>

<p style="margin-left:23%; margin-top: 1em"><b>bridge
mdb</b> { <b>add</b> | <b>del</b> | <b>replace</b> }
<b>dev</b> <i>DEV</i> <b>port</b> <i>PORT</i> <b>grp</b>
<i>GROUP</i> [ <b>src</b> <i>SOURCE</i> ] [ <b>permanent</b>
| <b>temp</b> ] [ <b>vid</b> <i>VID</i> ] [
<b>filter_mode</b> { <b>include</b> | <b>exclude</b> } ] [
<b>source_list</b> <i>SOURCE_LIST</i> ] [ <b>proto</b>
<i>PROTO</i> ]</p>

<p style="margin-left:23%; margin-top: 1em"><b>bridge mdb
show</b> [ <b>dev</b> <i>DEV</i> ]</p>

<p style="margin-left:23%; margin-top: 1em"><b>bridge
vlan</b> { <b>add</b> | <b>del</b> } <b>dev</b> <i>DEV</i>
<b>vid</b> <i>VID</i> [ <b>tunnel_info</b> <i>TUNNEL_ID</i>
] [ <b>pvid</b> ] [ <b>untagged</b> ] [ <b>self</b> ] [
<b>master</b> ]</p>

<p style="margin-left:23%; margin-top: 1em"><b>bridge vlan
set dev</b> <i>DEV</i> <b>vid</b> <i>VID</i> [ <b>state</b>
<i>STP_STATE</i> ] [ <b>mcast_max_groups</b>
<i>MAX_GROUPS</i> ] [ <b>mcast_router</b>
<i>MULTICAST_ROUTER</i> ]</p>

<p style="margin-left:23%; margin-top: 1em"><b>bridge
vlan</b> [ <b>show</b> | <b>tunnelshow</b> ] [ <b>dev</b>
<i>DEV</i> ]</p>

<p style="margin-left:23%; margin-top: 1em"><b>bridge vlan
global set dev</b> <i>DEV</i> <b>vid</b> <i>VID</i> [
<b>mcast_snooping</b> <i>MULTICAST_SNOOPING</i> ] [
<b>mcast_querier</b> <i>MULTICAST_QUERIER</i> ] [
<b>mcast_igmp_version</b> <i>IGMP_VERSION</i> ] [
<b>mcast_mld_version</b> <i>MLD_VERSION</i> ] [
<b>mcast_last_member_count</b> <i>LAST_MEMBER_COUNT</i> ] [
<b>mcast_last_member_interval</b>
<i>LAST_MEMBER_INTERVAL</i> ] [
<b>mcast_startup_query_count</b> <i>STARTUP_QUERY_COUNT</i>
] [ <b>mcast_startup_query_interval</b>
<i>STARTUP_QUERY_INTERVAL</i> ] [
<b>mcast_membership_interval</b> <i>MEMBERSHIP_INTERVAL</i>
] [ <b>mcast_querier_interval</b> <i>QUERIER_INTERVAL</i> ]
[ <b>mcast_query_interval</b> <i>QUERY_INTERVAL</i> ] [
<b>mcast_query_response_interval</b>
<i>QUERY_RESPONSE_INTERVAL</i> ]</p>

<p style="margin-left:23%; margin-top: 1em"><b>bridge vlan
global</b> [ <b>show</b> ] [ <b>dev</b> <i>DEV</i> ] [
<b>vid</b> <i>VID</i> ]</p>

<p style="margin-left:23%; margin-top: 1em"><b>bridge
vlan</b> show <b>[ dev</b> <i>DEV</i> ]</p>

<p style="margin-left:23%; margin-top: 1em"><b>bridge
vni</b> { <b>add</b> | <b>del</b> } <b>dev</b> <i>DEV</i>
<b>vni</b> <i>VNI</i> [ { <b>group | remote }</b>
<i>IPADDR</i> ]</p>

<p style="margin-left:23%; margin-top: 1em"><b>bridge
vni</b> show <b>[ dev</b> <i>DEV</i> ]</p>

<p style="margin-left:23%; margin-top: 1em"><b>bridge
monitor</b> [ <b>all</b> | <b>neigh</b> | <b>link</b> |
<b>mdb</b> | <b>vlan</b> ]</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;V</b>,
<b>-Version</b></p>

<p style="margin-left:22%;">print the version of the
<b>bridge</b> utility and exit.</p>

<p style="margin-left:11%;"><b>&minus;s</b>,
<b>&minus;stats</b>, <b>&minus;statistics</b></p>

<p style="margin-left:22%;">output more information. If
this option is given multiple times, the amount of
information increases. As a rule, the information is
statistics or some time values.</p>

<p style="margin-left:11%;"><b>&minus;d</b>,
<b>&minus;details</b></p>

<p style="margin-left:22%;">print detailed information
about bridge vlan filter entries or MDB router ports.</p>

<p style="margin-left:11%;"><b>&minus;n</b>,
<b>&minus;net</b>, <b>&minus;netns</b> &lt;NETNS&gt;</p>

<p style="margin-left:22%;">switches <b>bridge</b> to the
specified network namespace <i>NETNS</i>. Actually it just
simplifies executing of:</p>

<p style="margin-left:22%; margin-top: 1em"><b>ip netns
exec</b> <i>NETNS</i> <b>bridge</b> [ <i>OPTIONS</i> ]
<i>OBJECT</i> { <i>COMMAND</i> | <b>help</b> }</p>

<p style="margin-left:22%; margin-top: 1em">to</p>

<p style="margin-left:22%; margin-top: 1em"><b>bridge</b>
-n[etns] <i>NETNS</i> [ <i>OPTIONS</i> ] <i>OBJECT</i> {
<i>COMMAND</i> | <b>help</b> }</p>

<p style="margin-left:11%;"><b>&minus;b</b>,
<b>&minus;batch</b> &lt;FILENAME&gt;</p>

<p style="margin-left:22%;">Read commands from provided
file or standard input and invoke them. First failure will
cause termination of bridge command.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;force</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Don&rsquo;t terminate bridge command on errors in batch
mode. If there were any errors during execution of the
commands, the application return code will be non zero.</p></td></tr>
</table>


<p style="margin-left:11%;"><b>&minus;c</b>[<b>color</b>][<b>=</b>{<b>always</b>|<b>auto</b>|<b>never</b>}</p>

<p style="margin-left:22%;">Configure color output. If
parameter is omitted or <b>always</b>, color output is
enabled regardless of stdout state. If parameter is
<b>auto</b>, stdout is checked to be a terminal before
enabling color output. If parameter is <b>never</b>, color
output is disabled. If specified multiple times, the last
one takes precedence. This flag is ignored if
<b>&minus;json</b> is also given.</p>

<p style="margin-left:11%;"><b>&minus;j</b>,
<b>&minus;json</b></p>

<p style="margin-left:22%;">Output results in JavaScript
Object Notation (JSON).</p>

<p style="margin-left:11%;"><b>&minus;p</b>,
<b>&minus;pretty</b></p>

<p style="margin-left:22%;">When combined with -j generate
a pretty JSON output.</p>

<p style="margin-left:11%;"><b>&minus;o</b>,
<b>&minus;oneline</b></p>

<p style="margin-left:22%;">output each record on a single
line, replacing line feeds with the <b>&rsquo;\&rsquo;</b>
character. This is convenient when you want to count records
with <b>wc</b>(1) or to <b>grep</b>(1) the output.</p>

<h2>BRIDGE - COMMAND SYNTAX
<a name="BRIDGE - COMMAND SYNTAX"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>OBJECT</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>link</b></p></td>
<td width="5%"></td>
<td width="50%">


<p>- Bridge port.</p></td>
<td width="28%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>fdb</b></p></td>
<td width="5%"></td>
<td width="50%">


<p>- Forwarding Database entry.</p></td>
<td width="28%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>mdb</b></p></td>
<td width="5%"></td>
<td width="50%">


<p>- Multicast group database entry.</p></td>
<td width="28%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>vlan</b></p></td>
<td width="5%"></td>
<td width="50%">


<p>- VLAN filter list.</p></td>
<td width="28%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>vni</b></p></td>
<td width="5%"></td>
<td width="50%">


<p>- VNI filter list.</p></td>
<td width="28%">
</td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><i>COMMAND</i>
<br>
Specifies the action to perform on the object. The set of
possible actions depends on the object type. As a rule, it
is possible to <b>add</b>, <b>delete</b> and <b>show</b> (or
<b>list</b> ) objects, but some objects do not allow all of
these operations or have some additional commands. The
<b>help</b> command is available for all objects. It prints
out a list of available commands and argument syntax
conventions.</p>

<p style="margin-left:11%; margin-top: 1em">If no command
is given, some default command is assumed. Usually it is
<b>list</b> or, if the objects of this class cannot be
listed, <b>help</b>.</p>

<h2>bridge link - bridge port
<a name="bridge link - bridge port"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>link</b>
objects correspond to the port devices of the bridge.</p>

<p style="margin-left:11%; margin-top: 1em">The
corresponding commands set and display port status and
bridge specific attributes.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge link
set - set bridge specific attributes on a port <br>
dev</b> <i>NAME</i></p>

<p style="margin-left:22%;">interface name of the bridge
port</p>

<p style="margin-left:11%;"><b>cost</b> <i>COST</i></p>

<p style="margin-left:22%;">the STP path cost of the
specified port.</p>

<p style="margin-left:11%;"><b>priority</b> <i>PRIO</i></p>

<p style="margin-left:22%;">the STP port priority. The
priority value is an unsigned 8-bit quantity (number between
0 and 255). This metric is used in the designated port an
droot port selection algorithms.</p>

<p style="margin-left:11%;"><b>state</b> <i>STATE</i></p>

<p style="margin-left:22%;">the operation state of the
port. Except state 0 (disable STP or BPDU filter feature),
this is primarily used by user space STP/RSTP
implementation. One may enter port state name (case
insensitive), or one of the numbers below. Negative inputs
are ignored, and unrecognized names return an error.</p>

<p style="margin-left:22%; margin-top: 1em"><b>0</b> - port
is in STP <b>DISABLED</b> state. Make this port completely
inactive for STP. This is also called BPDU filter and could
be used to disable STP on an untrusted port, like a leaf
virtual devices.</p>

<p style="margin-left:22%; margin-top: 1em"><b>1</b> - port
is in STP <b>LISTENING</b> state. Only valid if STP is
enabled on the bridge. In this state the port listens for
STP BPDUs and drops all other traffic frames.</p>

<p style="margin-left:22%; margin-top: 1em"><b>2</b> - port
is in STP <b>LEARNING</b> state. Only valid if STP is
enabled on the bridge. In this state the port will accept
traffic only for the purpose of updating MAC address
tables.</p>

<p style="margin-left:22%; margin-top: 1em"><b>3</b> - port
is in STP <b>FORWARDING</b> state. Port is fully active.</p>

<p style="margin-left:22%; margin-top: 1em"><b>4</b> - port
is in STP <b>BLOCKING</b> state. Only valid if STP is
enabled on the bridge. This state is used during the STP
election process. In this state, port will only process STP
BPDUs.</p>

<p style="margin-left:11%;"><b>guard on</b> or <b>guard
off</b></p>

<p style="margin-left:22%;">Controls whether STP BPDUs will
be processed by the bridge port. By default, the flag is
turned off allowed BPDU processing. Turning this flag on
will disables the bridge port if a STP BPDU packet is
received.</p>

<p style="margin-left:22%; margin-top: 1em">If running
Spanning Tree on bridge, hostile devices on the network may
send BPDU on a port and cause network failure. Setting
<b>guard on</b> will detect and stop this by disabling the
port. The port will be restarted if link is brought down, or
removed and reattached. For example if guard is enable on
eth0:</p>

<p style="margin-left:22%; margin-top: 1em"><b>ip link set
dev eth0 down; ip link set dev eth0 up</b></p>

<p style="margin-left:11%;"><b>hairpin on</b> or <b>hairpin
off</b></p>

<p style="margin-left:22%;">Controls whether traffic may be
send back out of the port on which it was received. This
option is also called reflective relay mode, and is used to
support basic VEPA (Virtual Ethernet Port Aggregator)
capabilities. By default, this flag is turned off and the
bridge will not forward traffic back out of the receiving
port.</p>

<p style="margin-left:11%;"><b>fastleave on</b> or
<b>fastleave off</b></p>

<p style="margin-left:22%;">This flag allows the bridge to
immediately stop multicast traffic on a port that receives
IGMP Leave message. It is only used with IGMP snooping is
enabled on the bridge. By default the flag is off.</p>

<p style="margin-left:11%;"><b>root_block on</b> or
<b>root_block off</b></p>

<p style="margin-left:22%;">Controls whether a given port
is allowed to become root port or not. Only used when STP is
enabled on the bridge. By default the flag is off.</p>

<p style="margin-left:22%; margin-top: 1em">This feature is
also called root port guard. If BPDU is received from a leaf
(edge) port, it should not be elected as root port. This
could be used if using STP on a bridge and the downstream
bridges are not fully trusted; this prevents a hostile guest
from rerouting traffic.</p>

<p style="margin-left:11%;"><b>learning on</b> or
<b>learning off</b></p>

<p style="margin-left:22%;">Controls whether a given port
will learn MAC addresses from received traffic or not. If
learning if off, the bridge will end up flooding any traffic
for which it has no FDB entry. By default this flag is
on.</p>

<p style="margin-left:11%;"><b>learning_sync on</b> or
<b>learning_sync off</b></p>

<p style="margin-left:22%;">Controls whether a given port
will sync MAC addresses learned on device port to bridge
FDB.</p>

<p style="margin-left:11%;"><b>flood on</b> or <b>flood
off</b></p>

<p style="margin-left:22%;">Controls whether unicast
traffic for which there is no FDB entry will be flooded
towards this given port. By default this flag is on.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>hwmode</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Some network interface cards support HW bridge
functionality and they may be configured in different modes.
Currently support modes are:</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em"><b>vepa</b> -
Data sent between HW ports is sent on the wire to the
external switch.</p>

<p style="margin-left:22%; margin-top: 1em"><b>veb</b> -
bridging happens in hardware.</p>

<p style="margin-left:11%;"><b>bcast_flood on</b> or
<b>bcast_flood off</b></p>

<p style="margin-left:22%;">Controls flooding of broadcast
traffic on the given port. By default this flag is on.</p>

<p style="margin-left:11%;"><b>mcast_flood on</b> or
<b>mcast_flood off</b></p>

<p style="margin-left:22%;">Controls whether multicast
traffic for which there is no MDB entry will be flooded
towards this given port. By default this flag is on.</p>

<p style="margin-left:11%;"><b>mcast_max_groups</b>
<i>MAX_GROUPS</i></p>

<p style="margin-left:22%;">Sets the maximum number of MDB
entries that can be registered for a given port. Attempts to
register more MDB entries at the port than this limit allows
will be rejected, whether they are done through netlink
(e.g. the <b>bridge</b> tool), or IGMP or MLD membership
reports. Setting a limit to 0 has the effect of disabling
the limit. The default value is 0. See also the <b>ip
link</b> option <b>mcast_hash_max</b>.</p>

<p style="margin-left:11%;"><b>mcast_router</b>
<i>MULTICAST_ROUTER</i></p>

<p style="margin-left:22%;">This flag is almost the same as
the per-VLAN flag, see below, except its value can only be
set in the range 0-2. The default is <b>1</b> where the
bridge figures out automatically where an IGMP/MLD querier,
MRDISC capable device, or PIM router, is located. Setting
this flag to <b>2</b> is useful in cases where the multicast
router does not indicate its presence in any meaningful way
(e.g. older versions of SMCRoute, or mrouted), or when there
is a need for forwarding both known and unknown IP multicast
to a secondary/backup router.</p>

<p style="margin-left:11%;"><b>mcast_to_unicast on</b> or
<b>mcast_to_unicast off</b></p>

<p style="margin-left:22%;">Controls whether a given port
will replicate packets using unicast instead of multicast.
By default this flag is off.</p>

<p style="margin-left:22%; margin-top: 1em">This is done by
copying the packet per host and changing the multicast
destination MAC to a unicast one accordingly.</p>


<p style="margin-left:22%; margin-top: 1em"><b>mcast_to_unicast</b>
works on top of the multicast snooping feature of the
bridge. Which means unicast copies are only delivered to
hosts which are interested in it and signalized this via
IGMP/MLD reports previously.</p>

<p style="margin-left:22%; margin-top: 1em">This feature is
intended for interface types which have a more reliable
and/or efficient way to deliver unicast packets than
broadcast ones (e.g. WiFi).</p>

<p style="margin-left:22%; margin-top: 1em">However, it
should only be enabled on interfaces where no IGMPv2/MLDv1
report suppression takes place. IGMP/MLD report suppression
issue is usually overcome by the network daemon (supplicant)
enabling AP isolation and by that separating all STAs.</p>

<p style="margin-left:22%; margin-top: 1em">Delivery of
STA-to-STA IP multicast is made possible again by enabling
and utilizing the bridge hairpin mode, which considers the
incoming port as a potential outgoing port, too (see
<b>hairpin</b> option). Hairpin mode is performed after
multicast snooping, therefore leading to only deliver
reports to STAs running a multicast router.</p>

<p style="margin-left:11%;"><b>neigh_suppress on</b> or
<b>neigh_suppress off</b></p>

<p style="margin-left:22%;">Controls whether neigh
discovery (arp and nd) proxy and suppression is enabled on
the port. By default this flag is off.</p>

<p style="margin-left:11%;"><b>vlan_tunnel on</b> or
<b>vlan_tunnel off</b></p>

<p style="margin-left:22%;">Controls whether vlan to tunnel
mapping is enabled on the port. By default this flag is
off.</p>

<p style="margin-left:11%;"><b>isolated on</b> or
<b>isolated off</b></p>

<p style="margin-left:22%;">Controls whether a given port
will be isolated, which means it will be able to communicate
with non-isolated ports only. By default this flag is
off.</p>

<p style="margin-left:11%;"><b>locked on</b> or <b>locked
off</b></p>

<p style="margin-left:22%;">Controls whether a port is
locked or not. When locked, non-link-local frames received
through the port are dropped unless an FDB entry with the
MAC source address points to the port. The common use case
is IEEE 802.1X where hosts can authenticate themselves by
exchanging EAPOL frames with an authenticator. After
authentication is complete, the user space control plane can
install a matching FDB entry to allow traffic from the host
to be forwarded by the bridge. When learning is enabled on a
locked port, the <b>no_linklocal_learn</b> bridge option
needs to be on to prevent the bridge from learning from
received EAPOL frames. By default this flag is off.</p>

<p style="margin-left:11%;"><b>mab on</b> or <b>mab
off</b></p>

<p style="margin-left:22%;">Controls whether MAC
Authentication Bypass (MAB) is enabled on the port or not.
MAB can only be enabled on a locked port that has learning
enabled. When enabled, FDB entries are learned from received
traffic and have the &quot;locked&quot; FDB flag set. The
flag can only be set by the kernel and it indicates that the
FDB entry cannot be used to authenticate the corresponding
host. User space can decide to authenticate the host by
replacing the FDB entry and clearing the &quot;locked&quot;
FDB flag. Locked FDB entries can roam to unlocked
(authorized) ports in which case the &quot;locked&quot; flag
is cleared. FDB entries cannot roam to locked ports
regardless of MAB being enabled or not. Therefore, locked
FDB entries are only created if an FDB entry with the given
{MAC, VID} does not already exist. This behavior prevents
unauthenticated hosts from disrupting traffic destined to
already authenticated hosts. Locked FDB entries act like
regular dynamic entries with respect to forwarding and
aging. By default this flag is off.</p>

<p style="margin-left:11%;"><b>backup_port</b>
<i>DEVICE</i></p>

<p style="margin-left:22%;">If the port loses carrier all
traffic will be redirected to the configured backup port</p>

<p style="margin-left:11%;"><b>nobackup_port</b></p>

<p style="margin-left:22%;">Removes the currently
configured backup port</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>self</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>link setting is configured on specified physical
device</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>master</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>link setting is configured on the software bridge
(default)</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;t</b>,
<b>&minus;timestamp</b></p>

<p style="margin-left:22%;">display current time when using
monitor option.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge link
show - list ports configuration for all bridges.</b> <br>
This command displays port configuration and flags for all
bridges.</p>

<p style="margin-left:11%; margin-top: 1em">To display port
configuration and flags for a specific bridge, use the
&quot;ip link show master &lt;bridge_device&gt;&quot;
command.</p>

<h2>bridge fdb - forwarding database management
<a name="bridge fdb - forwarding database management"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>fdb</b>
objects contain known Ethernet addresses on a link.</p>

<p style="margin-left:11%; margin-top: 1em">The
corresponding commands display fdb entries, add new entries,
append entries, and delete old ones.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge fdb
add - add a new fdb entry</b> <br>
This command creates a new fdb entry.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>LLADDR</b></p></td>
<td width="2%"></td>
<td width="38%">


<p>the Ethernet MAC address.</p></td>
<td width="40%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>dev</b> <i>DEV</i></p>

<p style="margin-left:22%;">the interface to which this
address is associated.</p>

<p style="margin-left:22%; margin-top: 1em"><b>local</b> -
is a local permanent fdb entry, which means that the bridge
will not forward frames with this destination MAC address
and VLAN ID, but terminate them locally. This flag is
default unless &quot;static&quot; or &quot;dynamic&quot; are
explicitly specified.</p>


<p style="margin-left:22%; margin-top: 1em"><b>permanent</b>
- this is a synonym for &quot;local&quot;</p>

<p style="margin-left:22%; margin-top: 1em"><b>static</b> -
is a static (no arp) fdb entry</p>

<p style="margin-left:22%; margin-top: 1em"><b>dynamic</b>
- is a dynamic reachable age-able fdb entry</p>

<p style="margin-left:22%; margin-top: 1em"><b>self</b> -
the operation is fulfilled directly by the driver for the
specified network device. If the network device belongs to a
master like a bridge, then the bridge is bypassed and not
notified of this operation (and if the device does notify
the bridge, it is driver-specific behavior and not mandated
by this flag, check the driver for more details). The
&quot;bridge fdb add&quot; command can also be used on the
bridge device itself, and in this case, the added fdb
entries will be locally terminated (not forwarded). In the
latter case, the &quot;self&quot; flag is mandatory. The
flag is set by default if &quot;master&quot; is not
specified.</p>

<p style="margin-left:22%; margin-top: 1em"><b>master</b> -
if the specified network device is a port that belongs to a
master device such as a bridge, the operation is fulfilled
by the master device&rsquo;s driver, which may in turn
notify the port driver too of the address. If the specified
device is a master itself, such as a bridge, this flag is
invalid.</p>

<p style="margin-left:22%; margin-top: 1em"><b>router</b> -
the destination address is associated with a router. Valid
if the referenced device is a VXLAN type device and has
route short circuit enabled.</p>

<p style="margin-left:22%; margin-top: 1em"><b>use</b> -
the address is in use. User space can use this option to
indicate to the kernel that the fdb entry is in use.</p>


<p style="margin-left:22%; margin-top: 1em"><b>extern_learn</b>
- this entry was learned externally. This option can be used
to indicate to the kernel that an entry was hardware or
user-space controller learnt dynamic entry. Kernel will not
age such an entry.</p>

<p style="margin-left:22%; margin-top: 1em"><b>sticky</b> -
this entry will not change its port due to learning.</p>

<p style="margin-left:9%; margin-top: 1em">The next command
line parameters apply only when the specified device
<i>DEV</i> is of type VXLAN.</p>

<p style="margin-left:11%;"><b>dst</b> <i>IPADDR</i></p>

<p style="margin-left:22%;">the IP address of the
destination VXLAN tunnel endpoint where the Ethernet MAC
ADDRESS resides.</p>

<p style="margin-left:11%;"><b>src_vni</b> <i>VNI</i></p>

<p style="margin-left:22%;">the src VNI Network Identifier
(or VXLAN Segment ID) this entry belongs to. Used only when
the vxlan device is in external or collect metadata mode. If
omitted the value specified at vxlan device creation will be
used.</p>

<p style="margin-left:11%;"><b>vni</b> <i>VNI</i></p>

<p style="margin-left:22%;">the VXLAN VNI Network
Identifier (or VXLAN Segment ID) to use to connect to the
remote VXLAN tunnel endpoint. If omitted the value specified
at vxlan device creation will be used.</p>

<p style="margin-left:11%;"><b>port</b> <i>PORT</i></p>

<p style="margin-left:22%;">the UDP destination PORT number
to use to connect to the remote VXLAN tunnel endpoint. If
omitted the default value is used.</p>

<p style="margin-left:11%;"><b>via</b> <i>DEVICE</i></p>

<p style="margin-left:22%;">device name of the outgoing
interface for the VXLAN device driver to reach the remote
VXLAN tunnel endpoint.</p>

<p style="margin-left:11%;"><b>nhid</b> <i>NHID</i></p>

<p style="margin-left:22%;">ecmp nexthop group for the
VXLAN device driver to reach remote VXLAN tunnel
endpoints.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge fdb
append - append a forwarding database entry</b> <br>
This command adds a new fdb entry with an already known
<i>LLADDR</i>. Valid only for multicast link layer
addresses. The command adds support for broadcast and
multicast Ethernet MAC addresses. The Ethernet MAC address
is added multiple times into the forwarding database and the
vxlan device driver sends a copy of the data packet to each
entry found.</p>

<p style="margin-left:11%; margin-top: 1em">The arguments
are the same as with <b>bridge fdb add</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge fdb
delete - delete a forwarding database entry</b> <br>
This command removes an existing fdb entry.</p>

<p style="margin-left:11%; margin-top: 1em">The arguments
are the same as with <b>bridge fdb add</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge fdb
replace - replace a forwarding database entry</b> <br>
If no matching entry is found, a new one will be created
instead.</p>

<p style="margin-left:11%; margin-top: 1em">The arguments
are the same as with <b>bridge fdb add</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge fdb
show - list forwarding entries.</b> <br>
This command displays the current forwarding table.</p>

<p style="margin-left:11%; margin-top: 1em">With the
<b>-statistics</b> option, the command becomes verbose. It
prints out the last updated and last used time for each
entry.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge fdb
get - get bridge forwarding entry.</b> <br>
lookup a bridge forwarding table entry.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>LLADDR</b></p></td>
<td width="2%"></td>
<td width="38%">


<p>the Ethernet MAC address.</p></td>
<td width="40%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>dev</b> <i>DEV</i></p>

<p style="margin-left:22%;">the interface to which this
address is associated.</p>

<p style="margin-left:11%;"><b>brport</b> <i>DEV</i></p>

<p style="margin-left:22%;">the bridge port to which this
address is associated. same as dev above.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>br</b> <i>DEV</i></p></td>
<td width="2%"></td>
<td width="78%">


<p>the bridge to which this address is associated.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>self</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>- the address is associated with the port drivers fdb.
Usually hardware.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>master</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>- the address is associated with master devices fdb.
Usually software (default).</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>bridge fdb
flush - flush bridge forwarding table entries.</b> <br>
flush the matching bridge forwarding table entries. Some
options below have a negated form when &quot;no&quot; is
prepended to them (e.g. permanent and nopermanent). <b><br>
dev</b> <i>DEV</i></p>

<p style="margin-left:22%;">the target device for the
operation. If the device is a bridge port and
&quot;master&quot; is set then the operation will be
fulfilled by its master device&rsquo;s driver and all
entries pointing to that port will be deleted.</p>

<p style="margin-left:11%;"><b>brport</b> <i>DEV</i></p>

<p style="margin-left:22%;">the target bridge port for the
operation. If the bridge device is specified then only
entries pointing to the bridge itself will be deleted. Note
that the target device specified by this option will
override the one specified by dev above.</p>

<p style="margin-left:11%;"><b>vlan</b> <i>VID</i></p>

<p style="margin-left:22%;">the target VLAN ID for the
operation. Match forwarding table entries only with the
specified VLAN ID.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>self</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>the operation is fulfilled directly by the driver for
the specified network device. If the network device belongs
to a master like a bridge, then the bridge is bypassed and
not notified of this operation. The &quot;bridge fdb
flush&quot; command can also be used on the bridge device
itself. The flag is set by default if &quot;master&quot; is
not specified.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>master</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>if the specified network device is a port that belongs
to a master device such as a bridge, the operation is
fulfilled by the master device&rsquo;s driver.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>[no]permanent</b></p>

<p style="margin-left:22%;">if specified then only
permanent entries will be deleted or respectively if
&quot;no&quot; is prepended then only non-permanent entries
will be deleted.</p>

<p style="margin-left:11%;"><b>[no]static</b></p>

<p style="margin-left:22%;">if specified then only static
entries will be deleted or respectively if &quot;no&quot; is
prepended then only non-static entries will be deleted.</p>

<p style="margin-left:11%;"><b>[no]dynamic</b></p>

<p style="margin-left:22%;">if specified then only dynamic
entries will be deleted or respectively if &quot;no&quot; is
prepended then only non-dynamic (static or permanent)
entries will be deleted.</p>

<p style="margin-left:11%;"><b>[no]added_by_user</b></p>

<p style="margin-left:22%;">if specified then only entries
with added_by_user flag will be deleted or respectively if
&quot;no&quot; is prepended then only entries without
added_by_user flag will be deleted.</p>

<p style="margin-left:11%;"><b>[no]extern_learn</b></p>

<p style="margin-left:22%;">if specified then only entries
with extern_learn flag will be deleted or respectively if
&quot;no&quot; is prepended then only entries without
extern_learn flag will be deleted.</p>

<p style="margin-left:11%;"><b>[no]sticky</b></p>

<p style="margin-left:22%;">if specified then only entries
with sticky flag will be deleted or respectively if
&quot;no&quot; is prepended then only entries without sticky
flag will be deleted.</p>

<p style="margin-left:11%;"><b>[no]offloaded</b></p>

<p style="margin-left:22%;">if specified then only entries
with offloaded flag will be deleted or respectively if
&quot;no&quot; is prepended then only entries without
offloaded flag will be deleted.</p>

<h2>bridge mdb - multicast group database management
<a name="bridge mdb - multicast group database management"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>mdb</b>
objects contain known IP or L2 multicast group addresses on
a link.</p>

<p style="margin-left:11%; margin-top: 1em">The
corresponding commands display mdb entries, add new entries,
replace entries and delete old ones.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge mdb
add - add a new multicast group database entry</b> <br>
This command creates a new mdb entry. <b><br>
dev</b> <i>DEV</i></p>

<p style="margin-left:22%;">the interface where this group
address is associated.</p>

<p style="margin-left:11%;"><b>port</b> <i>PORT</i></p>

<p style="margin-left:22%;">the port whose link is known to
have members of this multicast group.</p>

<p style="margin-left:11%;"><b>grp</b> <i>GROUP</i></p>

<p style="margin-left:22%;">the multicast group address
(IPv4, IPv6 or L2 multicast) whose members reside on the
link connected to the port.</p>


<p style="margin-left:22%; margin-top: 1em"><b>permanent</b>
- the mdb entry is permanent. Optional for IPv4 and IPv6,
mandatory for L2.</p>

<p style="margin-left:22%; margin-top: 1em"><b>temp</b> -
the mdb entry is temporary (default)</p>

<p style="margin-left:11%;"><b>src</b> <i>SOURCE</i></p>

<p style="margin-left:22%;">optional source IP address of a
sender for this multicast group. If IGMPv3 for IPv4, or
MLDv2 for IPv6 respectively, are enabled it will be included
in the lookup when forwarding multicast traffic.</p>

<p style="margin-left:11%;"><b>vid</b> <i>VID</i></p>

<p style="margin-left:22%;">the VLAN ID which is known to
have members of this multicast group.</p>

<p style="margin-left:11%;"><b>filter_mode include</b> or
<b>filter_mode exclude</b></p>

<p style="margin-left:22%;">controls whether the sources in
the entry&rsquo;s source list are in INCLUDE or EXCLUDE
mode. Can only be set for (*, G) entries.</p>

<p style="margin-left:11%;"><b>source_list</b>
<i>SOURCE_LIST</i></p>

<p style="margin-left:22%;">optional list of source IP
addresses of senders for this multicast group, separated by
a &rsquo;,&rsquo;. Whether the entry forwards packets from
these senders or not is determined by the entry&rsquo;s
filter mode, which becomes a mandatory argument. Can only be
set for (*, G) entries.</p>

<p style="margin-left:11%;"><b>proto</b> <i>PROTO</i></p>

<p style="margin-left:22%;">the routing protocol identifier
of this mdb entry. Can be a number or a string from the file
/etc/iproute2/rt_protos. If the routing protocol is not
given, then <b>static</b> is assumed.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge mdb
delete - delete a multicast group database entry</b> <br>
This command removes an existing mdb entry.</p>

<p style="margin-left:11%; margin-top: 1em">The arguments
are the same as with <b>bridge mdb add</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge mdb
replace - replace a multicast group database entry</b> <br>
If no matching entry is found, a new one will be created
instead.</p>

<p style="margin-left:11%; margin-top: 1em">The arguments
are the same as with <b>bridge mdb add</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge mdb
show - list multicast group database entries</b> <br>
This command displays the current multicast group membership
table. The table is populated by IGMP and MLD snooping in
the bridge driver automatically. It can be altered by
<b>bridge mdb add</b> and <b>bridge mdb del</b> commands
manually too. <b><br>
dev</b> <i>DEV</i></p>

<p style="margin-left:22%;">the interface only whose
entries should be listed. Default is to list all bridge
interfaces.</p>

<p style="margin-left:11%; margin-top: 1em">With the
<b>-details</b> option, the command becomes verbose. It
prints out the ports known to have a connected router.</p>

<p style="margin-left:11%; margin-top: 1em">With the
<b>-statistics</b> option, the command displays timer values
for mdb and router port entries.</p>

<h2>bridge vlan - VLAN filter list
<a name="bridge vlan - VLAN filter list"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>vlan</b>
objects contain known VLAN IDs for a link.</p>

<p style="margin-left:11%; margin-top: 1em">The
corresponding commands display vlan filter entries, add new
entries, and delete old ones.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge vlan
add - add a new vlan filter entry</b> <br>
This command creates a new vlan filter entry. <b><br>
dev</b> <i>NAME</i></p>

<p style="margin-left:22%;">the interface with which this
vlan is associated.</p>

<p style="margin-left:11%;"><b>vid</b> <i>VID</i></p>

<p style="margin-left:22%;">the VLAN ID that identifies the
vlan.</p>

<p style="margin-left:11%;"><b>tunnel_info</b>
<i>TUNNEL_ID</i></p>

<p style="margin-left:22%;">the TUNNEL ID that maps to this
vlan. The tunnel id is set in dst_metadata for every packet
that belongs to this vlan (applicable to bridge ports with
vlan_tunnel flag set).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>pvid</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>the vlan specified is to be considered a PVID at
ingress. Any untagged frames will be assigned to this
VLAN.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>untagged</b></p>

<p style="margin-left:22%;">the vlan specified is to be
treated as untagged on egress.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>self</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>the vlan is configured on the specified physical device.
Required if the device is the bridge device.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>master</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>the vlan is configured on the software bridge
(default).</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>bridge vlan
delete - delete a vlan filter entry</b> <br>
This command removes an existing vlan filter entry.</p>

<p style="margin-left:11%; margin-top: 1em">The arguments
are the same as with <b>bridge vlan add</b>. The <b>pvid</b>
and <b>untagged</b> flags are ignored.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge vlan
set - change vlan filter entry&rsquo;s options</b> <br>
This command changes vlan filter entry&rsquo;s options.
<b><br>
dev</b> <i>NAME</i></p>

<p style="margin-left:22%;">the interface with which this
vlan is associated.</p>

<p style="margin-left:11%;"><b>vid</b> <i>VID</i></p>

<p style="margin-left:22%;">the VLAN ID that identifies the
vlan.</p>

<p style="margin-left:11%;"><b>state</b>
<i>STP_STATE</i></p>

<p style="margin-left:22%;">the operation state of the
vlan. One may enter STP state name (case insensitive), or
one of the numbers below. Negative inputs are ignored, and
unrecognized names return an error. Note that the state is
set only for the vlan of the specified device, e.g. if it is
a bridge port then the state will be set only for the vlan
of the port.</p>

<p style="margin-left:22%; margin-top: 1em"><b>0</b> - vlan
is in STP <b>DISABLED</b> state. Make this vlan completely
inactive for STP. This is also called BPDU filter and could
be used to disable STP on an untrusted vlan.</p>

<p style="margin-left:22%; margin-top: 1em"><b>1</b> - vlan
is in STP <b>LISTENING</b> state. Only valid if STP is
enabled on the bridge. In this state the vlan listens for
STP BPDUs and drops all other traffic frames.</p>

<p style="margin-left:22%; margin-top: 1em"><b>2</b> - vlan
is in STP <b>LEARNING</b> state. Only valid if STP is
enabled on the bridge. In this state the vlan will accept
traffic only for the purpose of updating MAC address
tables.</p>

<p style="margin-left:22%; margin-top: 1em"><b>3</b> - vlan
is in STP <b>FORWARDING</b> state. This is the default vlan
state.</p>

<p style="margin-left:22%; margin-top: 1em"><b>4</b> - vlan
is in STP <b>BLOCKING</b> state. Only valid if STP is
enabled on the bridge. This state is used during the STP
election process. In this state, the vlan will only process
STP BPDUs.</p>

<p style="margin-left:11%;"><b>mcast_max_groups</b>
<i>MAX_GROUPS</i></p>

<p style="margin-left:22%;">Sets the maximum number of MDB
entries that can be registered for a given VLAN on a given
port. A VLAN-specific equivalent of the per-port option of
the same name, see above for details.</p>

<p style="margin-left:22%; margin-top: 1em">Note that this
option is only available when <b>ip link</b> option
<b>mcast_vlan_snooping</b> is enabled.</p>

<p style="margin-left:11%;"><b>mcast_router</b>
<i>MULTICAST_ROUTER</i></p>

<p style="margin-left:22%;">configure this vlan and
interface&rsquo;s multicast router mode, note that only
modes 0 - 2 are available for bridge devices. A vlan and
interface with a multicast router will receive all multicast
traffic. <i>MULTICAST_ROUTER</i> may be either</p>

<p style="margin-left:22%; margin-top: 1em"><b>0</b> - to
disable multicast router.</p>

<p style="margin-left:22%; margin-top: 1em"><b>1</b> - to
let the system detect the presence of routers (default).</p>

<p style="margin-left:22%; margin-top: 1em"><b>2</b> - to
permanently enable multicast traffic forwarding on this vlan
and interface.</p>

<p style="margin-left:22%; margin-top: 1em"><b>3</b> - to
temporarily mark this vlan and port as having a multicast
router, i.e. enable multicast traffic forwarding. This mode
is available only for ports.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge vlan
show - list vlan configuration.</b> <br>
This command displays the current VLAN filter table.</p>

<p style="margin-left:11%; margin-top: 1em">With the
<b>-details</b> option, the command becomes verbose. It
displays the per-vlan options.</p>

<p style="margin-left:11%; margin-top: 1em">With the
<b>-statistics</b> option, the command displays per-vlan
traffic statistics.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge vlan
tunnelshow - list vlan tunnel mapping.</b> <br>
This command displays the current vlan tunnel info
mapping.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge vlan
global set - change vlan filter entry&rsquo;s global
options</b> <br>
This command changes vlan filter entry&rsquo;s global
options. <b><br>
dev</b> <i>NAME</i></p>

<p style="margin-left:22%;">the interface with which this
vlan is associated. Only bridge devices are supported for
global options.</p>

<p style="margin-left:11%;"><b>vid</b> <i>VID</i></p>

<p style="margin-left:22%;">the VLAN ID that identifies the
vlan.</p>

<p style="margin-left:11%;"><b>mcast_snooping</b>
<i>MULTICAST_SNOOPING</i></p>

<p style="margin-left:22%;">turn multicast snooping for
VLAN entry with VLAN ID on (<i>MULTICAST_SNOOPING</i> &gt;
0) or off (<i>MULTICAST_SNOOPING</i> == 0). Default is
on.</p>

<p style="margin-left:11%;"><b>mcast_querier</b>
<i>MULTICAST_QUERIER</i></p>

<p style="margin-left:22%;">enable
(<i>MULTICAST_QUERIER</i> &gt; 0) or disable
(<i>MULTICAST_QUERIER</i> == 0) IGMP/MLD querier, ie sending
of multicast queries by the bridge. Default is disabled.</p>

<p style="margin-left:11%;"><b>mcast_igmp_version</b>
<i>IGMP_VERSION</i></p>

<p style="margin-left:22%;">set the IGMP version. Default
is 2.</p>

<p style="margin-left:11%;"><b>mcast_mld_version</b>
<i>MLD_VERSION</i></p>

<p style="margin-left:22%;">set the MLD version. Default is
1.</p>

<p style="margin-left:11%;"><b>mcast_last_member_count</b>
<i>LAST_MEMBER_COUNT</i></p>

<p style="margin-left:22%;">set multicast last member
count, ie the number of queries the bridge will send before
stopping forwarding a multicast group after a
&quot;leave&quot; message has been received. Default is
2.</p>


<p style="margin-left:11%;"><b>mcast_last_member_interval</b>
<i>LAST_MEMBER_INTERVAL</i></p>

<p style="margin-left:22%;">interval between queries to
find remaining members of a group, after a &quot;leave&quot;
message is received.</p>


<p style="margin-left:11%;"><b>mcast_startup_query_count</b>
<i>STARTUP_QUERY_COUNT</i></p>

<p style="margin-left:22%;">set the number of queries to
send during startup phase. Default is 2.</p>


<p style="margin-left:11%;"><b>mcast_startup_query_interval</b>
<i>STARTUP_QUERY_INTERVAL</i></p>

<p style="margin-left:22%;">interval between queries in the
startup phase.</p>


<p style="margin-left:11%;"><b>mcast_membership_interval</b>
<i>MEMBERSHIP_INTERVAL</i></p>

<p style="margin-left:22%;">delay after which the bridge
will leave a group, if no membership reports for this group
are received.</p>

<p style="margin-left:11%;"><b>mcast_querier_interval</b>
<i>QUERIER_INTERVAL</i></p>

<p style="margin-left:22%;">interval between queries sent
by other routers. If no queries are seen after this delay
has passed, the bridge will start to send its own queries
(as if <b>mcast_querier</b> was enabled).</p>

<p style="margin-left:11%;"><b>mcast_query_interval</b>
<i>QUERY_INTERVAL</i></p>

<p style="margin-left:22%;">interval between queries sent
by the bridge after the end of the startup phase.</p>


<p style="margin-left:11%;"><b>mcast_query_response_interval</b>
<i>QUERY_RESPONSE_INTERVAL</i></p>

<p style="margin-left:22%;">set the Max Response
Time/Maximum Response Delay for IGMP/MLD queries sent by the
bridge.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge vlan
global show - list global vlan options.</b> <br>
This command displays the global VLAN options for each VLAN
entry. <b><br>
dev</b> <i>DEV</i></p>

<p style="margin-left:22%;">the interface only whose VLAN
global options should be listed. Default is to list all
bridge interfaces.</p>

<p style="margin-left:11%;"><b>vid</b> <i>VID</i></p>

<p style="margin-left:22%;">the VLAN ID only whose global
options should be listed. Default is to list all vlans.</p>

<h2>bridge vni - VNI filter list
<a name="bridge vni - VNI filter list"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>vni</b>
objects contain known VNI IDs for a dst metadata vxlan
link.</p>

<p style="margin-left:11%; margin-top: 1em">The
corresponding commands display vni filter entries, add new
entries, and delete old ones.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge vni
add - add a new vni filter entry</b> <br>
This command creates a new vni filter entry. <b><br>
dev</b> <i>NAME</i></p>

<p style="margin-left:22%;">the interface with which this
vni is associated.</p>

<p style="margin-left:11%;"><b>vni</b> <i>VNI</i></p>

<p style="margin-left:22%;">the VNI ID that identifies the
vni.</p>

<p style="margin-left:11%;"><b>remote</b> <i>IPADDR</i></p>

<p style="margin-left:22%;">specifies the unicast
destination IP address to use in outgoing packets when the
destination link layer address is not known in the VXLAN
device forwarding database. This parameter cannot be
specified with the group.</p>

<p style="margin-left:11%;"><b>group</b> <i>IPADDR</i></p>

<p style="margin-left:22%;">specifies the multicast IP
address to join for this VNI</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge vni
del - delete a new vni filter entry</b> <br>
This command removes an existing vni filter entry.</p>

<p style="margin-left:11%; margin-top: 1em">The arguments
are the same as with <b>bridge vni add</b>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge vni
show - list vni filtering configuration.</b> <br>
This command displays the current vni filter table.</p>

<p style="margin-left:11%; margin-top: 1em">With the
<b>-statistics</b> option, the command displays per-vni
traffic statistics. <b><br>
dev</b> <i>NAME</i></p>

<p style="margin-left:22%;">shows vni filtering table
associated with the vxlan device</p>

<h2>bridge monitor - state monitoring
<a name="bridge monitor - state monitoring"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>bridge</b> utility can monitor the state of devices and
addresses continuously. This option has a slightly different
format. Namely, the <b>monitor</b> command is the first in
the command line and then the object list follows:</p>

<p style="margin-left:11%; margin-top: 1em"><b>bridge
monitor</b> [ <b>all</b> | <i>OBJECT-LIST</i> ]</p>


<p style="margin-left:11%; margin-top: 1em"><i>OBJECT-LIST</i>
is the list of object types that we want to monitor. It may
contain <b>link</b>, <b>fdb</b>, <b>vlan</b> and <b>mdb</b>.
If no <b>file</b> argument is given, <b>bridge</b> opens
RTNETLINK, listens on it and dumps state changes in the
format described in previous sections.</p>

<p style="margin-left:11%; margin-top: 1em">If a file name
is given, it does not listen on RTNETLINK, but opens the
file containing RTNETLINK messages saved in binary format
and dumps them.</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This command
uses facilities added in Linux 3.0.</p>

<p style="margin-left:11%; margin-top: 1em">Although the
forwarding table is maintained on a per-bridge device basis
the bridge device is not part of the syntax. This is a
limitation of the underlying netlink neighbour message
protocol. When displaying the forwarding table, entries for
all bridges are displayed. Add/delete/modify commands
determine the underlying bridge device based on the bridge
to which the corresponding ethernet device is attached.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>ip</b>(8)</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Please direct
bugreports and patches to:
<b>&lt;netdev@vger.kernel.org&gt;</b></p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Original
Manpage by Stephen Hemminger</p>
<hr>
</body>
</html>
