<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:57:10 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SETARCH</title>

</head>
<body>
<h1>x86_64</h1>



<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">setarch &minus;
change reported architecture in new program environment
and/or set personality flags</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>setarch</b>
[<i>arch</i>] [options] [<i>program</i>
[<i>argument</i>...]]</p>

<p style="margin-left:11%; margin-top: 1em"><b>setarch
&minus;&minus;list</b>|<b>&minus;h</b>|<b>&minus;V</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>arch</b>
[options] [<i>program</i> [<i>argument</i>...]]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>setarch</b>
modifies execution domains and process personality
flags.</p>

<p style="margin-left:11%; margin-top: 1em">The execution
domains currently only affects the output of <b>uname
&minus;m</b>. For example, on an AMD64 system, running
<b>setarch i386</b> <i>program</i> will cause <i>program</i>
to see i686 instead of <i>x86_64</i> as the machine type. It
can also be used to set various personality options. The
default <i>program</i> is <b>/bin/sh</b>.</p>

<p style="margin-left:11%; margin-top: 1em">Since version
2.33 the <i>arch</i> command line argument is optional and
<b>setarch</b> may be used to change personality flags
(ADDR_LIMIT_*, SHORT_INODE, etc) without modification of the
execution domain.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;list</b></p>

<p style="margin-left:17%;">List the architectures that
<b>setarch</b> knows about. Whether <b>setarch</b> can
actually set each of these architectures depends on the
running kernel.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;show[=personality]</b></p>

<p style="margin-left:17%;">Show the currently active
personality and flags. If the <b>personality</b> argument is
provided, it is shown instead of the current one.
<b>personality</b> is a hexadecimal number with values was
described in <b>sys/personality.h</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;uname&minus;2.6</b></p>

<p style="margin-left:17%;">Causes the <i>program</i> to
see a kernel version number beginning with 2.6. Turns on
<b>UNAME26</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;v</b>,
<b>&minus;&minus;verbose</b></p>

<p style="margin-left:17%;">Be verbose.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;3</b>,
<b>&minus;&minus;3gb</b></p>

<p style="margin-left:17%;">Specifies <i>program</i> should
use a maximum of 3GB of address space. Supported on x86.
Turns on <b>ADDR_LIMIT_3GB</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;4gb</b></p>

<p style="margin-left:17%;">This option has no effect. It
is retained for backward compatibility only, and may be
removed in future releases.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;B</b>,
<b>&minus;&minus;32bit</b></p>

<p style="margin-left:17%;">Limit the address space to 32
bits to emulate hardware. Supported on ARM and Alpha. Turns
on <b>ADDR_LIMIT_32BIT</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;F</b>,
<b>&minus;&minus;fdpic&minus;funcptrs</b></p>

<p style="margin-left:17%;">Treat user&minus;space function
pointers to signal handlers as pointers to address
descriptors. This option has no effect on architectures that
do not support <b>FDPIC</b> ELF binaries. In kernel v4.14
support is limited to ARM, Blackfin, Fujitsu FR&minus;V, and
SuperH CPU architectures.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;I</b>,
<b>&minus;&minus;short&minus;inode</b></p>

<p style="margin-left:17%;">Obsolete bug emulation flag.
Turns on <b>SHORT_INODE</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;L</b>,
<b>&minus;&minus;addr&minus;compat&minus;layout</b></p>

<p style="margin-left:17%;">Provide legacy virtual address
space layout. Use when the <i>program</i> binary does not
have <b>PT_GNU_STACK</b> ELF header. Turns on
<b>ADDR_COMPAT_LAYOUT</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;R</b>,
<b>&minus;&minus;addr&minus;no&minus;randomize</b></p>

<p style="margin-left:17%;">Disables randomization of the
virtual address space. Turns on
<b>ADDR_NO_RANDOMIZE</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;S</b>,
<b>&minus;&minus;whole&minus;seconds</b></p>

<p style="margin-left:17%;">Obsolete bug emulation flag.
Turns on <b>WHOLE_SECONDS</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;T</b>,
<b>&minus;&minus;sticky&minus;timeouts</b></p>

<p style="margin-left:17%;">This makes <b>select</b>(2),
<b>pselect</b>(2), and <b>ppoll</b>(2) system calls preserve
the timeout value instead of modifying it to reflect the
amount of time not slept when interrupted by a signal
handler. Use when <i>program</i> depends on this behavior.
For more details see the timeout description in
<b>select</b>(2) manual page. Turns on
<b>STICKY_TIMEOUTS</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;X</b>,
<b>&minus;&minus;read&minus;implies&minus;exec</b></p>

<p style="margin-left:17%;">If this is set then
<b>mmap</b>(2) <b>PROT_READ</b> will also add the
<b>PROT_EXEC</b> bit &minus; as expected by legacy x86
binaries. Notice that the ELF loader will automatically set
this bit when it encounters a legacy binary. Turns on
<b>READ_IMPLIES_EXEC</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;Z</b>,
<b>&minus;&minus;mmap&minus;page&minus;zero</b></p>

<p style="margin-left:17%;">SVr4 bug emulation that will
set <b>mmap</b>(2) page zero as read&minus;only. Use when
<i>program</i> depends on this behavior, and the source code
is not available to be fixed. Turns on
<b>MMAP_PAGE_ZERO</b>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;h</b>,
<b>&minus;&minus;help</b></p>

<p style="margin-left:17%;">Display help text and exit.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;V</b>,
<b>&minus;&minus;version</b></p>

<p style="margin-left:17%;">Print version and exit.</p>

<h2>EXAMPLE
<a name="EXAMPLE"></a>
</h2>


<p style="margin-left:17%; margin-top: 1em">setarch
&minus;&minus;addr&minus;no&minus;randomize mytestprog <br>
setarch ppc32 rpmbuild &minus;&minus;target=ppc
&minus;&minus;rebuild foo.src.rpm <br>
setarch ppc32 &minus;v &minus;vL3 rpmbuild
&minus;&minus;target=ppc &minus;&minus;rebuild bar.src.rpm
<br>
setarch ppc32 &minus;&minus;32bit rpmbuild
&minus;&minus;target=ppc &minus;&minus;rebuild
foo.src.rpm</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>Elliot
Lee</i> &lt;sopwith@redhat.com&gt;, <i>Jindrich Novy</i>
&lt;jnovy@redhat.com&gt;, <i>Karel Zak</i>
&lt;kzak@redhat.com&gt;</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>personality</b>(2),
<b>select</b>(2)</p>

<h2>REPORTING BUGS
<a name="REPORTING BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">For bug
reports, use the issue tracker at
&lt;https://github.com/util&minus;linux/util&minus;linux/issues&gt;.</p>

<h2>AVAILABILITY
<a name="AVAILABILITY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>setarch</b> command is part of the util&minus;linux
package which can be downloaded from <i>Linux Kernel
Archive</i>
&lt;https://www.kernel.org/pub/linux/utils/util&minus;linux/&gt;.</p>
<hr>
</body>
</html>
