<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:57:10 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>ZRAMCTL</title>

</head>
<body>
<h1>zramctl</h1>



<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">zramctl &minus;
set up and control zram devices</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Get info:</p>

<p style="margin-left:17%;"><b>zramctl</b> [options]</p>

<p style="margin-left:11%; margin-top: 1em">Reset zram:</p>

<p style="margin-left:17%;"><b>zramctl &minus;r</b>
<i>zramdev</i>...</p>

<p style="margin-left:11%; margin-top: 1em">Print name of
first unused zram device:</p>

<p style="margin-left:17%;"><b>zramctl &minus;f</b></p>

<p style="margin-left:11%; margin-top: 1em">Set up a zram
device:</p>

<p style="margin-left:17%;"><b>zramctl</b> [<b>&minus;f</b>
| <i>zramdev</i>] [<b>&minus;s</b> <i>size</i>]
[<b>&minus;t</b> <i>number</i>] [<b>&minus;a</b>
<i>algorithm</i>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>zramctl</b>
is used to quickly set up zram device parameters, to reset
zram devices, and to query the status of used zram
devices.</p>

<p style="margin-left:11%; margin-top: 1em">If no option is
given, all non&minus;zero size zram devices are shown.</p>

<p style="margin-left:11%; margin-top: 1em">Note that
<i>zramdev</i> node specified on command line has to already
exist. The command <b>zramctl</b> creates a new
<i>/dev/zram&lt;N&gt;</i> nodes only when
<b>&minus;&minus;find</b> option specified. It&rsquo;s
possible (and common) that after system boot
<i>/dev/zram&lt;N&gt;</i> nodes are not created yet.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;a</b>,
<b>&minus;&minus;algorithm
lzo</b>|<b>lz4</b>|<b>lz4hc</b>|<b>deflate</b>|<b>842</b>|<b>zstd</b></p>

<p style="margin-left:17%;">Set the compression algorithm
to be used for compressing data in the zram device.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;f</b>,
<b>&minus;&minus;find</b></p>

<p style="margin-left:17%;">Find the first unused zram
device. If a <b>&minus;&minus;size</b> argument is present,
then initialize the device.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;n</b>,
<b>&minus;&minus;noheadings</b></p>

<p style="margin-left:17%;">Do not print a header line in
status output.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;o</b>,
<b>&minus;&minus;output</b> <i>list</i></p>

<p style="margin-left:17%;">Define the status output
columns to be used. If no output arrangement is specified,
then a default set is used. Use <b>&minus;&minus;help</b> to
get a list of all supported columns.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;output&minus;all</b></p>

<p style="margin-left:17%;">Output all available
columns.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;raw</b></p>

<p style="margin-left:17%;">Use the raw format for status
output.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;r</b>,
<b>&minus;&minus;reset</b></p>

<p style="margin-left:17%;">Reset the options of the
specified zram device(s). Zram device settings can be
changed only after a reset.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;s</b>,
<b>&minus;&minus;size</b> <i>size</i></p>

<p style="margin-left:17%;">Create a zram device of the
specified <i>size</i>. Zram devices are aligned to memory
pages; when the requested <i>size</i> is not a multiple of
the page size, it will be rounded up to the next multiple.
When not otherwise specified, the unit of the <i>size</i>
parameter is bytes.</p>

<p style="margin-left:17%; margin-top: 1em">The <i>size</i>
argument may be followed by the multiplicative suffixes KiB
(=1024), MiB (=1024*1024), and so on for GiB, TiB, PiB, EiB,
ZiB and YiB (the &quot;iB&quot; is optional, e.g.,
&quot;K&quot; has the same meaning as &quot;KiB&quot;) or
the suffixes KB (=1000), MB (=1000*1000), and so on for GB,
TB, PB, EB, ZB and YB.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;t</b>,
<b>&minus;&minus;streams</b> <i>number</i></p>

<p style="margin-left:17%;">Set the maximum number of
compression streams that can be used for the device. The
default is use all CPUs and one stream for kernels older
than 4.6.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;h</b>,
<b>&minus;&minus;help</b></p>

<p style="margin-left:17%;">Display help text and exit.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;V</b>,
<b>&minus;&minus;version</b></p>

<p style="margin-left:17%;">Print version and exit.</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>zramctl</b>
returns 0 on success, nonzero on failure.</p>

<h2>FILES
<a name="FILES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>/dev/zram[0..N]</i></p>

<p style="margin-left:17%;">zram block devices</p>

<h2>EXAMPLE
<a name="EXAMPLE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
commands set up a zram device with a size of one gigabyte
and use it as swap device.</p>

<p style="margin-left:17%; margin-top: 1em"># zramctl
&minus;&minus;find &minus;&minus;size 1024M <br>
/dev/zram0 <br>
# mkswap /dev/zram0 <br>
# swapon /dev/zram0 <br>
... <br>
# swapoff /dev/zram0 <br>
# zramctl &minus;&minus;reset /dev/zram0</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>Timofey
Titovets</i> &lt;nefelim4ag@gmail.com&gt;, <i>Karel Zak</i>
&lt;kzak@redhat.com&gt;</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>Linux kernel
documentation</i>
&lt;https://docs.kernel.org/admin&minus;guide/blockdev/zram.html&gt;</p>

<h2>REPORTING BUGS
<a name="REPORTING BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">For bug
reports, use the issue tracker at
&lt;https://github.com/util&minus;linux/util&minus;linux/issues&gt;.</p>

<h2>AVAILABILITY
<a name="AVAILABILITY"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<b>zramctl</b> command is part of the util&minus;linux
package which can be downloaded from <i>Linux Kernel
Archive</i>
&lt;https://www.kernel.org/pub/linux/utils/util&minus;linux/&gt;.</p>
<hr>
</body>
</html>
