<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:56:53 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>MAKEPKG.CONF</title>

</head>
<body>
<h1>makepkg.conf</h1>



<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">makepkg.conf
&minus; makepkg configuration file</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">/etc/makepkg.conf,
$XDG_CONFIG_HOME/pacman/makepkg.conf, ~/.makepkg.conf</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Configuration
options for makepkg are stored in makepkg.conf. This file is
sourced so you can include any special compiler flags you
wish to use. This is helpful when building for different
architectures or with different optimizations. However, only
the variables described below are exported to the build
environment.</p>


<p style="margin-left:17%; margin-top: 1em"><b><big>Note</big></b>
<br>
This does not guarantee that all package Makefiles will use
your exported variables. Some of them are
non&minus;standard.</p>

<p style="margin-left:11%; margin-top: 1em">The
system&minus;wide configuration file is found in
/etc/makepkg.conf. Individual options can be overridden (or
added to) on a per&minus;user basis in
$XDG_CONFIG_HOME/pacman/makepkg.conf or ~/.makepkg.conf,
with the former taking priority.</p>

<p style="margin-left:11%; margin-top: 1em">The default
file is fairly well commented, so it may be easiest to
simply follow directions given there for customization.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b><big>DLAGENTS=(</big></b><big>'protocol::/path/to/command
[options]' ...<b>)</b></big></p>

<p style="margin-left:17%;"><big>Sets the download agents
used to fetch source files specified with a URL in the
<b>PKGBUILD</b>(5) file. Options can be specified for each
command as well, and any protocol can have a download agent.
Any spaces in option arguments are required to be escaped to
avoid being split. Several examples are provided in the
default makepkg.conf.</big></p>

<p style="margin-left:17%; margin-top: 1em"><big>If
present, %u will be replaced with the download URL.
Otherwise, the download URL will be placed on the end of the
command. If present, %o will be replaced with the local file
name, plus a &ldquo;.part&rdquo; extension, which allows
makepkg to handle resuming file downloads.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>VCSCLIENTS=(</b>'protocol::package'
...<b>)</b></big></p>

<p style="margin-left:17%;"><big>Sets the packages required
to fetch version controlled source files. When required,
makepkg will check that these packages are installed or are
included in the depends or makedepends arrays in the
PKGBUILD.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>CARCH=</b>&quot;carch&quot;</big></p>

<p style="margin-left:17%;"><big>Specifies your computer
architecture; possible values include such things as
&ldquo;i686&rdquo;, &ldquo;x86_64&rdquo;, &ldquo;ppc&rdquo;,
etc. This should be automatically set on
installation.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>CHOST=</b>&quot;chost&quot;</big></p>

<p style="margin-left:17%;"><big>A string such as
&ldquo;i686&minus;pc&minus;linux&minus;gnu&rdquo;; do not
touch this unless you know what you are doing. This can be
commented out by most users if desired.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>CPPFLAGS=</b>&quot;cppflags&quot;</big></p>

<p style="margin-left:17%;"><big>Flags used for the C
preprocessor; see CFLAGS for more information.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>CFLAGS=</b>&quot;cflags&quot;</big></p>

<p style="margin-left:17%;"><big>Flags used for the C
compiler. This is a key part to the use of makepkg. Usually
several options are specified, and the most common string
resembles something like this: &ldquo;&minus;march=i686
&minus;O2 &minus;pipe&rdquo;. Another useful option may be
&minus;mcpu in place of &minus;march. Read gcc(1) for more
details on the wide variety of compiler flags
available.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>CXXFLAGS=</b>&quot;cxxflags&quot;</big></p>

<p style="margin-left:17%;"><big>Flags used for the C++
compiler; see CFLAGS for more info.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>RUSTFLAGS=</b>&quot;rustflags&quot;</big></p>

<p style="margin-left:17%;"><big>Flags used for the Rust
compiler, similar in spirit to CFLAGS. Read <b>rustc</b>(1)
for more details on the available flags.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>LDFLAGS=</b>&quot;ldflags&quot;</big></p>

<p style="margin-left:17%;"><big>Flags used for the linker.
Several options may be specified with common usage
resembling
&ldquo;&minus;Wl,&minus;&minus;hash&minus;style=gnu&rdquo;.
Read ld(1) for more details on available linker
flags.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>LTOFLAGS=</b>&quot;ltoflags&quot;</big></p>

<p style="margin-left:17%;"><big>Additional compiler and
linker flags appended to CFLAGS, CXXFLAGS and LDFLAGS when
building with link time optimization. If empty,
&ldquo;&minus;flto&rdquo; is used.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>MAKEFLAGS=</b>&quot;makeflags&quot;</big></p>

<p style="margin-left:17%;"><big>This is often used to set
the number of jobs used; for example, &minus;j2. Other flags
that make accepts can also be passed.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>DEBUG_CFLAGS=</b>&quot;debug_cflags&quot;</big></p>

<p style="margin-left:17%;"><big>Additional compiler flags
appended to CFLAGS for use in debugging. Usually this would
include: &ldquo;&minus;g&rdquo;. Read gcc(1) for more
details on the wide variety of compiler flags
available.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>DEBUG_CXXFLAGS=</b>&quot;debug_cxxflags&quot;</big></p>

<p style="margin-left:17%;"><big>Debug flags used for the
C++ compiler; see DEBUG_CFLAGS for more info.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>DEBUG_RUSTFLAGS=</b>&quot;debug_rustflags&quot;</big></p>

<p style="margin-left:17%;"><big>Additional compiler flags
appended to RUSTFLAGS for use in debugging. Usually this
would include: &ldquo;&minus;C debuginfo=2&rdquo;. Read
<b>rustc</b>(1) for more details on the available
flags.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>BUILDENV=(</b>!distcc
!color !ccache check !sign<b>)</b></big></p>

<p style="margin-left:17%;"><big>This array contains
options that affect the build environment; the defaults are
shown here. All options should always be left in the array;
to enable or disable an option, simply remove or add an
&ldquo;!&rdquo; at the front of the option. If an option is
specified multiple times, the final value takes precedence.
Each option works as follows:</big></p>


<p style="margin-left:17%; margin-top: 1em"><big><b>distcc</b></big></p>

<p style="margin-left:23%;"><big>Use the distributed
C/C++/ObjC compiler to spread compilation among multiple
machines. If this is enabled, DISTCC_HOSTS must be specified
as well.</big></p>


<p style="margin-left:17%; margin-top: 1em"><big><b>color</b></big></p>

<p style="margin-left:23%;"><big>Colorize output messages,
making output easier to read.</big></p>


<p style="margin-left:17%; margin-top: 1em"><big><b>ccache</b></big></p>

<p style="margin-left:23%;"><big>Use ccache to cache
compilation by default. This allows for faster compiles if
you are continuously recompiling the same packages. It can
be disabled for individual packages by placing !ccache in
the PKGBUILD options array.</big></p>


<p style="margin-left:17%; margin-top: 1em"><big><b>check</b></big></p>

<p style="margin-left:23%;"><big>Run the check() function
if present in the PKGBUILD. This can be enabled or disabled
for individual packages through the use of makepkg&rsquo;s
<i>&minus;&minus;check</i> and <i>&minus;&minus;nocheck</i>
options, respectively.</big></p>


<p style="margin-left:17%; margin-top: 1em"><big><b>sign</b></big></p>

<p style="margin-left:23%;"><big>Generate a PGP signature
file using GnuPG. This will execute <i>gpg
&minus;&minus;detach&minus;sign
&minus;&minus;use&minus;agent</i> on the built package to
generate a detached signature file, using the GPG agent, if
it is available. The signature file will be the entire file
name of the package with a &ldquo;.sig&rdquo;
extension.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>DISTCC_HOSTS=</b>&quot;host1
...&quot;</big></p>

<p style="margin-left:17%;"><big>If using DistCC, this is
used to specify a space&minus;delimited list of hosts
running in the DistCC cluster. In addition, you will want to
modify your MAKEFLAGS.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>BUILDDIR=</b>&quot;/path/to/directory&quot;</big></p>

<p style="margin-left:17%;"><big>If this value is not set,
packages will, by default, be built in subdirectories of the
directory that makepkg is called from. This option allows
setting the build location to another directory. Incorrect
use of $startdir in a PKGBUILD may cause building with this
option to fail.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>GPGKEY=</b>&quot;&quot;</big></p>

<p style="margin-left:17%;"><big>Specify a key to use for
GPG signing instead of the default key in the keyring. Can
be overridden with makepkg&rsquo;s <i>&minus;&minus;key</i>
option.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>OPTIONS=(</b>!strip
docs libtool staticlibs emptydirs !zipman !purge
!debug<b>)</b></big></p>

<p style="margin-left:17%;"><big>This array contains
options that affect default packaging. They are equivalent
to options that can be placed in the PKGBUILD; the defaults
are shown here. All options should always be left in the
array; to enable or disable an option, simply remove or add
an &ldquo;!&rdquo; at the front of the option. If an option
is specified multiple times, the final value takes
precedence. Each option works as follows:</big></p>


<p style="margin-left:17%; margin-top: 1em"><big><b>strip</b></big></p>

<p style="margin-left:23%;"><big>Strip symbols from
binaries and libraries. If you frequently use a debugger on
programs or libraries, it may be helpful to disable this
option.</big></p>


<p style="margin-left:17%; margin-top: 1em"><big><b>docs</b></big></p>

<p style="margin-left:23%;"><big>Save doc directories. If
you wish to delete doc directories, specify !docs in the
array. The directories affected are specified by the
DOC_DIRS variable.</big></p>


<p style="margin-left:17%; margin-top: 1em"><big><b>libtool</b></big></p>

<p style="margin-left:23%;"><big>Leave libtool (.la) files
in packages. Specify !libtool to remove them.</big></p>


<p style="margin-left:17%; margin-top: 1em"><big><b>staticlibs</b></big></p>

<p style="margin-left:23%;"><big>Leave static library (.a)
files in packages. Specify !staticlibs to remove them, if
they have a shared counterpart.</big></p>


<p style="margin-left:17%; margin-top: 1em"><big><b>emptydirs</b></big></p>

<p style="margin-left:23%;"><big>Leave empty directories in
packages.</big></p>


<p style="margin-left:17%; margin-top: 1em"><big><b>zipman</b></big></p>

<p style="margin-left:23%;"><big>Compress manual (man and
info) pages with gzip. The directories affected are
specified by the MAN_DIRS variable.</big></p>


<p style="margin-left:17%; margin-top: 1em"><big><b>purge</b></big></p>

<p style="margin-left:23%;"><big>Remove files specified by
the PURGE_TARGETS variable from the package.</big></p>


<p style="margin-left:17%; margin-top: 1em"><big><b>debug</b></big></p>

<p style="margin-left:23%;"><big>Add the
user&minus;specified debug flags as specified in
DEBUG_CFLAGS and DEBUG_CXXFLAGS to their counterpart
buildflags. Creates a separate package containing the debug
symbols when used with &lsquo;strip&rsquo;.</big></p>


<p style="margin-left:17%; margin-top: 1em"><big><b>lto</b></big></p>

<p style="margin-left:23%;"><big>Enable building packages
using link time optimization. Adds the flags specified in
LTOFLAGS to CFLAGS, CXXFLAGS and LDFLAGS (or
&ldquo;&minus;flto&rdquo; if LTOFLAGS is empty).</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>INTEGRITY_CHECK=(</b>check1
...<b>)</b></big></p>

<p style="margin-left:17%;"><big>File integrity checks to
use. Multiple checks may be specified; this affects both
generation and checking. The current valid options are: ck,
md5, sha1, sha224, sha256, sha384, sha512, and b2.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>STRIP_BINARIES=</b>&quot;&minus;&minus;strip&minus;all&quot;</big></p>

<p style="margin-left:17%;"><big>Options to be used when
stripping binaries. See <b>strip</b>(1) for
details.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>STRIP_SHARED=</b>&quot;&minus;&minus;strip&minus;unneeded&quot;</big></p>

<p style="margin-left:17%;"><big>Options to be used when
stripping shared libraries or PIE executables. See
<b>strip</b>(1) for details.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>STRIP_STATIC=</b>&quot;&minus;&minus;strip&minus;debug&quot;</big></p>

<p style="margin-left:17%;"><big>Options to be used when
stripping static libraries. See <b>strip</b>(1) for
details.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>MAN_DIRS=(</b>{usr{,/local}{,/share},opt/*}/{man,info}
...<b>)</b></big></p>

<p style="margin-left:17%;"><big>If zipman is specified in
the OPTIONS array, this variable will instruct makepkg where
to look to compress manual (man and info) pages. If you
build packages that are located in opt/, you may need to add
the directory to this array. <b>NOTE:</b> Do not add the
leading slash to the directory name.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>DOC_DIRS=(</b>usr/{,share/}{doc,gtk&minus;doc}
...<b>)</b></big></p>

<p style="margin-left:17%;"><big>If !docs is specified in
the OPTIONS array, this variable will instruct makepkg where
to look to remove docs. If you build packages that are
located in opt/, you may need to add the directory to this
array. <b>NOTE:</b> Do not add the leading slash to the
directory name.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>PURGE_TARGETS=(</b>usr/{,share}/info/dir
.podlist *.pod...<b>)</b></big></p>

<p style="margin-left:17%;"><big>If purge is specified in
the OPTIONS array, this variable will instruct makepkg which
files to remove from the package. This is useful for index
files that are added by multiple packages.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>DBGSRCDIR=</b>&quot;/usr/src/debug&quot;</big></p>

<p style="margin-left:17%;"><big>If strip and debug are
specified in the OPTIONS array, this variable will instruct
makepkg where to place source files for installed binaries.
The binaries will be modified to link this directory for the
debugger search path.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>PKGDEST=</b>&quot;/path/to/directory&quot;</big></p>

<p style="margin-left:17%;"><big>If this value is not set,
packages will, by default, be placed in the current
directory (location of the <b>PKGBUILD</b>(5)). Many people
like to keep all their packages in one place so this option
allows for this behavior. A common location is
&ldquo;/home/packages&rdquo;.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>SRCDEST=</b>&quot;/path/to/directory&quot;</big></p>

<p style="margin-left:17%;"><big>If this value is not set,
downloaded source files will only be stored in the current
directory. Many people like to keep all source files in a
central location for easy cleanup, so this path can be set
here.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>SRCPKGDEST=</b>&quot;/path/to/directory&quot;</big></p>

<p style="margin-left:17%;"><big>If this value is not set,
source package files will be stored in in the current
directory. Many people like to keep all source package files
in a central location for easy cleanup, so this path can be
set here.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>LOGDEST=</b>&quot;/path/to/directory&quot;</big></p>

<p style="margin-left:17%;"><big>If this value is not set,
log files are written to the current directory. This
centralizes the log location, facilitating cleanup and
compression.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>PACKAGER=</b>&quot;John
Doe &lt;john@example.com&gt;&quot;</big></p>

<p style="margin-left:17%;"><big>This value is used when
querying a package to see who was the builder. The given
format is required for PGP key lookup through WKD. It is
recommended to change this to your name and email
address.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>COMPRESSGZ=</b>&quot;(gzip
&minus;c &minus;f &minus;n)&quot;,
<b>COMPRESSBZ2=</b>&quot;(bzip2 &minus;c &minus;f)&quot;,
<b>COMPRESSXZ=</b>&quot;(xz &minus;c &minus;z
&minus;)&quot;, <b>COMPRESSZST=</b>&quot;(zstd &minus;c
&minus;z &minus;)&quot;, <b>COMPRESSLZO</b>&quot;(lzop
&minus;q)&quot;, <b>COMPRESSLRZ=</b>&quot;(lrzip
&minus;q)&quot;, <b>COMPRESSLZ4=</b>&quot;(lz4
&minus;q)&quot;, <b>COMPRESSZ=</b>&quot;(compress &minus;c
&minus;f)&quot;, <b>COMPRESSLZ=</b>&quot;(lzip &minus;c
&minus;f)&quot;</big></p>

<p style="margin-left:17%;"><big>Sets the command and
options used when compressing compiled or source packages in
the named format.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>PKGEXT=</b>&quot;.pkg.tar.gz&quot;,
<b>SRCEXT=</b>&quot;.src.tar.gz&quot;</big></p>

<p style="margin-left:17%;"><big>Sets the compression used
when making compiled or source packages. Valid suffixes are
.tar.gz, .tar.bz2, .tar.xz, .tar.zst, .tar.lzo, .tar.lrz,
.tar.lz4, .tar.lz and .tar.Z, or simply .tar to disable
compression entirely.</big></p>


<p style="margin-left:11%; margin-top: 1em"><big><b>PACMAN_AUTH=()</b></big></p>

<p style="margin-left:17%;"><big>Specify a command prefix
for running pacman as root. If unset, makepkg will check for
the presence of sudo(8) and su(1) in turn, and try the first
one it finds.</big></p>

<p style="margin-left:17%; margin-top: 1em"><big>If
present, %c will be replaced with the shell&minus;quoted
form of the command to run. Otherwise, the command to run is
appended to the auth command.</big></p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><big><b>makepkg</b>(8),
<b>pacman</b>(8), <b>PKGBUILD</b>(5)</big></p>

<p style="margin-left:11%; margin-top: 1em"><big>See the
pacman website at https://archlinux.org/pacman/ for current
information on pacman and its related tools.</big></p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><big>Bugs? You
must be kidding; there are no bugs in this software. But if
we happen to be wrong, submit a bug report with as much
detail as possible at the Arch Linux Bug Tracker in the
Pacman section.</big></p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><big>Current
maintainers:</big></p>

<p style="margin-left:17%; margin-top: 1em"><big>&bull;
Allan McRae &lt;allan@archlinux.org&gt;</big></p>

<p style="margin-left:17%; margin-top: 1em"><big>&bull;
Andrew Gregory &lt;andrew.gregory.8@gmail.com&gt;</big></p>

<p style="margin-left:17%; margin-top: 1em"><big>&bull; Eli
Schwartz &lt;eschwartz@archlinux.org&gt;</big></p>

<p style="margin-left:17%; margin-top: 1em"><big>&bull;
Morgan Adamiec &lt;morganamilo@archlinux.org&gt;</big></p>

<p style="margin-left:11%; margin-top: 1em"><big>Past major
contributors:</big></p>

<p style="margin-left:17%; margin-top: 1em"><big>&bull;
Judd Vinet &lt;jvinet@zeroflux.org&gt;</big></p>

<p style="margin-left:17%; margin-top: 1em"><big>&bull;
Aurelien Foret &lt;aurelien@archlinux.org&gt;</big></p>

<p style="margin-left:17%; margin-top: 1em"><big>&bull;
Aaron Griffin &lt;aaron@archlinux.org&gt;</big></p>

<p style="margin-left:17%; margin-top: 1em"><big>&bull; Dan
McGee &lt;dan@archlinux.org&gt;</big></p>

<p style="margin-left:17%; margin-top: 1em"><big>&bull;
Xavier Chantry &lt;shiningxc@gmail.com&gt;</big></p>

<p style="margin-left:17%; margin-top: 1em"><big>&bull;
Nagy Gabor &lt;ngaba@bibl.u&minus;szeged.hu&gt;</big></p>

<p style="margin-left:17%; margin-top: 1em"><big>&bull;
Dave Reisner &lt;dreisner@archlinux.org&gt;</big></p>

<p style="margin-left:11%; margin-top: 1em"><big>For
additional contributors, use git shortlog &minus;s on the
pacman.git repository.</big></p>
<hr>
</body>
</html>
