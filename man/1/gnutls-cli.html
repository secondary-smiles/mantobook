<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:53:45 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>gnutls-cli</title>

</head>
<body>
<h1>gnutls-cli</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>gnutls-cli</b>
&minus; GnuTLS client</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>gnutls-cli</b>
[<b>&minus;flags</b>] [<b>&minus;flag</b> [<i>value</i>]]
[<b>&minus;&minus;option-name</b>[[=| ]<i>value</i>]]
[hostname]</p>

<p style="margin-left:11%; margin-top: 1em">Operands and
options may be intermixed. They will be reordered.</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Simple client
program to set up a TLS connection to some other computer.
It sets up a TLS connection and forwards data from the
standard input to the secured socket and vice versa.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;d</b>
<i>num</i>, <b>&minus;&minus;debug</b>=<i>num</i></p>

<p style="margin-left:22%;">Enable debugging. This option
takes an integer number as its argument. The value of
<i>num</i> is constrained to being:</p>

<p style="margin-left:28%;">in the range 0 through 9999</p>

<p style="margin-left:22%; margin-top: 1em">Specifies the
debug level.</p>

<p style="margin-left:11%;"><b>&minus;V</b>,
<b>&minus;&minus;verbose</b></p>

<p style="margin-left:22%;">More verbose output.</p>

<p style="margin-left:11%;"><b>&minus;&minus;tofu</b>,
<b>&minus;&minus;no&minus;tofu</b></p>

<p style="margin-left:22%;">Enable trust on first use
authentication. The <i>no&minus;tofu</i> form will disable
the option.</p>

<p style="margin-left:22%; margin-top: 1em">This option
will, in addition to certificate authentication, perform
authentication based on previously seen public keys, a model
similar to SSH authentication. Note that when tofu is
specified (PKI) and DANE authentication will become advisory
to assist the public key acceptance process.</p>


<p style="margin-left:11%;"><b>&minus;&minus;strict&minus;tofu</b>,
<b>&minus;&minus;no&minus;strict&minus;tofu</b></p>

<p style="margin-left:22%;">Fail to connect if a
certificate is unknown or a known certificate has changed.
The <i>no&minus;strict&minus;tofu</i> form will disable the
option.</p>

<p style="margin-left:22%; margin-top: 1em">This option
will perform authentication as with option
&minus;&minus;tofu; however, no questions shall be asked
whatsoever, neither to accept an unknown certificate nor a
changed one.</p>

<p style="margin-left:11%;"><b>&minus;&minus;dane</b>,
<b>&minus;&minus;no&minus;dane</b></p>

<p style="margin-left:22%;">Enable DANE certificate
verification (DNSSEC). The <i>no&minus;dane</i> form will
disable the option.</p>

<p style="margin-left:22%; margin-top: 1em">This option
will, in addition to certificate authentication using the
trusted CAs, verify the server certificates using on the
DANE information available via DNSSEC.</p>


<p style="margin-left:11%;"><b>&minus;&minus;local&minus;dns</b>,
<b>&minus;&minus;no&minus;local&minus;dns</b></p>

<p style="margin-left:22%;">Use the local DNS server for
DNSSEC resolving. The <i>no&minus;local&minus;dns</i> form
will disable the option.</p>

<p style="margin-left:22%; margin-top: 1em">This option
will use the local DNS server for DNSSEC. This is disabled
by default due to many servers not allowing DNSSEC.</p>


<p style="margin-left:11%;"><b>&minus;&minus;ca&minus;verification</b>,
<b>&minus;&minus;no&minus;ca&minus;verification</b></p>

<p style="margin-left:22%;">Enable CA certificate
verification. The <i>no&minus;ca&minus;verification</i> form
will disable the option. This option is enabled by
default.</p>

<p style="margin-left:22%; margin-top: 1em">This option can
be used to enable or disable CA certificate verification. It
is to be used with the &minus;&minus;dane or
&minus;&minus;tofu options.</p>

<p style="margin-left:11%;"><b>&minus;&minus;ocsp</b>,
<b>&minus;&minus;no&minus;ocsp</b></p>

<p style="margin-left:22%;">Enable OCSP certificate
verification. The <i>no&minus;ocsp</i> form will disable the
option.</p>

<p style="margin-left:22%; margin-top: 1em">This option
will enable verification of the peer&rsquo;s certificate
using ocsp</p>

<p style="margin-left:11%;"><b>&minus;r</b>,
<b>&minus;&minus;resume</b></p>

<p style="margin-left:22%;">Establish a session and
resume.</p>

<p style="margin-left:22%; margin-top: 1em">Connect,
establish a session, reconnect and resume.</p>


<p style="margin-left:11%;"><b>&minus;&minus;earlydata</b>=<i>str</i></p>

<p style="margin-left:22%;">Send early data on resumption
from the specified file.</p>

<p style="margin-left:11%;"><b>&minus;e</b>,
<b>&minus;&minus;rehandshake</b></p>

<p style="margin-left:22%;">Establish a session and
rehandshake.</p>

<p style="margin-left:22%; margin-top: 1em">Connect,
establish a session and rehandshake immediately.</p>


<p style="margin-left:11%;"><b>&minus;&minus;sni&minus;hostname</b>=<i>str</i></p>

<p style="margin-left:22%;">Server&rsquo;s hostname for
server name indication extension.</p>

<p style="margin-left:22%; margin-top: 1em">Set explicitly
the server name used in the TLS server name indication
extension. That is useful when testing with servers setup on
different DNS name than the intended. If not specified, the
provided hostname is used. Even with this option server
certificate verification still uses the hostname passed on
the main commandline. Use
&minus;&minus;verify&minus;hostname to change this.</p>


<p style="margin-left:11%;"><b>&minus;&minus;verify&minus;hostname</b>=<i>str</i></p>

<p style="margin-left:22%;">Server&rsquo;s hostname to use
for validation.</p>

<p style="margin-left:22%; margin-top: 1em">Set explicitly
the server name to be used when validating the
server&rsquo;s certificate.</p>

<p style="margin-left:11%;"><b>&minus;s</b>,
<b>&minus;&minus;starttls</b></p>

<p style="margin-left:22%;">Connect, establish a plain
session and start TLS.</p>

<p style="margin-left:22%; margin-top: 1em">The TLS session
will be initiated when EOF or a SIGALRM is received.</p>


<p style="margin-left:11%;"><b>&minus;&minus;app&minus;proto</b></p>

<p style="margin-left:22%;">This is an alias for the
<i>--starttls-proto</i> option.</p>


<p style="margin-left:11%;"><b>&minus;&minus;starttls&minus;proto</b>=<i>str</i></p>

<p style="margin-left:22%;">The application protocol to be
used to obtain the server&rsquo;s certificate (https, ftp,
smtp, imap, ldap, xmpp, lmtp, pop3, nntp, sieve, postgres).
This option must not appear in combination with any of the
following options: starttls.</p>

<p style="margin-left:22%; margin-top: 1em">Specify the
application layer protocol for STARTTLS. If the protocol is
supported, gnutls&minus;cli will proceed to the TLS
negotiation.</p>

<p style="margin-left:11%;"><b>&minus;u</b>,
<b>&minus;&minus;udp</b></p>

<p style="margin-left:22%;">Use DTLS (datagram TLS) over
UDP.</p>


<p style="margin-left:11%;"><b>&minus;&minus;mtu</b>=<i>num</i></p>

<p style="margin-left:22%;">Set MTU for datagram TLS. This
option takes an integer number as its argument. The value of
<i>num</i> is constrained to being:</p>

<p style="margin-left:28%;">in the range 0 through
17000</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;&minus;crlf</b></p></td>
<td width="2%"></td>
<td width="38%">


<p>Send CR LF instead of LF.</p></td>
<td width="40%">
</td></tr>
</table>


<p style="margin-left:11%;"><b>&minus;&minus;fastopen</b></p>

<p style="margin-left:22%;">Enable TCP Fast Open.</p>


<p style="margin-left:11%;"><b>&minus;&minus;x509fmtder</b></p>

<p style="margin-left:22%;">Use DER format for certificates
to read from.</p>


<p style="margin-left:11%;"><b>&minus;&minus;print&minus;cert</b></p>

<p style="margin-left:22%;">Print peer&rsquo;s certificate
in PEM format.</p>


<p style="margin-left:11%;"><b>&minus;&minus;save&minus;cert</b>=<i>str</i></p>

<p style="margin-left:22%;">Save the peer&rsquo;s
certificate chain in the specified file in PEM format.</p>


<p style="margin-left:11%;"><b>&minus;&minus;save&minus;ocsp</b>=<i>str</i></p>

<p style="margin-left:22%;">Save the peer&rsquo;s OCSP
status response in the provided file. This option must not
appear in combination with any of the following options:
save-ocsp-multi.</p>


<p style="margin-left:11%;"><b>&minus;&minus;save&minus;ocsp&minus;multi</b>=<i>str</i></p>

<p style="margin-left:22%;">Save all OCSP responses
provided by the peer in this file. This option must not
appear in combination with any of the following options:
save-ocsp.</p>

<p style="margin-left:22%; margin-top: 1em">The file will
contain a list of PEM encoded OCSP status responses if any
were provided by the peer, starting with the one for the
peer&rsquo;s server certificate.</p>


<p style="margin-left:11%;"><b>&minus;&minus;save&minus;server&minus;trace</b>=<i>str</i></p>

<p style="margin-left:22%;">Save the server-side TLS
message trace in the provided file.</p>


<p style="margin-left:11%;"><b>&minus;&minus;save&minus;client&minus;trace</b>=<i>str</i></p>

<p style="margin-left:22%;">Save the client-side TLS
message trace in the provided file.</p>


<p style="margin-left:11%;"><b>&minus;&minus;dh&minus;bits</b>=<i>num</i></p>

<p style="margin-left:22%;">The minimum number of bits
allowed for DH. This option takes an integer number as its
argument.</p>

<p style="margin-left:22%; margin-top: 1em">This option
sets the minimum number of bits allowed for a
Diffie&minus;Hellman key exchange. You may want to lower the
default value if the peer sends a weak prime and you get an
connection error with unacceptable prime.</p>


<p style="margin-left:11%;"><b>&minus;&minus;priority</b>=<i>str</i></p>

<p style="margin-left:22%;">Priorities string.</p>

<p style="margin-left:22%; margin-top: 1em">TLS algorithms
and protocols to enable. You can use predefined sets of
ciphersuites such as PERFORMANCE, NORMAL, PFS, SECURE128,
SECURE256. The default is NORMAL.</p>

<p style="margin-left:22%; margin-top: 1em">Check the
GnuTLS manual on section &ldquo;Priority strings&rdquo; for
more information on the allowed keywords</p>


<p style="margin-left:11%;"><b>&minus;&minus;x509cafile</b>=<i>str</i></p>

<p style="margin-left:22%;">Certificate file or PKCS #11
URL to use.</p>


<p style="margin-left:11%;"><b>&minus;&minus;x509crlfile</b>=<i>file</i></p>

<p style="margin-left:22%;">CRL file to use.</p>


<p style="margin-left:11%;"><b>&minus;&minus;x509keyfile</b>=<i>str</i></p>

<p style="margin-left:22%;">X.509 key file or PKCS #11 URL
to use.</p>


<p style="margin-left:11%;"><b>&minus;&minus;x509certfile</b>=<i>str</i></p>

<p style="margin-left:22%;">X.509 Certificate file or PKCS
#11 URL to use. This option must appear in combination with
the following options: x509keyfile.</p>


<p style="margin-left:11%;"><b>&minus;&minus;rawpkkeyfile</b>=<i>str</i></p>

<p style="margin-left:22%;">Private key file (PKCS #8 or
PKCS #12) or PKCS #11 URL to use.</p>

<p style="margin-left:22%; margin-top: 1em">In order to
instruct the application to negotiate raw public keys one
must enable the respective certificate types via the
priority strings (i.e. CTYPE&minus;CLI&minus;* and
CTYPE&minus;SRV&minus;* flags).</p>

<p style="margin-left:22%; margin-top: 1em">Check the
GnuTLS manual on section &ldquo;Priority strings&rdquo; for
more information on how to set certificate types.</p>


<p style="margin-left:11%;"><b>&minus;&minus;rawpkfile</b>=<i>str</i></p>

<p style="margin-left:22%;">Raw public-key file to use.
This option must appear in combination with the following
options: rawpkkeyfile.</p>

<p style="margin-left:22%; margin-top: 1em">In order to
instruct the application to negotiate raw public keys one
must enable the respective certificate types via the
priority strings (i.e. CTYPE&minus;CLI&minus;* and
CTYPE&minus;SRV&minus;* flags).</p>

<p style="margin-left:22%; margin-top: 1em">Check the
GnuTLS manual on section &ldquo;Priority strings&rdquo; for
more information on how to set certificate types.</p>


<p style="margin-left:11%;"><b>&minus;&minus;srpusername</b>=<i>str</i></p>

<p style="margin-left:22%;">SRP username to use.</p>


<p style="margin-left:11%;"><b>&minus;&minus;srppasswd</b>=<i>str</i></p>

<p style="margin-left:22%;">SRP password to use.</p>


<p style="margin-left:11%;"><b>&minus;&minus;pskusername</b>=<i>str</i></p>

<p style="margin-left:22%;">PSK username to use.</p>


<p style="margin-left:11%;"><b>&minus;&minus;pskkey</b>=<i>str</i></p>

<p style="margin-left:22%;">PSK key (in hex) to use.</p>

<p style="margin-left:11%;"><b>&minus;p</b> <i>str</i>,
<b>&minus;&minus;port</b>=<i>str</i></p>

<p style="margin-left:22%;">The port or service to connect
to.</p>


<p style="margin-left:11%;"><b>&minus;&minus;insecure</b></p>

<p style="margin-left:22%;">Don&rsquo;t abort program if
server certificate can&rsquo;t be validated.</p>


<p style="margin-left:11%;"><b>&minus;&minus;verify&minus;allow&minus;broken</b></p>

<p style="margin-left:22%;">Allow broken algorithms, such
as MD5 for certificate verification.</p>


<p style="margin-left:11%;"><b>&minus;&minus;ranges</b></p>

<p style="margin-left:22%;">Use length-hiding padding to
prevent traffic analysis.</p>

<p style="margin-left:22%; margin-top: 1em">When possible
(e.g., when using CBC ciphersuites), use length&minus;hiding
padding to prevent traffic analysis.</p>

<p style="margin-left:22%; margin-top: 1em"><b>NOTE: THIS
OPTION IS DEPRECATED</b></p>


<p style="margin-left:11%;"><b>&minus;&minus;benchmark&minus;ciphers</b></p>

<p style="margin-left:22%;">Benchmark individual
ciphers.</p>

<p style="margin-left:22%; margin-top: 1em">By default the
benchmarked ciphers will utilize any capabilities of the
local CPU to improve performance. To test against the raw
software implementation set the environment variable
GNUTLS_CPUID_OVERRIDE to 0x1.</p>


<p style="margin-left:11%;"><b>&minus;&minus;benchmark&minus;tls&minus;kx</b></p>

<p style="margin-left:22%;">Benchmark TLS key exchange
methods.</p>


<p style="margin-left:11%;"><b>&minus;&minus;benchmark&minus;tls&minus;ciphers</b></p>

<p style="margin-left:22%;">Benchmark TLS ciphers.</p>

<p style="margin-left:22%; margin-top: 1em">By default the
benchmarked ciphers will utilize any capabilities of the
local CPU to improve performance. To test against the raw
software implementation set the environment variable
GNUTLS_CPUID_OVERRIDE to 0x1.</p>

<p style="margin-left:11%;"><b>&minus;l</b>,
<b>&minus;&minus;list</b></p>

<p style="margin-left:22%;">Print a list of the supported
algorithms and modes. This option must not appear in
combination with any of the following options: port.</p>

<p style="margin-left:22%; margin-top: 1em">Print a list of
the supported algorithms and modes. If a priority string is
given then only the enabled ciphersuites are shown.</p>


<p style="margin-left:11%;"><b>&minus;&minus;priority&minus;list</b></p>

<p style="margin-left:22%;">Print a list of the supported
priority strings.</p>

<p style="margin-left:22%; margin-top: 1em">Print a list of
the supported priority strings. The ciphersuites
corresponding to each priority string can be examined using
&minus;l &minus;p.</p>


<p style="margin-left:11%;"><b>&minus;&minus;noticket</b></p>

<p style="margin-left:22%;">Don&rsquo;t allow session
tickets.</p>

<p style="margin-left:22%; margin-top: 1em">Disable the
request of receiving of session tickets under TLS1.2 or
earlier</p>


<p style="margin-left:11%;"><b>&minus;&minus;srtp&minus;profiles</b>=<i>str</i></p>

<p style="margin-left:22%;">Offer SRTP profiles.</p>


<p style="margin-left:11%;"><b>&minus;&minus;alpn</b>=<i>str</i></p>

<p style="margin-left:22%;">Application layer protocol.
This option may appear an unlimited number of times.</p>

<p style="margin-left:22%; margin-top: 1em">This option
will set and enable the Application Layer Protocol
Negotiation (ALPN) in the TLS protocol.</p>


<p style="margin-left:11%;"><b>&minus;&minus;compress&minus;cert</b>=<i>str</i></p>

<p style="margin-left:22%;">Compress certificate. This
option may appear an unlimited number of times.</p>

<p style="margin-left:22%; margin-top: 1em">This option
sets a supported compression method for certificate
compression.</p>

<p style="margin-left:11%;"><b>&minus;b</b>,
<b>&minus;&minus;heartbeat</b></p>

<p style="margin-left:22%;">Activate heartbeat support.</p>


<p style="margin-left:11%;"><b>&minus;&minus;recordsize</b>=<i>num</i></p>

<p style="margin-left:22%;">The maximum record size to
advertise. This option takes an integer number as its
argument. The value of <i>num</i> is constrained to
being:</p>

<p style="margin-left:28%;">in the range 0 through 4096</p>


<p style="margin-left:11%;"><b>&minus;&minus;disable&minus;sni</b></p>

<p style="margin-left:22%;">Do not send a Server Name
Indication (SNI).</p>


<p style="margin-left:11%;"><b>&minus;&minus;disable&minus;extensions</b></p>

<p style="margin-left:22%;">Disable all the TLS
extensions.</p>

<p style="margin-left:22%; margin-top: 1em">This option
disables all TLS extensions. Deprecated option. Use the
priority string.</p>

<p style="margin-left:22%; margin-top: 1em"><b>NOTE: THIS
OPTION IS DEPRECATED</b></p>


<p style="margin-left:11%;"><b>&minus;&minus;single&minus;key&minus;share</b></p>

<p style="margin-left:22%;">Send a single key share under
TLS1.3.</p>

<p style="margin-left:22%; margin-top: 1em">This option
switches the default mode of sending multiple key shares, to
send a single one (the top one).</p>


<p style="margin-left:11%;"><b>&minus;&minus;post&minus;handshake&minus;auth</b></p>

<p style="margin-left:22%;">Enable post-handshake
authentication under TLS1.3.</p>

<p style="margin-left:22%; margin-top: 1em">This option
enables post&minus;handshake authentication when under
TLS1.3.</p>


<p style="margin-left:11%;"><b>&minus;&minus;inline&minus;commands</b></p>

<p style="margin-left:22%;">Inline commands of the form
^&lt;cmd&gt;^.</p>

<p style="margin-left:22%; margin-top: 1em">Enable inline
commands of the form ^&lt;cmd&gt;^. The inline commands are
expected to be in a line by themselves. The available
commands are: resume, rekey1 (local rekey), rekey (rekey on
both peers) and renegotiate.</p>


<p style="margin-left:11%;"><b>&minus;&minus;inline&minus;commands&minus;prefix</b>=<i>str</i></p>

<p style="margin-left:22%;">Change the default delimiter
for inline commands.</p>

<p style="margin-left:22%; margin-top: 1em">Change the
default delimiter (^) used for inline commands. The
delimiter is expected to be a single US&minus;ASCII
character (octets 0 &minus; 127). This option is only
relevant if inline commands are enabled via the
inline&minus;commands option</p>


<p style="margin-left:11%;"><b>&minus;&minus;provider</b>=<i>file</i></p>

<p style="margin-left:22%;">Specify the PKCS #11 provider
library.</p>

<p style="margin-left:22%; margin-top: 1em">This will
override the default options in /etc/gnutls/pkcs11.conf</p>


<p style="margin-left:11%;"><b>&minus;&minus;fips140&minus;mode</b></p>

<p style="margin-left:22%;">Reports the status of the
FIPS140-2 mode in gnutls library.</p>


<p style="margin-left:11%;"><b>&minus;&minus;list&minus;config</b></p>

<p style="margin-left:22%;">Reports the configuration of
the library.</p>


<p style="margin-left:11%;"><b>&minus;&minus;logfile</b>=<i>str</i></p>

<p style="margin-left:22%;">Redirect informational messages
to a specific file.</p>

<p style="margin-left:22%; margin-top: 1em">Redirect
informational messages to a specific file. The file may be
/dev/null also to make the gnutls client quiet to use it in
piped server connections where only the server communication
may appear on stdout.</p>


<p style="margin-left:11%;"><b>&minus;&minus;keymatexport</b>=<i>str</i></p>

<p style="margin-left:22%;">Label used for exporting keying
material.</p>


<p style="margin-left:11%;"><b>&minus;&minus;keymatexportsize</b>=<i>num</i></p>

<p style="margin-left:22%;">Size of the exported keying
material. This option takes an integer number as its
argument.</p>


<p style="margin-left:11%;"><b>&minus;&minus;waitresumption</b></p>

<p style="margin-left:22%;">Block waiting for the
resumption data under TLS1.3.</p>

<p style="margin-left:22%; margin-top: 1em">This option
makes the client to block waiting for the resumption data
under TLS1.3. The option has effect only when
&minus;&minus;resume is provided.</p>


<p style="margin-left:11%;"><b>&minus;&minus;ca&minus;auto&minus;retrieve</b>,
<b>&minus;&minus;no&minus;ca&minus;auto&minus;retrieve</b></p>

<p style="margin-left:22%;">Enable automatic retrieval of
missing CA certificates. The
<i>no&minus;ca&minus;auto&minus;retrieve</i> form will
disable the option.</p>

<p style="margin-left:22%; margin-top: 1em">This option
enables the client to automatically retrieve the missing
intermediate CA certificates in the certificate chain, based
on the Authority Information Access (AIA) extension.</p>

<p style="margin-left:11%;"><b>&minus;v</b> <i>arg</i>,
<b>&minus;&minus;version</b>=<i>arg</i></p>

<p style="margin-left:22%;">Output version of program and
exit. The default mode is &lsquo;v&rsquo;, a simple version.
The &lsquo;c&rsquo; mode will print copyright information
and &lsquo;n&rsquo; will print the full copyright
notice.</p>

<p style="margin-left:11%;"><b>&minus;h</b>,
<b>&minus;&minus;help</b></p>

<p style="margin-left:22%;">Display usage information and
exit.</p>

<p style="margin-left:11%;"><b>&minus;!</b>,
<b>&minus;&minus;more&minus;help</b></p>

<p style="margin-left:22%;">Pass the extended usage
information through a pager.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Connecting
using PSK authentication</b> <br>
To connect to a server using PSK authentication, you need to
enable the choice of PSK by using a cipher priority
parameter such as in the example below.</p>

<p style="margin-left:17%;">$ ./gnutls&minus;cli &minus;p
5556 localhost &minus;&minus;pskusername psk_identity
&minus;&minus;pskkey
88f3824b3e5659f52d00e959bacab954b6540344
&minus;&minus;priority
NORMAL:&minus;KX&minus;ALL:+ECDHE&minus;PSK:+DHE&minus;PSK:+PSK
<br>
Resolving &rsquo;localhost&rsquo;... <br>
Connecting to &rsquo;127.0.0.1:5556&rsquo;... <br>
&minus; PSK authentication. <br>
&minus; Version: TLS1.1 <br>
&minus; Key Exchange: PSK <br>
&minus; Cipher: AES&minus;128&minus;CBC <br>
&minus; MAC: SHA1 <br>
&minus; Compression: NULL <br>
&minus; Handshake was completed</p>

<p style="margin-left:17%; margin-top: 1em">&minus; Simple
Client Mode:</p>

<p style="margin-left:11%;">By keeping the
&minus;&minus;pskusername parameter and removing the
&minus;&minus;pskkey parameter, it will query only for the
password during the handshake.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Connecting
using raw public&minus;key authentication</b> <br>
To connect to a server using raw public&minus;key
authentication, you need to enable the option to negotiate
raw public&minus;keys via the priority strings such as in
the example below.</p>

<p style="margin-left:17%;">$ ./gnutls&minus;cli &minus;p
5556 localhost &minus;&minus;priority
NORMAL:&minus;CTYPE&minus;CLI&minus;ALL:+CTYPE&minus;CLI&minus;RAWPK
&minus;&minus;rawpkkeyfile cli.key.pem
&minus;&minus;rawpkfile cli.rawpk.pem <br>
Processed 1 client raw public key pair... <br>
Resolving &rsquo;localhost&rsquo;... <br>
Connecting to &rsquo;127.0.0.1:5556&rsquo;... <br>
&minus; Successfully sent 1 certificate(s) to server. <br>
&minus; Server has requested a certificate. <br>
&minus; Certificate type: X.509 <br>
&minus; Got a certificate list of 1 certificates. <br>
&minus; Certificate[0] info: <br>
&minus; skipped <br>
&minus; Description: (TLS1.3&minus;Raw Public
Key&minus;X.509)&minus;(ECDHE&minus;SECP256R1)&minus;(RSA&minus;PSS&minus;RSAE&minus;SHA256)&minus;(AES&minus;256&minus;GCM)
<br>
&minus; Options: <br>
&minus; Handshake was completed</p>

<p style="margin-left:17%; margin-top: 1em">&minus; Simple
Client Mode:</p>

<p style="margin-left:11%; margin-top: 1em"><b>Connecting
to STARTTLS services</b></p>

<p style="margin-left:11%; margin-top: 1em">You could also
use the client to connect to services with starttls
capability.</p>

<p style="margin-left:17%;">$ gnutls&minus;cli
&minus;&minus;starttls&minus;proto smtp &minus;&minus;port
25 localhost</p>

<p style="margin-left:11%; margin-top: 1em"><b>Listing
ciphersuites in a priority string</b> <br>
To list the ciphersuites in a priority string:</p>

<p style="margin-left:17%;">$ ./gnutls&minus;cli
&minus;&minus;priority SECURE192 &minus;l <br>
Cipher suites for SECURE192</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="-9%">


<p>TLS_ECDHE_ECDSA_AES_256_CBC_SHA384 0xc0, 0x24</p></td>
<td width="77%"></td>
<td width="7%"></td>
<td width="8%">


<p>TLS1.2</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="-9%">


<p>TLS_ECDHE_ECDSA_AES_256_GCM_SHA384 0xc0, 0x2e</p></td>
<td width="77%"></td>
<td width="7%"></td>
<td width="8%">


<p>TLS1.2</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="-9%">


<p>TLS_ECDHE_RSA_AES_256_GCM_SHA384 0xc0, 0x30</p></td>
<td width="77%"></td>
<td width="7%"></td>
<td width="8%">


<p>TLS1.2</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="-9%">


<p>TLS_DHE_RSA_AES_256_CBC_SHA256 0x00, 0x6b</p></td>
<td width="77%"></td>
<td width="7%"></td>
<td width="8%">


<p>TLS1.2</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="-9%">


<p>TLS_DHE_DSS_AES_256_CBC_SHA256 0x00, 0x6a</p></td>
<td width="77%"></td>
<td width="7%"></td>
<td width="8%">


<p>TLS1.2</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="-9%">


<p>TLS_RSA_AES_256_CBC_SHA256 0x00, 0x3d</p></td>
<td width="77%"></td>
<td width="7%"></td>
<td width="8%">


<p>TLS1.2</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Certificate
types: CTYPE&minus;X.509 <br>
Protocols: VERS&minus;TLS1.2, VERS&minus;TLS1.1,
VERS&minus;TLS1.0, VERS&minus;SSL3.0, VERS&minus;DTLS1.0
<br>
Compression: COMP&minus;NULL <br>
Elliptic curves: CURVE&minus;SECP384R1,
CURVE&minus;SECP521R1 <br>
PK&minus;signatures: SIGN&minus;RSA&minus;SHA384,
SIGN&minus;ECDSA&minus;SHA384, SIGN&minus;RSA&minus;SHA512,
SIGN&minus;ECDSA&minus;SHA512</p>

<p style="margin-left:11%; margin-top: 1em"><b>Connecting
using a PKCS #11 token</b> <br>
To connect to a server using a certificate and a private key
present in a PKCS #11 token you need to substitute the PKCS
11 URLs in the x509certfile and x509keyfile parameters.</p>

<p style="margin-left:11%; margin-top: 1em">Those can be
found using &quot;p11tool
&minus;&minus;list&minus;tokens&quot; and then listing all
the objects in the needed token, and using the
appropriate.</p>

<p style="margin-left:17%;">$ p11tool
&minus;&minus;list&minus;tokens</p>

<p style="margin-left:17%; margin-top: 1em">Token 0:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>URL:
pkcs11:model=PKCS15;manufacturer=MyMan;serial=1234;token=Test</p> </td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>Label: Test</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>Manufacturer: EnterSafe</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>Model: PKCS15</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>Serial: 1234</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">$ p11tool
&minus;&minus;login &minus;&minus;list&minus;certs
&quot;pkcs11:model=PKCS15;manufacturer=MyMan;serial=1234;token=Test&quot;</p>

<p style="margin-left:17%; margin-top: 1em">Object 0:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>URL:
pkcs11:model=PKCS15;manufacturer=MyMan;serial=1234;token=Test;object=client;type=cert</p> </td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>Type: X.509 Certificate</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>Label: client</p></td></tr>
<tr valign="top" align="left">
<td width="8%"></td>
<td width="92%">


<p>ID:
2a:97:0d:58:d1:51:3c:23:07:ae:4e:0d:72:26:03:7d:99:06:02:6a</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">$
MYCERT=&quot;pkcs11:model=PKCS15;manufacturer=MyMan;serial=1234;token=Test;object=client;type=cert&quot;
<br>
$
MYKEY=&quot;pkcs11:model=PKCS15;manufacturer=MyMan;serial=1234;token=Test;object=client;type=private&quot;
<br>
$ export MYCERT MYKEY</p>

<p style="margin-left:17%; margin-top: 1em">$
gnutls&minus;cli www.example.com &minus;&minus;x509keyfile
$MYKEY &minus;&minus;x509certfile $MYCERT</p>

<p style="margin-left:11%;">Notice that the private key
only differs from the certificate in the type.</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">One of the
following exit values will be returned: <br>
0 (EXIT_SUCCESS)</p>

<p style="margin-left:22%;">Successful program
execution.</p>

<p style="margin-left:11%;">1 (EXIT_FAILURE)</p>

<p style="margin-left:22%;">The operation failed or the
command syntax was not valid.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">gnutls&minus;cli&minus;debug(1),
gnutls&minus;serv(1)</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright (C)
2020-2021 Free Software Foundation, and others all rights
reserved. This program is released under the terms of the
GNU General Public License, version 3 or later</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Please send bug
reports to: bugs@gnutls.org</p>
<hr>
</body>
</html>
