<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:53:45 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>gnutls-serv</title>

</head>
<body>
<h1>gnutls-serv</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>gnutls-serv</b>
&minus; GnuTLS server</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>gnutls-serv</b>
[<b>&minus;flags</b>] [<b>&minus;flag</b> [<i>value</i>]]
[<b>&minus;&minus;option-name</b>[[=| ]<i>value</i>]]</p>

<p style="margin-left:11%; margin-top: 1em">All arguments
must be options.</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Server program
that listens to incoming TLS connections.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;d</b>
<i>num</i>, <b>&minus;&minus;debug</b>=<i>num</i></p>

<p style="margin-left:22%;">Enable debugging. This option
takes an integer number as its argument. The value of
<i>num</i> is constrained to being:</p>

<p style="margin-left:28%;">in the range 0 through 9999</p>

<p style="margin-left:22%; margin-top: 1em">Specifies the
debug level.</p>


<p style="margin-left:11%;"><b>&minus;&minus;sni&minus;hostname</b>=<i>str</i></p>

<p style="margin-left:22%;">Server&rsquo;s hostname for
server name extension.</p>

<p style="margin-left:22%; margin-top: 1em">Server name of
type host_name that the server will recognise as its own. If
the server receives client hello with different name, it
will send a warning&minus;level unrecognized_name alert.</p>


<p style="margin-left:11%;"><b>&minus;&minus;sni&minus;hostname&minus;fatal</b></p>

<p style="margin-left:22%;">Send fatal alert on
sni-hostname mismatch.</p>


<p style="margin-left:11%;"><b>&minus;&minus;alpn</b>=<i>str</i></p>

<p style="margin-left:22%;">Specify ALPN protocol to be
enabled by the server. This option may appear an unlimited
number of times.</p>

<p style="margin-left:22%; margin-top: 1em">Specify the
(textual) ALPN protocol for the server to use.</p>


<p style="margin-left:11%;"><b>&minus;&minus;alpn&minus;fatal</b></p>

<p style="margin-left:22%;">Send fatal alert on
non-matching ALPN name.</p>


<p style="margin-left:11%;"><b>&minus;&minus;noticket</b></p>

<p style="margin-left:22%;">Don&rsquo;t accept session
tickets.</p>


<p style="margin-left:11%;"><b>&minus;&minus;earlydata</b></p>

<p style="margin-left:22%;">Accept early data.</p>


<p style="margin-left:11%;"><b>&minus;&minus;maxearlydata</b>=<i>num</i></p>

<p style="margin-left:22%;">The maximum early data size to
accept. This option takes an integer number as its argument.
The value of <i>num</i> is constrained to being:</p>

<p style="margin-left:28%;">in the range 1 through
2147483648</p>


<p style="margin-left:11%;"><b>&minus;&minus;nocookie</b></p>

<p style="margin-left:22%;">Don&rsquo;t require cookie on
DTLS sessions.</p>

<p style="margin-left:11%;"><b>&minus;g</b>,
<b>&minus;&minus;generate</b></p>

<p style="margin-left:22%;">Generate Diffie-Hellman
parameters.</p>

<p style="margin-left:11%;"><b>&minus;q</b>,
<b>&minus;&minus;quiet</b></p>

<p style="margin-left:22%;">Suppress some messages.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;&minus;nodb</b></p></td>
<td width="2%"></td>
<td width="70%">


<p>Do not use a resumption database.</p></td>
<td width="8%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;&minus;http</b></p></td>
<td width="2%"></td>
<td width="70%">


<p>Act as an HTTP server.</p></td>
<td width="8%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;&minus;echo</b></p></td>
<td width="2%"></td>
<td width="70%">


<p>Act as an Echo server.</p></td>
<td width="8%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;&minus;crlf</b></p></td>
<td width="2%"></td>
<td width="70%">


<p>Do not replace CRLF by LF in Echo server mode.</p></td>
<td width="8%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;u</b>,
<b>&minus;&minus;udp</b></p>

<p style="margin-left:22%;">Use DTLS (datagram TLS) over
UDP.</p>


<p style="margin-left:11%;"><b>&minus;&minus;mtu</b>=<i>num</i></p>

<p style="margin-left:22%;">Set MTU for datagram TLS. This
option takes an integer number as its argument. The value of
<i>num</i> is constrained to being:</p>

<p style="margin-left:28%;">in the range 0 through
17000</p>


<p style="margin-left:11%;"><b>&minus;&minus;srtp&minus;profiles</b>=<i>str</i></p>

<p style="margin-left:22%;">Offer SRTP profiles.</p>

<p style="margin-left:11%;"><b>&minus;a</b>,
<b>&minus;&minus;disable&minus;client&minus;cert</b></p>

<p style="margin-left:22%;">Do not request a client
certificate. This option must not appear in combination with
any of the following options: require-client-cert.</p>

<p style="margin-left:11%;"><b>&minus;r</b>,
<b>&minus;&minus;require&minus;client&minus;cert</b></p>

<p style="margin-left:22%;">Require a client
certificate.</p>

<p style="margin-left:22%; margin-top: 1em">This option
before 3.6.0 used to imply
&minus;&minus;verify&minus;client&minus;cert. Since 3.6.0 it
will no longer verify the certificate by default.</p>


<p style="margin-left:11%;"><b>&minus;&minus;verify&minus;client&minus;cert</b></p>

<p style="margin-left:22%;">If a client certificate is sent
then verify it.</p>

<p style="margin-left:22%; margin-top: 1em">Do not require,
but if a client certificate is sent then verify it and close
the connection if invalid.</p>


<p style="margin-left:11%;"><b>&minus;&minus;compress&minus;cert</b>=<i>str</i></p>

<p style="margin-left:22%;">Compress certificate. This
option may appear an unlimited number of times.</p>

<p style="margin-left:22%; margin-top: 1em">This option
sets a supported compression method for certificate
compression.</p>

<p style="margin-left:11%;"><b>&minus;b</b>,
<b>&minus;&minus;heartbeat</b></p>

<p style="margin-left:22%;">Activate heartbeat support.</p>

<p style="margin-left:22%; margin-top: 1em">Regularly ping
client via heartbeat extension messages</p>


<p style="margin-left:11%;"><b>&minus;&minus;x509fmtder</b></p>

<p style="margin-left:22%;">Use DER format for certificates
to read from.</p>


<p style="margin-left:11%;"><b>&minus;&minus;priority</b>=<i>str</i></p>

<p style="margin-left:22%;">Priorities string.</p>

<p style="margin-left:22%; margin-top: 1em">TLS algorithms
and protocols to enable. You can use predefined sets of
ciphersuites such as PERFORMANCE, NORMAL, SECURE128,
SECURE256. The default is NORMAL.</p>

<p style="margin-left:22%; margin-top: 1em">Check the
GnuTLS manual on section &ldquo;Priority strings&rdquo; for
more information on allowed keywords</p>


<p style="margin-left:11%;"><b>&minus;&minus;dhparams</b>=<i>file</i></p>

<p style="margin-left:22%;">DH params file to use.</p>


<p style="margin-left:11%;"><b>&minus;&minus;x509cafile</b>=<i>str</i></p>

<p style="margin-left:22%;">Certificate file or PKCS #11
URL to use.</p>


<p style="margin-left:11%;"><b>&minus;&minus;x509crlfile</b>=<i>file</i></p>

<p style="margin-left:22%;">CRL file to use.</p>


<p style="margin-left:11%;"><b>&minus;&minus;pgpkeyfile</b>=<i>file</i></p>

<p style="margin-left:22%;">PGP Key file to use.</p>

<p style="margin-left:22%; margin-top: 1em"><b>NOTE: THIS
OPTION IS DEPRECATED</b></p>


<p style="margin-left:11%;"><b>&minus;&minus;x509keyfile</b>=<i>str</i></p>

<p style="margin-left:22%;">X.509 key file or PKCS #11 URL
to use. This option may appear an unlimited number of
times.</p>

<p style="margin-left:22%; margin-top: 1em">Specify the
private key file or URI to use; it must correspond to the
certificate specified in &minus;&minus;x509certfile.
Multiple keys and certificates can be specified with this
option and in that case each occurrence of keyfile must be
followed by the corresponding x509certfile or
vice&minus;versa.</p>


<p style="margin-left:11%;"><b>&minus;&minus;x509certfile</b>=<i>str</i></p>

<p style="margin-left:22%;">X.509 Certificate file or PKCS
#11 URL to use. This option may appear an unlimited number
of times.</p>

<p style="margin-left:22%; margin-top: 1em">Specify the
certificate file or URI to use; it must correspond to the
key specified in &minus;&minus;x509keyfile. Multiple keys
and certificates can be specified with this option and in
that case each occurrence of keyfile must be followed by the
corresponding x509certfile or vice&minus;versa.</p>


<p style="margin-left:11%;"><b>&minus;&minus;x509dsakeyfile</b></p>

<p style="margin-left:22%;">This is an alias for the
<i>--x509keyfile</i> option.</p>

<p style="margin-left:22%; margin-top: 1em"><b>NOTE: THIS
OPTION IS DEPRECATED</b></p>


<p style="margin-left:11%;"><b>&minus;&minus;x509dsacertfile</b></p>

<p style="margin-left:22%;">This is an alias for the
<i>--x509certfile</i> option.</p>

<p style="margin-left:22%; margin-top: 1em"><b>NOTE: THIS
OPTION IS DEPRECATED</b></p>


<p style="margin-left:11%;"><b>&minus;&minus;x509ecckeyfile</b></p>

<p style="margin-left:22%;">This is an alias for the
<i>--x509keyfile</i> option.</p>

<p style="margin-left:22%; margin-top: 1em"><b>NOTE: THIS
OPTION IS DEPRECATED</b></p>


<p style="margin-left:11%;"><b>&minus;&minus;x509ecccertfile</b></p>

<p style="margin-left:22%;">This is an alias for the
<i>--x509certfile</i> option.</p>

<p style="margin-left:22%; margin-top: 1em"><b>NOTE: THIS
OPTION IS DEPRECATED</b></p>


<p style="margin-left:11%;"><b>&minus;&minus;rawpkkeyfile</b>=<i>str</i></p>

<p style="margin-left:22%;">Private key file (PKCS #8 or
PKCS #12) or PKCS #11 URL to use. This option may appear an
unlimited number of times.</p>

<p style="margin-left:22%; margin-top: 1em">Specify the
private key file or URI to use; it must correspond to the
raw public&minus;key specified in &minus;&minus;rawpkfile.
Multiple key pairs can be specified with this option and in
that case each occurrence of keyfile must be followed by the
corresponding rawpkfile or vice&minus;versa.</p>

<p style="margin-left:22%; margin-top: 1em">In order to
instruct the application to negotiate raw public keys one
must enable the respective certificate types via the
priority strings (i.e. CTYPE&minus;CLI&minus;* and
CTYPE&minus;SRV&minus;* flags).</p>

<p style="margin-left:22%; margin-top: 1em">Check the
GnuTLS manual on section &ldquo;Priority strings&rdquo; for
more information on how to set certificate types.</p>


<p style="margin-left:11%;"><b>&minus;&minus;rawpkfile</b>=<i>str</i></p>

<p style="margin-left:22%;">Raw public-key file to use.
This option may appear an unlimited number of times. This
option must appear in combination with the following
options: rawpkkeyfile.</p>

<p style="margin-left:22%; margin-top: 1em">Specify the raw
public&minus;key file to use; it must correspond to the
private key specified in &minus;&minus;rawpkkeyfile.
Multiple key pairs can be specified with this option and in
that case each occurrence of keyfile must be followed by the
corresponding rawpkfile or vice&minus;versa.</p>

<p style="margin-left:22%; margin-top: 1em">In order to
instruct the application to negotiate raw public keys one
must enable the respective certificate types via the
priority strings (i.e. CTYPE&minus;CLI&minus;* and
CTYPE&minus;SRV&minus;* flags).</p>

<p style="margin-left:22%; margin-top: 1em">Check the
GnuTLS manual on section &ldquo;Priority strings&rdquo; for
more information on how to set certificate types.</p>


<p style="margin-left:11%;"><b>&minus;&minus;srppasswd</b>=<i>file</i></p>

<p style="margin-left:22%;">SRP password file to use.</p>


<p style="margin-left:11%;"><b>&minus;&minus;srppasswdconf</b>=<i>file</i></p>

<p style="margin-left:22%;">SRP password configuration file
to use.</p>


<p style="margin-left:11%;"><b>&minus;&minus;pskpasswd</b>=<i>file</i></p>

<p style="margin-left:22%;">PSK password file to use.</p>


<p style="margin-left:11%;"><b>&minus;&minus;pskhint</b>=<i>str</i></p>

<p style="margin-left:22%;">PSK identity hint to use.</p>


<p style="margin-left:11%;"><b>&minus;&minus;ocsp&minus;response</b>=<i>str</i></p>

<p style="margin-left:22%;">The OCSP response to send to
client. This option may appear an unlimited number of
times.</p>

<p style="margin-left:22%; margin-top: 1em">If the client
requested an OCSP response, return data from this file to
the client.</p>


<p style="margin-left:11%;"><b>&minus;&minus;ignore&minus;ocsp&minus;response&minus;errors</b></p>

<p style="margin-left:22%;">Ignore any errors when setting
the OCSP response.</p>

<p style="margin-left:22%; margin-top: 1em">That option
instructs gnutls to not attempt to match the provided OCSP
responses with the certificates.</p>

<p style="margin-left:11%;"><b>&minus;p</b> <i>num</i>,
<b>&minus;&minus;port</b>=<i>num</i></p>

<p style="margin-left:22%;">The port to connect to. This
option takes an integer number as its argument.</p>

<p style="margin-left:11%;"><b>&minus;l</b>,
<b>&minus;&minus;list</b></p>

<p style="margin-left:22%;">Print a list of the supported
algorithms and modes.</p>

<p style="margin-left:22%; margin-top: 1em">Print a list of
the supported algorithms and modes. If a priority string is
given then only the enabled ciphersuites are shown.</p>


<p style="margin-left:11%;"><b>&minus;&minus;provider</b>=<i>file</i></p>

<p style="margin-left:22%;">Specify the PKCS #11 provider
library.</p>

<p style="margin-left:22%; margin-top: 1em">This will
override the default options in /etc/gnutls/pkcs11.conf</p>


<p style="margin-left:11%;"><b>&minus;&minus;keymatexport</b>=<i>str</i></p>

<p style="margin-left:22%;">Label used for exporting keying
material.</p>


<p style="margin-left:11%;"><b>&minus;&minus;keymatexportsize</b>=<i>num</i></p>

<p style="margin-left:22%;">Size of the exported keying
material. This option takes an integer number as its
argument.</p>


<p style="margin-left:11%;"><b>&minus;&minus;recordsize</b>=<i>num</i></p>

<p style="margin-left:22%;">The maximum record size to
advertise. This option takes an integer number as its
argument. The value of <i>num</i> is constrained to
being:</p>

<p style="margin-left:28%;">in the range 0 through
16384</p>


<p style="margin-left:11%;"><b>&minus;&minus;httpdata</b>=<i>file</i></p>

<p style="margin-left:22%;">The data used as HTTP
response.</p>

<p style="margin-left:11%;"><b>&minus;v</b> <i>arg</i>,
<b>&minus;&minus;version</b>=<i>arg</i></p>

<p style="margin-left:22%;">Output version of program and
exit. The default mode is &lsquo;v&rsquo;, a simple version.
The &lsquo;c&rsquo; mode will print copyright information
and &lsquo;n&rsquo; will print the full copyright
notice.</p>

<p style="margin-left:11%;"><b>&minus;h</b>,
<b>&minus;&minus;help</b></p>

<p style="margin-left:22%;">Display usage information and
exit.</p>

<p style="margin-left:11%;"><b>&minus;!</b>,
<b>&minus;&minus;more&minus;help</b></p>

<p style="margin-left:22%;">Pass the extended usage
information through a pager.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Running your
own TLS server based on GnuTLS can be useful when debugging
clients and/or GnuTLS itself. This section describes how to
use <b>gnutls&minus;serv</b> as a simple HTTPS server.</p>

<p style="margin-left:11%; margin-top: 1em">The most basic
server can be started as:</p>


<p style="margin-left:17%; margin-top: 1em">gnutls&minus;serv
&minus;&minus;http &minus;&minus;priority
&quot;NORMAL:+ANON&minus;ECDH:+ANON&minus;DH&quot;</p>

<p style="margin-left:11%; margin-top: 1em">It will only
support anonymous ciphersuites, which many TLS clients
refuse to use.</p>

<p style="margin-left:11%; margin-top: 1em">The next step
is to add support for X.509. First we generate a CA:</p>

<p style="margin-left:17%; margin-top: 1em">$ certtool
&minus;&minus;generate&minus;privkey &gt;
x509&minus;ca&minus;key.pem <br>
$ echo &rsquo;cn = GnuTLS test CA&rsquo; &gt; ca.tmpl <br>
$ echo &rsquo;ca&rsquo; &gt;&gt; ca.tmpl <br>
$ echo &rsquo;cert_signing_key&rsquo; &gt;&gt; ca.tmpl <br>
$ certtool &minus;&minus;generate&minus;self&minus;signed
&minus;&minus;load&minus;privkey x509&minus;ca&minus;key.pem
&minus;&minus;template ca.tmpl &minus;&minus;outfile
x509&minus;ca.pem</p>

<p style="margin-left:11%; margin-top: 1em">Then generate a
server certificate. Remember to change the dns_name value to
the name of your server host, or skip that command to avoid
the field.</p>

<p style="margin-left:17%; margin-top: 1em">$ certtool
&minus;&minus;generate&minus;privkey &gt;
x509&minus;server&minus;key.pem <br>
$ echo &rsquo;organization = GnuTLS test server&rsquo; &gt;
server.tmpl <br>
$ echo &rsquo;cn = test.gnutls.org&rsquo; &gt;&gt;
server.tmpl <br>
$ echo &rsquo;tls_www_server&rsquo; &gt;&gt; server.tmpl
<br>
$ echo &rsquo;encryption_key&rsquo; &gt;&gt; server.tmpl
<br>
$ echo &rsquo;signing_key&rsquo; &gt;&gt; server.tmpl <br>
$ echo &rsquo;dns_name = test.gnutls.org&rsquo; &gt;&gt;
server.tmpl <br>
$ certtool &minus;&minus;generate&minus;certificate
&minus;&minus;load&minus;privkey
x509&minus;server&minus;key.pem
&minus;&minus;load&minus;ca&minus;certificate
x509&minus;ca.pem &minus;&minus;load&minus;ca&minus;privkey
x509&minus;ca&minus;key.pem &minus;&minus;template
server.tmpl &minus;&minus;outfile x509&minus;server.pem</p>

<p style="margin-left:11%; margin-top: 1em">For use in the
client, you may want to generate a client certificate as
well.</p>

<p style="margin-left:17%; margin-top: 1em">$ certtool
&minus;&minus;generate&minus;privkey &gt;
x509&minus;client&minus;key.pem <br>
$ echo &rsquo;cn = GnuTLS test client&rsquo; &gt;
client.tmpl <br>
$ echo &rsquo;tls_www_client&rsquo; &gt;&gt; client.tmpl
<br>
$ echo &rsquo;encryption_key&rsquo; &gt;&gt; client.tmpl
<br>
$ echo &rsquo;signing_key&rsquo; &gt;&gt; client.tmpl <br>
$ certtool &minus;&minus;generate&minus;certificate
&minus;&minus;load&minus;privkey
x509&minus;client&minus;key.pem
&minus;&minus;load&minus;ca&minus;certificate
x509&minus;ca.pem &minus;&minus;load&minus;ca&minus;privkey
x509&minus;ca&minus;key.pem &minus;&minus;template
client.tmpl &minus;&minus;outfile x509&minus;client.pem</p>

<p style="margin-left:11%; margin-top: 1em">To be able to
import the client key/certificate into some applications,
you will need to convert them into a PKCS#12 structure. This
also encrypts the security sensitive key with a
password.</p>

<p style="margin-left:17%; margin-top: 1em">$ certtool
&minus;&minus;to&minus;p12
&minus;&minus;load&minus;ca&minus;certificate
x509&minus;ca.pem &minus;&minus;load&minus;privkey
x509&minus;client&minus;key.pem
&minus;&minus;load&minus;certificate x509&minus;client.pem
&minus;&minus;outder &minus;&minus;outfile
x509&minus;client.p12</p>

<p style="margin-left:11%; margin-top: 1em">For icing,
we&rsquo;ll create a proxy certificate for the client
too.</p>

<p style="margin-left:17%; margin-top: 1em">$ certtool
&minus;&minus;generate&minus;privkey &gt;
x509&minus;proxy&minus;key.pem <br>
$ echo &rsquo;cn = GnuTLS test client proxy&rsquo; &gt;
proxy.tmpl <br>
$ certtool &minus;&minus;generate&minus;proxy
&minus;&minus;load&minus;privkey
x509&minus;proxy&minus;key.pem
&minus;&minus;load&minus;ca&minus;certificate
x509&minus;client.pem
&minus;&minus;load&minus;ca&minus;privkey
x509&minus;client&minus;key.pem
&minus;&minus;load&minus;certificate x509&minus;client.pem
&minus;&minus;template proxy.tmpl &minus;&minus;outfile
x509&minus;proxy.pem</p>

<p style="margin-left:11%; margin-top: 1em">Then start the
server again:</p>

<p style="margin-left:17%; margin-top: 1em">$
gnutls&minus;serv &minus;&minus;http
&minus;&minus;x509cafile x509&minus;ca.pem
&minus;&minus;x509keyfile x509&minus;server&minus;key.pem
&minus;&minus;x509certfile x509&minus;server.pem</p>

<p style="margin-left:11%; margin-top: 1em">Try connecting
to the server using your web browser. Note that the server
listens to port 5556 by default.</p>

<p style="margin-left:11%; margin-top: 1em">While you are
at it, to allow connections using ECDSA, you can also create
a ECDSA key and certificate for the server. These
credentials will be used in the final example below.</p>

<p style="margin-left:17%; margin-top: 1em">$ certtool
&minus;&minus;generate&minus;privkey &minus;&minus;ecdsa
&gt; x509&minus;server&minus;key&minus;ecc.pem <br>
$ certtool &minus;&minus;generate&minus;certificate
&minus;&minus;load&minus;privkey
x509&minus;server&minus;key&minus;ecc.pem
&minus;&minus;load&minus;ca&minus;certificate
x509&minus;ca.pem &minus;&minus;load&minus;ca&minus;privkey
x509&minus;ca&minus;key.pem &minus;&minus;template
server.tmpl &minus;&minus;outfile
x509&minus;server&minus;ecc.pem</p>

<p style="margin-left:11%; margin-top: 1em">The next step
is to add support for SRP authentication. This requires an
SRP password file created with <b>srptool</b>. To start the
server with SRP support:</p>


<p style="margin-left:17%; margin-top: 1em">gnutls&minus;serv
&minus;&minus;http &minus;&minus;priority
NORMAL:+SRP&minus;RSA:+SRP &minus;&minus;srppasswdconf
srp&minus;tpasswd.conf &minus;&minus;srppasswd
srp&minus;passwd.txt</p>

<p style="margin-left:11%; margin-top: 1em">Let&rsquo;s
also start a server with support for PSK. This would require
a password file created with <b>psktool</b>.</p>


<p style="margin-left:17%; margin-top: 1em">gnutls&minus;serv
&minus;&minus;http &minus;&minus;priority
NORMAL:+ECDHE&minus;PSK:+PSK &minus;&minus;pskpasswd
psk&minus;passwd.txt</p>

<p style="margin-left:11%; margin-top: 1em">If you want a
server with support for raw public&minus;keys we can also
add these credentials. Note however that there is no
identity information linked to these keys as is the case
with regular x509 certificates. Authentication must be done
via different means. Also we need to explicitly enable raw
public&minus;key certificates via the priority strings.</p>


<p style="margin-left:17%; margin-top: 1em">gnutls&minus;serv
&minus;&minus;http &minus;&minus;priority
NORMAL:+CTYPE&minus;CLI&minus;RAWPK:+CTYPE&minus;SRV&minus;RAWPK
&minus;&minus;rawpkfile srv.rawpk.pem
&minus;&minus;rawpkkeyfile srv.key.pem</p>

<p style="margin-left:11%; margin-top: 1em">Finally, we
start the server with all the earlier parameters and you get
this command:</p>


<p style="margin-left:17%; margin-top: 1em">gnutls&minus;serv
&minus;&minus;http &minus;&minus;priority
NORMAL:+PSK:+SRP:+CTYPE&minus;CLI&minus;RAWPK:+CTYPE&minus;SRV&minus;RAWPK
&minus;&minus;x509cafile x509&minus;ca.pem
&minus;&minus;x509keyfile x509&minus;server&minus;key.pem
&minus;&minus;x509certfile x509&minus;server.pem
&minus;&minus;x509keyfile
x509&minus;server&minus;key&minus;ecc.pem
&minus;&minus;x509certfile x509&minus;server&minus;ecc.pem
&minus;&minus;srppasswdconf srp&minus;tpasswd.conf
&minus;&minus;srppasswd srp&minus;passwd.txt
&minus;&minus;pskpasswd psk&minus;passwd.txt
&minus;&minus;rawpkfile srv.rawpk.pem
&minus;&minus;rawpkkeyfile srv.key.pem</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">One of the
following exit values will be returned: <br>
0 (EXIT_SUCCESS)</p>

<p style="margin-left:22%;">Successful program
execution.</p>

<p style="margin-left:11%;">1 (EXIT_FAILURE)</p>

<p style="margin-left:22%;">The operation failed or the
command syntax was not valid.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">gnutls&minus;cli&minus;debug(1),
gnutls&minus;cli(1)</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright (C)
2020-2021 Free Software Foundation, and others all rights
reserved. This program is released under the terms of the
GNU General Public License, version 3 or later</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Please send bug
reports to: bugs@gnutls.org</p>
<hr>
</body>
</html>
