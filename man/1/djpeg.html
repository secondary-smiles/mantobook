<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:53:44 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>DJPEG</title>

</head>
<body>
<h1>djpeg</h1>



<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">djpeg &minus;
decompress a JPEG file to an image file</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>djpeg</b> [
<i>options</i> ] [ <i>filename</i> ]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>djpeg</b>
decompresses the named JPEG file, or the standard input if
no file is named, and produces an image file on the standard
output. PBMPLUS (PPM/PGM), BMP, GIF, or Targa output format
can be selected.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">All switch
names may be abbreviated; for example,
<b>&minus;grayscale</b> may be written <b>&minus;gray</b> or
<b>&minus;gr</b>. Most of the &quot;basic&quot; switches can
be abbreviated to as little as one letter. Upper and lower
case are equivalent (thus <b>&minus;BMP</b> is the same as
<b>&minus;bmp</b>). British spellings are also accepted
(e.g., <b>&minus;greyscale</b>), though for brevity these
are not mentioned below.</p>

<p style="margin-left:11%; margin-top: 1em">The basic
switches are: <b><br>
&minus;colors</b> <i>N</i></p>

<p style="margin-left:22%;">Reduce image to at most N
colors. This reduces the number of colors used in the output
image, so that it can be displayed on a colormapped display
or stored in a colormapped file format. For example, if you
have an 8-bit display, you&rsquo;d need to reduce to 256 or
fewer colors.</p>

<p style="margin-left:11%;"><b>&minus;quantize</b>
<i>N</i></p>

<p style="margin-left:22%;">Same as <b>&minus;colors</b>.
<b>&minus;colors</b> is the recommended name,
<b>&minus;quantize</b> is provided only for backwards
compatibility.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>&minus;fast</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>Select recommended processing options for fast, low
quality output. (The default options are chosen for highest
quality output.) Currently, this is equivalent to
<b>&minus;dct fast &minus;nosmooth &minus;onepass
&minus;dither ordered</b>.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;grayscale</b></p>

<p style="margin-left:22%;">Force grayscale output even if
JPEG file is color. Useful for viewing on monochrome
displays; also, <b>djpeg</b> runs noticeably faster in this
mode.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>&minus;rgb</b></p></td>
<td width="5%"></td>
<td width="73%">


<p>Force RGB output even if JPEG file is grayscale.</p></td>
<td width="5%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;scale</b>
<i>M/N</i></p>

<p style="margin-left:22%;">Scale the output image by a
factor M/N. Currently the scale factor must be M/8, where M
is an integer between 1 and 16 inclusive, or any reduced
fraction thereof (such as 1/2, 3/4, etc.) Scaling is handy
if the image is larger than your screen; also, <b>djpeg</b>
runs much faster when scaling down the output.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;bmp</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Select BMP output format (Windows flavor). 8-bit
colormapped format is emitted if <b>&minus;colors</b> or
<b>&minus;grayscale</b> is specified, or if the JPEG file is
grayscale; otherwise, 24-bit full-color format is
emitted.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;gif</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Select GIF output format (LZW-compressed). Since GIF
does not support more than 256 colors, <b>&minus;colors
256</b> is assumed (unless you specify a smaller number of
colors). If you specify <b>&minus;fast,</b> the default
number of colors is 216.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;gif0</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Select GIF output format (uncompressed). Since GIF does
not support more than 256 colors, <b>&minus;colors 256</b>
is assumed (unless you specify a smaller number of colors).
If you specify <b>&minus;fast,</b> the default number of
colors is 216.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;os2</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Select BMP output format (OS/2 1.x flavor). 8-bit
colormapped format is emitted if <b>&minus;colors</b> or
<b>&minus;grayscale</b> is specified, or if the JPEG file is
grayscale; otherwise, 24-bit full-color format is
emitted.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;pnm</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Select PBMPLUS (PPM/PGM) output format (this is the
default format). PGM is emitted if the JPEG file is
grayscale or if <b>&minus;grayscale</b> is specified;
otherwise PPM is emitted.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;targa</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Select Targa output format. Grayscale format is emitted
if the JPEG file is grayscale or if <b>&minus;grayscale</b>
is specified; otherwise, colormapped format is emitted if
<b>&minus;colors</b> is specified; otherwise, 24-bit
full-color format is emitted.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Switches for
advanced users: <b><br>
&minus;dct int</b></p>

<p style="margin-left:22%;">Use accurate integer DCT method
(default).</p>

<p style="margin-left:11%;"><b>&minus;dct fast</b></p>

<p style="margin-left:22%;">Use less accurate integer DCT
method [legacy feature]. When the Independent JPEG
Group&rsquo;s software was first released in 1991, the
decompression time for a 1-megapixel JPEG image on a
mainstream PC was measured in minutes. Thus, the <b>fast</b>
integer DCT algorithm provided noticeable performance
benefits. On modern CPUs running libjpeg-turbo, however, the
decompression time for a 1-megapixel JPEG image is measured
in milliseconds, and thus the performance benefits of the
<b>fast</b> algorithm are much less noticeable. On modern
x86/x86-64 CPUs that support AVX2 instructions, the
<b>fast</b> and <b>int</b> methods have similar performance.
On other types of CPUs, the <b>fast</b> method is generally
about 5-15% faster than the <b>int</b> method.</p>

<p style="margin-left:22%; margin-top: 1em">If the JPEG
image was compressed using a quality level of 85 or below,
then there should be little or no perceptible quality
difference between the two algorithms. When decompressing
images that were compressed using quality levels above 85,
however, the difference between the <b>fast</b> and
<b>int</b> methods becomes more pronounced. With images
compressed using quality=97, for instance, the <b>fast</b>
method incurs generally about a 4-6 dB loss in PSNR relative
to the <b>int</b> method, but this can be larger for some
images. If you can avoid it, do not use the <b>fast</b>
method when decompressing images that were compressed using
quality levels above 97. The algorithm often degenerates for
such images and can actually produce a more lossy output
image than if the JPEG image had been compressed using lower
quality levels.</p>

<p style="margin-left:11%;"><b>&minus;dct float</b></p>

<p style="margin-left:22%;">Use floating-point DCT method
[legacy feature]. The <b>float</b> method does not produce
significantly more accurate results than the <b>int</b>
method, and it is much slower. The <b>float</b> method may
also give different results on different machines due to
varying roundoff behavior, whereas the integer methods
should give the same results on all machines.</p>

<p style="margin-left:11%;"><b>&minus;dither fs</b></p>

<p style="margin-left:22%;">Use Floyd-Steinberg dithering
in color quantization.</p>

<p style="margin-left:11%;"><b>&minus;dither
ordered</b></p>

<p style="margin-left:22%;">Use ordered dithering in color
quantization.</p>

<p style="margin-left:11%;"><b>&minus;dither none</b></p>

<p style="margin-left:22%;">Do not use dithering in color
quantization. By default, Floyd-Steinberg dithering is
applied when quantizing colors; this is slow but usually
produces the best results. Ordered dither is a compromise
between speed and quality; no dithering is fast but usually
looks awful. Note that these switches have no effect unless
color quantization is being done. Ordered dither is only
available in <b>&minus;onepass</b> mode.</p>

<p style="margin-left:11%;"><b>&minus;icc</b>
<i>file</i></p>

<p style="margin-left:22%;">Extract ICC color management
profile to the specified file.</p>

<p style="margin-left:11%;"><b>&minus;map</b>
<i>file</i></p>

<p style="margin-left:22%;">Quantize to the colors used in
the specified image file. This is useful for producing
multiple files with identical color maps, or for forcing a
predefined set of colors to be used. The <i>file</i> must be
a GIF or PPM file. This option overrides
<b>&minus;colors</b> and <b>&minus;onepass</b>.</p>

<p style="margin-left:11%;"><b>&minus;nosmooth</b></p>

<p style="margin-left:22%;">Use a faster, lower-quality
upsampling routine.</p>

<p style="margin-left:11%;"><b>&minus;onepass</b></p>

<p style="margin-left:22%;">Use one-pass instead of
two-pass color quantization. The one-pass method is faster
and needs less memory, but it produces a lower-quality
image. <b>&minus;onepass</b> is ignored unless you also say
<b>&minus;colors</b> <i>N</i>. Also, the one-pass method is
always used for grayscale output (the two-pass method is no
improvement then).</p>

<p style="margin-left:11%;"><b>&minus;maxmemory</b>
<i>N</i></p>

<p style="margin-left:22%;">Set limit for amount of memory
to use in processing large images. Value is in thousands of
bytes, or millions of bytes if &quot;M&quot; is attached to
the number. For example, <b>&minus;max 4m</b> selects
4000000 bytes. If more space is needed, an error will
occur.</p>

<p style="margin-left:11%;"><b>&minus;maxscans</b>
<i>N</i></p>

<p style="margin-left:22%;">Abort if the JPEG image
contains more than <i>N</i> scans. This feature demonstrates
a method by which applications can guard against
denial-of-service attacks instigated by specially-crafted
malformed JPEG images containing numerous scans with missing
image data or image data consisting only of &quot;EOB
runs&quot; (a feature of progressive JPEG images that allows
potentially hundreds of thousands of adjoining zero-value
pixels to be represented using only a few bytes.) Attempting
to decompress such malformed JPEG images can cause excessive
CPU activity, since the decompressor must fully process each
scan (even if the scan is corrupt) before it can proceed to
the next scan.</p>

<p style="margin-left:11%;"><b>&minus;outfile</b>
<i>name</i></p>

<p style="margin-left:22%;">Send output image to the named
file, not to standard output.</p>

<p style="margin-left:11%;"><b>&minus;memsrc</b></p>

<p style="margin-left:22%;">Load input file into memory
before decompressing. This feature was implemented mainly as
a way of testing the in-memory source manager
(jpeg_mem_src().)</p>

<p style="margin-left:11%;"><b>&minus;report</b></p>

<p style="margin-left:22%;">Report decompression
progress.</p>

<p style="margin-left:11%;"><b>&minus;skip</b>
<i>Y0,Y1</i></p>

<p style="margin-left:22%;">Decompress all rows of the JPEG
image except those between Y0 and Y1 (inclusive.) Note that
if decompression scaling is being used, then Y0 and Y1 are
relative to the scaled image dimensions.</p>

<p style="margin-left:11%;"><b>&minus;crop</b>
<i>WxH+X+Y</i></p>

<p style="margin-left:22%;">Decompress only a rectangular
subregion of the image, starting at point X,Y with width W
and height H. If necessary, X will be shifted left to the
nearest iMCU boundary, and the width will be increased
accordingly. Note that if decompression scaling is being
used, then X, Y, W, and H are relative to the scaled image
dimensions. Currently this option only works with the
PBMPLUS (PPM/PGM), GIF, and Targa output formats.</p>

<p style="margin-left:11%;"><b>&minus;strict</b></p>

<p style="margin-left:22%;">Treat all warnings as fatal.
This feature also demonstrates a method by which
applications can guard against attacks instigated by
specially-crafted malformed JPEG images. Enabling this
option will cause the decompressor to abort if the JPEG
image contains incomplete or corrupt image data.</p>

<p style="margin-left:11%;"><b>&minus;verbose</b></p>

<p style="margin-left:22%;">Enable debug printout. More
<b>&minus;v</b>&rsquo;s give more output. Also, version
information is printed at startup.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;debug</b></p></td>
<td width="2%"></td>
<td width="26%">


<p>Same as <b>&minus;verbose</b>.</p></td>
<td width="52%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;version</b></p>

<p style="margin-left:22%;">Print version information and
exit.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This example
decompresses the JPEG file foo.jpg, quantizes it to 256
colors, and saves the output in 8-bit BMP format in
foo.bmp:</p>

<p style="margin-left:22%; margin-top: 1em"><b>djpeg
&minus;colors 256 &minus;bmp</b> <i>foo.jpg</i> <b>&gt;</b>
<i>foo.bmp</i></p>

<h2>HINTS
<a name="HINTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">To get a quick
preview of an image, use the <b>&minus;grayscale</b> and/or
<b>&minus;scale</b> switches. <b>&minus;grayscale
&minus;scale 1/8</b> is the fastest case.</p>

<p style="margin-left:11%; margin-top: 1em">Several options
are available that trade off image quality to gain speed.
<b>&minus;fast</b> turns on the recommended settings.</p>

<p style="margin-left:11%; margin-top: 1em"><b>&minus;dct
fast</b> and/or <b>&minus;nosmooth</b> gain speed at a small
sacrifice in quality. When producing a color-quantized
image, <b>&minus;onepass &minus;dither ordered</b> is fast
but much lower quality than the default behavior.
<b>&minus;dither none</b> may give acceptable results in
two-pass mode, but is seldom tolerable in one-pass mode.</p>

<h2>ENVIRONMENT
<a name="ENVIRONMENT"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>JPEGMEM</b></p>

<p style="margin-left:22%;">If this environment variable is
set, its value is the default memory limit. The value is
specified as described for the <b>&minus;maxmemory</b>
switch. <b>JPEGMEM</b> overrides the default value specified
when the program was compiled, and itself is overridden by
an explicit <b>&minus;maxmemory</b>.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>cjpeg</b>(1),
<b>jpegtran</b>(1), <b>rdjpgcom</b>(1), <b>wrjpgcom</b>(1)
<b><br>
ppm</b>(5), <b>pgm</b>(5) <br>
Wallace, Gregory K. &quot;The JPEG Still Picture Compression
Standard&quot;, Communications of the ACM, April 1991 (vol.
34, no. 4), pp. 30-44.</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Independent
JPEG Group</p>

<p style="margin-left:11%; margin-top: 1em">This file was
modified by The libjpeg-turbo Project to include only
information relevant to libjpeg-turbo, to wordsmith certain
sections, and to describe features not present in
libjpeg.</p>
<hr>
</body>
</html>
