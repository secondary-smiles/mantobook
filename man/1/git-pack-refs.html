<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:53:49 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>GIT&minus;PACK&minus;REFS</title>

</head>
<body>
<h1>git-pack-refs</h1>



<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">git-pack-refs
&minus; Pack heads and tags for efficient repository
access</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>git
pack&minus;refs</i> [&minus;&minus;all]
[&minus;&minus;no&minus;prune]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Traditionally,
tips of branches and tags (collectively known as
<i>refs</i>) were stored one file per ref in a
(sub)directory under <b>$GIT_DIR/refs</b> directory. While
many branch tips tend to be updated often, most tags and
some branch tips are never updated. When a repository has
hundreds or thousands of tags, this
one&minus;file&minus;per&minus;ref format both wastes
storage and hurts performance.</p>

<p style="margin-left:11%; margin-top: 1em">This command is
used to solve the storage and performance problem by storing
the refs in a single file,
<b>$GIT_DIR/packed&minus;refs</b>. When a ref is missing
from the traditional <b>$GIT_DIR/refs</b> directory
hierarchy, it is looked up in this file and used if
found.</p>

<p style="margin-left:11%; margin-top: 1em">Subsequent
updates to branches always create new files under
<b>$GIT_DIR/refs</b> directory hierarchy.</p>

<p style="margin-left:11%; margin-top: 1em">A recommended
practice to deal with a repository with too many refs is to
pack its refs with <b>&minus;&minus;all</b> once, and
occasionally run <b>git pack&minus;refs</b>. Tags are by
definition stationary and are not expected to change. Branch
heads will be packed with the initial <b>pack&minus;refs
&minus;&minus;all</b>, but only the currently active branch
heads will become unpacked, and the next
<b>pack&minus;refs</b> (without <b>&minus;&minus;all</b>)
will leave them unpacked.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">&minus;&minus;all</p>

<p style="margin-left:17%;">The command by default packs
all tags and refs that are already packed, and leaves other
refs alone. This is because branches are expected to be
actively developed and packing their tips does not help
performance. This option causes branch tips to be packed as
well. Useful for a repository with many branches of
historical interests.</p>


<p style="margin-left:11%; margin-top: 1em">&minus;&minus;no&minus;prune</p>

<p style="margin-left:17%;">The command usually removes
loose refs under <b>$GIT_DIR/refs</b> hierarchy after
packing them. This option tells it not to.</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Older
documentation written before the packed&minus;refs mechanism
was introduced may still say things like
&quot;.git/refs/heads/&lt;branch&gt; file exists&quot; when
it means &quot;branch &lt;branch&gt; exists&quot;.</p>

<h2>GIT
<a name="GIT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Part of the
<b>git</b>(1) suite</p>
<hr>
</body>
</html>
