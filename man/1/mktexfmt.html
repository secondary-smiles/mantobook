<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:53:53 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>FMTUTIL</title>

</head>
<body>
<h1>mktexfmt</h1>



<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">fmtutil &minus;
manage TeX formats and Metafont bases, per-user <br>
fmtutil-sys &minus; manage TeX formats and Metafont bases,
system-wide <br>
mktexfmt &minus; create a TeX format or Metafont base</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>fmtutil</b>
[<i>-user|-sys</i>] [<i>OPTION</i>] ... [<i>COMMAND</i>]
<b><br>
fmtutil-sys</b> [<i>OPTION</i>] ... [<i>COMMAND</i>] <b><br>
fmtutil-user</b> [<i>OPTION</i>] ... [<i>COMMAND</i>]
<b><br>
mktexfmt</b> <i>FORMAT.fmt|BASE.base|FMTNAME</i></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">fmtutil version
r60154 (2021&minus;08&minus;03 23:55:56 +0200)</p>

<p style="margin-left:11%; margin-top: 1em">Rebuild and
manage TeX fmts and Metafont bases, collectively called
&quot;formats&quot; here. (MetaPost no longer uses the
past&minus;equivalent &quot;mems&quot;.)</p>

<p style="margin-left:11%; margin-top: 1em">If not
operating in mktexfmt mode, exactly one command must be
given, filename suffixes should generally not be specified,
no non&minus;option arguments are allowed, and multiple
formats can be generated.</p>

<p style="margin-left:11%; margin-top: 1em">If the command
name ends in mktexfmt, only one format can be created. The
only options supported are <b>&minus;&minus;help</b> and
<b>&minus;&minus;version</b>, and the command line must be
either a format name, with extension, or a plain name that
is passed as the argument to <b>&minus;&minus;byfmt</b> (see
below). The full name of the generated file (if any) is
written to stdout, and nothing else. The system directories
are used if they are writable, else the user
directories.</p>

<p style="margin-left:11%; margin-top: 1em">By default, the
return status is zero if all formats requested are
successfully built, else nonzero.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><b>&minus;&minus;sys</b></p></td>
<td width="2%"></td>
<td width="36%">


<p style="margin-top: 1em">use TEXMFSYS{VAR,CONFIG}</p></td>
<td width="42%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;&minus;user</b></p></td>
<td width="2%"></td>
<td width="36%">


<p>use TEXMF{VAR,CONFIG}</p></td>
<td width="42%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;&minus;cnffile</b>
FILE</p>

<p style="margin-left:22%;">read FILE instead of
fmtutil.cnf (can be given multiple times, in which case all
the files are used)</p>


<p style="margin-left:11%;"><b>&minus;&minus;dry&minus;run</b>,
<b>&minus;n</b></p>

<p style="margin-left:22%;">don&rsquo;t actually build
formts</p>

<p style="margin-left:11%;"><b>&minus;&minus;fmtdir</b>
DIR</p>

<p style="margin-left:22%;">write formats under DIR instead
of TEXMF[SYS]VAR</p>


<p style="margin-left:11%;"><b>&minus;&minus;no&minus;engine&minus;subdir</b></p>

<p style="margin-left:22%;">don&rsquo;t use
engine&minus;specific subdir of the fmtdir</p>


<p style="margin-left:11%;"><b>&minus;&minus;no&minus;error&minus;if&minus;no&minus;format</b></p>

<p style="margin-left:22%;">exit successfully if no format
is selected</p>


<p style="margin-left:11%;"><b>&minus;&minus;no&minus;error&minus;if&minus;no&minus;engine</b>=<i>ENGINE1</i>,ENGINE2,...</p>

<p style="margin-left:22%;">exit successfully even if a
required ENGINE</p>

<p style="margin-left:22%; margin-top: 1em">is missing, if
it is included in the list.</p>


<p style="margin-left:11%;"><b>&minus;&minus;no&minus;strict</b></p>

<p style="margin-left:22%;">exit successfully even if a
format fails to build</p>


<p style="margin-left:11%;"><b>&minus;&minus;nohash</b></p>

<p style="margin-left:22%;">don&rsquo;t update ls&minus;R
files</p>


<p style="margin-left:11%;"><b>&minus;&minus;recorder</b></p>

<p style="margin-left:22%;">pass the <b>&minus;recorder</b>
option and save .fls files</p>


<p style="margin-left:11%;"><b>&minus;&minus;refresh</b></p>

<p style="margin-left:22%;">recreate only existing format
files</p>


<p style="margin-left:11%;"><b>&minus;&minus;status&minus;file</b>
FILE</p>

<p style="margin-left:22%;">append status information about
built formats to FILE</p>

<p style="margin-left:11%;"><b>&minus;&minus;quiet</b></p>

<p style="margin-left:22%;">be silent</p>


<p style="margin-left:11%;"><b>&minus;&minus;catcfg</b></p>

<p style="margin-left:22%;">(does nothing, exists for
compatibility)</p>


<p style="margin-left:11%;"><b>&minus;&minus;dolinks</b></p>

<p style="margin-left:22%;">(does nothing, exists for
compatibility)</p>

<p style="margin-left:11%;"><b>&minus;&minus;force</b></p>

<p style="margin-left:22%;">(does nothing, exists for
compatibility)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;&minus;test</b></p></td>
<td width="2%"></td>
<td width="61%">


<p>(does nothing, exists for compatibility)</p></td>
<td width="17%">
</td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><b>Commands:</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p style="margin-top: 1em"><b>&minus;&minus;all</b></p></td>
<td width="4%"></td>
<td width="38%">


<p style="margin-top: 1em">recreate all format files</p></td>
<td width="40%">
</td></tr>
</table>


<p style="margin-left:11%;"><b>&minus;&minus;missing</b></p>

<p style="margin-left:22%;">create all missing format
files</p>

<p style="margin-left:11%;"><b>&minus;&minus;byengine</b>
ENGINE</p>

<p style="margin-left:22%;">(re)create formats built with
ENGINE</p>

<p style="margin-left:11%;"><b>&minus;&minus;byfmt</b>
FORMAT</p>

<p style="margin-left:22%;">(re)create format FORMAT</p>

<p style="margin-left:11%;"><b>&minus;&minus;byhyphen</b>
HYPHENFILE</p>

<p style="margin-left:22%;">(re)create formats that depend
on HYPHENFILE</p>


<p style="margin-left:11%;"><b>&minus;&minus;enablefmt</b></p>

<p style="margin-left:22%;">FORMAT[/ENGINE] enable FORMAT,
as built with ENGINE</p>


<p style="margin-left:11%;"><b>&minus;&minus;disablefmt</b>
FORMAT[/ENGINE]</p>

<p style="margin-left:22%;">disable FORMAT, as built with
ENGINE If multiple formats have the same name and</p>

<p style="margin-left:22%; margin-top: 1em">different
engines, <i>/ENGINE</i> specifier is required.</p>


<p style="margin-left:11%;"><b>&minus;&minus;listcfg</b></p>

<p style="margin-left:22%;">list (enabled and disabled)
configurations, filtered to available formats</p>


<p style="margin-left:11%;"><b>&minus;&minus;showhyphen</b>
FORMAT</p>

<p style="margin-left:22%;">print name of hyphen file for
FORMAT</p>


<p style="margin-left:11%;"><b>&minus;&minus;version</b></p>

<p style="margin-left:22%;">show version information and
exit</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>&minus;&minus;help</b></p></td>
<td width="2%"></td>
<td width="40%">


<p>show this message and exit</p></td>
<td width="38%">
</td></tr>
</table>

<h2>ENVIRONMENT
<a name="ENVIRONMENT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Explanation of
trees and files normally used:</p>

<p style="margin-left:22%; margin-top: 1em">If
<b>&minus;&minus;cnffile</b> is specified on the command
line (possibly multiple times), its value(s) are used.
Otherwise, fmtutil reads all the fmtutil.cnf files found by
running &quot;kpsewhich <b>&minus;all</b> fmtutil.cnf&quot;,
in the order returned by kpsewhich. Files specified via
<b>&minus;&minus;cnffile</b> are first tried to be loaded
directly, and if not found and the file names don&rsquo;t
contain directory parts, are searched via kpsewhich.</p>

<p style="margin-left:22%; margin-top: 1em">In any case, if
multiple fmtutil.cnf files are found, all the format
definitions found in all the fmtutil.cnf files are
merged.</p>

<p style="margin-left:22%; margin-top: 1em">Thus, if
fmtutil.cnf files are present in all trees, and the default
layout is used as shipped with TeX Live, the following files
are read, in the given order.</p>

<p style="margin-left:22%; margin-top: 1em">For
fmtutil&minus;sys: <br>
TEXMFSYSCONFIG
<i>$TEXLIVE/YYYY/texmf&minus;config/web2c/fmtutil.cnf</i>
<br>
TEXMFSYSVAR
<i>$TEXLIVE/YYYY/texmf&minus;var/web2c/fmtutil.cnf</i> <br>
TEXMFLOCAL
<i>$TEXLIVE/texmf&minus;local/web2c/fmtutil.cnf</i> <br>
TEXMFDIST
<i>$TEXLIVE/YYYY/texmf&minus;dist/web2c/fmtutil.cnf</i></p>

<p style="margin-left:22%; margin-top: 1em">For
fmtutil&minus;user: <br>
TEXMFCONFIG
$HOME/.texliveYYYY/texmf&minus;config/web2c/fmtutil.cnf <br>
TEXMFVAR
$HOME/.texliveYYYY/texmf&minus;var/web2c/fmtutil.cnf <br>
TEXMFHOME <i>$HOME/texmf/web2c/fmtutil.cnf</i> <br>
TEXMFSYSCONFIG
<i>$TEXLIVE/YYYY/texmf&minus;config/web2c/fmtutil.cnf</i>
<br>
TEXMFSYSVAR
<i>$TEXLIVE/YYYY/texmf&minus;var/web2c/fmtutil.cnf</i> <br>
TEXMFLOCAL
<i>$TEXLIVE/texmf&minus;local/web2c/fmtutil.cnf</i> <br>
TEXMFDIST
<i>$TEXLIVE/YYYY/texmf&minus;dist/web2c/fmtutil.cnf</i></p>

<p style="margin-left:22%; margin-top: 1em">(where YYYY is
the TeX Live release version).</p>

<p style="margin-left:22%; margin-top: 1em">According to
the actions, fmtutil might update one of the existing cnf
files or create a new fmtutil.cnf, as described below.</p>

<p style="margin-left:11%; margin-top: 1em">Where format
files are written:</p>

<p style="margin-left:22%; margin-top: 1em">By default,
format files are (re)written in <i>$TEXMFSYSVAR/ENGINE</i>
by fmtutil&minus;sys, and <i>$TEXMFVAR/ENGINE</i> by
fmtutil&minus;user, where <i>/ENGINE</i> is a subdirectory
named for the engine used, such as &quot;pdftex&quot;.</p>

<p style="margin-left:22%; margin-top: 1em">For mktexfmt,
TEXMFSYSVAR is used if it is writable, else TEXMFVAR.</p>

<p style="margin-left:22%; margin-top: 1em">If the
<b>&minus;&minus;fmtdir</b>=<i>DIR</i> option is specified,
DIR is used instead of TEXMF[SYS]VAR, but the <i>/ENGINE</i>
subdir is still used by default.</p>

<p style="margin-left:22%; margin-top: 1em">In all cases,
if the <b>&minus;&minus;no&minus;engine&minus;subdir</b>
option is specified, the <i>/ENGINE</i> subdir is
omitted.</p>

<p style="margin-left:11%; margin-top: 1em">Where
configuration changes are saved:</p>

<p style="margin-left:22%; margin-top: 1em">If config files
are given on the command line, then the first one given will
be used to save any changes from <b>&minus;&minus;enable</b>
or <b>&minus;&minus;disable</b>.</p>

<p style="margin-left:22%; margin-top: 1em">If the config
files are taken from kpsewhich output, then the algorithm is
more complicated:</p>

<p style="margin-left:22%; margin-top: 1em">1) If
<i>$TEXMFCONFIG/web2c/fmtutil.cnf</i> or
<i>$TEXMFHOME/web2c/fmtutil.cnf</i> appears in the list of
used files, then the one listed first by kpsewhich
<b>&minus;&minus;all</b> (equivalently, the one returned by
&quot;kpsewhich fmtutil.cnf&quot;), is used.</p>

<p style="margin-left:22%; margin-top: 1em">2) If neither
of the above two are present and changes are made, a new
config file is created in
<i>$TEXMFCONFIG/web2c/fmtutil.cnf</i>.</p>

<p style="margin-left:22%; margin-top: 1em">In general, the
idea is that if a given config file is not writable, a
higher&minus;level one can be used. That way, the
distribution&rsquo;s settings can be overridden
system&minus;wide using TEXMFLOCAL, and system settings can
be overridden again in a particular user&rsquo;s TEXMFHOME
or TEXMFCONF.</p>

<p style="margin-left:11%; margin-top: 1em">Resolving
multiple definitions of a format:</p>

<p style="margin-left:22%; margin-top: 1em">If a format is
defined in more than one config file, then the definition
coming from the first&minus;listed fmtutil.cnf is used.</p>

<p style="margin-left:11%; margin-top: 1em">Disabling
formats:</p>

<p style="margin-left:22%; margin-top: 1em">fmtutil.cnf
files with higher priority (listed earlier) can disable
formats in lower priority (listed later) fmtutil.cnf files
by writing a line like this in the higher&minus;priority
fmtutil.cnf file:</p>

<p style="margin-left:22%; margin-top: 1em">#!
&lt;fmtname&gt; &lt;enginename&gt; &lt;hyphen&gt;
&lt;args&gt;</p>

<p style="margin-left:22%; margin-top: 1em">The #! must be
at the beginning of the line, with at least one space or tab
afterward, and there must be whitespace between each word on
the list.</p>

<p style="margin-left:22%; margin-top: 1em">For example,
you can disable the luajitlatex format by creating the file
<i>$TEXMFCONFIG/web2c/fmtutil.cnf</i> with the line</p>

<p style="margin-left:22%; margin-top: 1em">#! luajitlatex
luajittex language.dat,language.dat.lua lualatex.ini</p>

<p style="margin-left:22%; margin-top: 1em">(As it happens,
the luajittex&minus;related formats are precisely why the
<b>&minus;&minus;no&minus;error&minus;if&minus;no&minus;engine</b>
option exists, since luajittex cannot be compiled on all
platforms. So this is not needed.)</p>


<p style="margin-left:11%; margin-top: 1em">fmtutil&minus;user
(fmtutil <b>&minus;user</b>) vs. fmtutil&minus;sys (fmtutil
<b>&minus;sys</b>):</p>

<p style="margin-left:22%; margin-top: 1em">When
fmtutil&minus;sys is run or the command line option
<b>&minus;sys</b> is used, TEXMFSYSCONFIG and TEXMFSYSVAR
are used instead of TEXMFCONFIG and TEXMFVAR, respectively.
This is the primary difference between fmtutil&minus;sys and
fmtutil&minus;user.</p>

<p style="margin-left:22%; margin-top: 1em">See
https://tug.org/texlive/scripts&minus;sys&minus;user.html
for details.</p>

<p style="margin-left:22%; margin-top: 1em">Other locations
may be used if you give them on the command line, or these
trees don&rsquo;t exist, or you are not using the original
TeX Live.</p>

<p style="margin-left:11%; margin-top: 1em">Supporting
development binaries:</p>

<p style="margin-left:22%; margin-top: 1em">If an engine
name ends with &quot;&minus;dev&quot;, formats are created
in the respective directory with the <b>&minus;dev</b>
stripped. This allows for easily running development
binaries in parallel with the released binaries.</p>

<h2>REPORTING BUGS
<a name="REPORTING BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Report bugs to:
tex&minus;live@tug.org <br>
TeX Live home page: &lt;https://tug.org/texlive/&gt;</p>
<hr>
</body>
</html>
