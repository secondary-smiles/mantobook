<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:53:58 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>PERL5180DELTA</title>

</head>
<body>
<h1>perl5180delta</h1>



<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">perl5180delta
&minus; what is new for perl v5.18.0</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This document
describes differences between the v5.16.0 release and the
v5.18.0 release.</p>

<p style="margin-left:11%; margin-top: 1em">If you are
upgrading from an earlier release such as v5.14.0, first
read perl5160delta, which describes differences between
v5.14.0 and v5.16.0.</p>

<h2>Core Enhancements
<a name="Core Enhancements"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>New
mechanism for experimental features</b> <br>
Newly-added experimental features will now require this
incantation:</p>

<p style="margin-left:11%; margin-top: 1em">no warnings
&quot;experimental::feature_name&quot;; <br>
use feature &quot;feature_name&quot;; # would warn without
the prev line</p>

<p style="margin-left:11%; margin-top: 1em">There is a new
warnings category, called &quot;experimental&quot;,
containing warnings that the feature pragma emits when
enabling experimental features.</p>

<p style="margin-left:11%; margin-top: 1em">Newly-added
experimental features will also be given special warning
IDs, which consist of &quot;experimental::&quot; followed by
the name of the feature. (The plan is to extend this
mechanism eventually to all warnings, to allow them to be
enabled or disabled individually, and not just by
category.)</p>

<p style="margin-left:11%; margin-top: 1em">By saying</p>

<p style="margin-left:11%; margin-top: 1em">no warnings
&quot;experimental::feature_name&quot;;</p>

<p style="margin-left:11%; margin-top: 1em">you are taking
responsibility for any breakage that future changes to, or
removal of, the feature may cause.</p>

<p style="margin-left:11%; margin-top: 1em">Since some
features (like &quot;~~&quot; or &quot;my $_&quot;) now emit
experimental warnings, and you may want to disable them in
code that is also run on perls that do not recognize these
warning categories, consider using the &quot;if&quot; pragma
like this:</p>

<p style="margin-left:11%; margin-top: 1em">no if $] &gt;=
5.018, warnings =&gt;
&quot;experimental::feature_name&quot;;</p>

<p style="margin-left:11%; margin-top: 1em">Existing
experimental features may begin emitting these warnings,
too. Please consult perlexperiment for information on which
features are considered experimental.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Hash
overhaul</b> <br>
Changes to the implementation of hashes in perl v5.18.0 will
be one of the most visible changes to the behavior of
existing code.</p>

<p style="margin-left:11%; margin-top: 1em">By default, two
distinct hash variables with identical keys and values may
now provide their contents in a different order where it was
previously identical.</p>

<p style="margin-left:11%; margin-top: 1em">When
encountering these changes, the key to cleaning up from them
is to accept that <b>hashes are unordered collections</b>
and to act accordingly.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Hash
randomization</i></p>

<p style="margin-left:11%; margin-top: 1em">The seed used
by Perl&rsquo;s hash function is now random. This means that
the order which keys/values will be returned from functions
like &quot;keys()&quot;, &quot;values()&quot;, and
&quot;each()&quot; will differ from run to run.</p>

<p style="margin-left:11%; margin-top: 1em">This change was
introduced to make Perl&rsquo;s hashes more robust to
algorithmic complexity attacks, and also because we
discovered that it exposes hash ordering dependency bugs and
makes them easier to track down.</p>

<p style="margin-left:11%; margin-top: 1em">Toolchain
maintainers might want to invest in additional
infrastructure to test for things like this. Running tests
several times in a row and then comparing results will make
it easier to spot hash order dependencies in code. Authors
are strongly encouraged not to expose the key order of
Perl&rsquo;s hashes to insecure audiences.</p>

<p style="margin-left:11%; margin-top: 1em">Further, every
hash has its own iteration order, which should make it much
more difficult to determine what the current hash seed
is.</p>

<p style="margin-left:11%; margin-top: 1em"><i>New hash
functions</i></p>

<p style="margin-left:11%; margin-top: 1em">Perl v5.18
includes support for multiple hash functions, and changed
the default (to <small>ONE_AT_A_TIME_HARD</small> ), you can
choose a different algorithm by defining a symbol at compile
time. For a current list, consult the
<i><small>INSTALL</small></i> document. Note that as of Perl
v5.18 we can only recommend use of the default or
<small>SIPHASH.</small> All the others are known to have
security issues and are for research purposes only.</p>


<p style="margin-left:11%; margin-top: 1em"><i><small>PERL_HASH_SEED</small>
environment variable now takes a hex value</i></p>


<p style="margin-left:11%; margin-top: 1em">&quot;PERL_HASH_SEED&quot;
no longer accepts an integer as a parameter; instead the
value is expected to be a binary value encoded in a hex
string, such as &quot;0xf5867c55039dc724&quot;. This is to
make the infrastructure support hash seeds of arbitrary
lengths, which might exceed that of an integer. (SipHash
uses a 16 byte seed.)</p>


<p style="margin-left:11%; margin-top: 1em"><i><small>PERL_PERTURB_KEYS</small>
environment variable added</i></p>

<p style="margin-left:11%; margin-top: 1em">The
&quot;PERL_PERTURB_KEYS&quot; environment variable allows
one to control the level of randomization applied to
&quot;keys&quot; and friends.</p>

<p style="margin-left:11%; margin-top: 1em">When
&quot;PERL_PERTURB_KEYS&quot; is 0, perl will not randomize
the key order at all. The chance that &quot;keys&quot;
changes due to an insert will be the same as in previous
perls, basically only when the bucket size is changed.</p>

<p style="margin-left:11%; margin-top: 1em">When
&quot;PERL_PERTURB_KEYS&quot; is 1, perl will randomize keys
in a non-repeatable way. The chance that &quot;keys&quot;
changes due to an insert will be very high. This is the most
secure and default mode.</p>

<p style="margin-left:11%; margin-top: 1em">When
&quot;PERL_PERTURB_KEYS&quot; is 2, perl will randomize keys
in a repeatable way. Repeated runs of the same program
should produce the same output every time.</p>


<p style="margin-left:11%; margin-top: 1em">&quot;PERL_HASH_SEED&quot;
implies a non-default &quot;PERL_PERTURB_KEYS&quot; setting.
Setting &quot;PERL_HASH_SEED=0&quot; (exactly one 0) implies
&quot;PERL_PERTURB_KEYS=0&quot; (hash key randomization
disabled); setting &quot;PERL_HASH_SEED&quot; to any other
value implies &quot;PERL_PERTURB_KEYS=2&quot; (deterministic
and repeatable hash key randomization). Specifying
&quot;PERL_PERTURB_KEYS&quot; explicitly to a different
level overrides this behavior.</p>


<p style="margin-left:11%; margin-top: 1em"><b><i>Hash::Util::hash_seed()</i></b>
<i>now returns a string</i></p>


<p style="margin-left:11%; margin-top: 1em"><b>Hash::Util::hash_seed()</b>
now returns a string instead of an integer. This is to make
the infrastructure support hash seeds of arbitrary lengths
which might exceed that of an integer. (SipHash uses a 16
byte seed.)</p>

<p style="margin-left:11%; margin-top: 1em"><i>Output of
<small>PERL_HASH_SEED_DEBUG</small> has been changed</i></p>

<p style="margin-left:11%; margin-top: 1em">The environment
variable <small>PERL_HASH_SEED_DEBUG</small> now makes perl
show both the hash function perl was built with, <i>and</i>
the seed, in hex, in use for that process. Code parsing this
output, should it exist, must change to accommodate the new
format. Example of the new format:</p>

<p style="margin-left:11%; margin-top: 1em">$
PERL_HASH_SEED_DEBUG=1 ./perl &minus;e1 <br>
HASH_FUNCTION = MURMUR3 HASH_SEED = 0x1476bb9f</p>

<p style="margin-left:11%; margin-top: 1em"><b>Upgrade to
Unicode 6.2</b> <br>
Perl now supports Unicode 6.2. A list of changes from
Unicode 6.1 is at
&lt;http://www.unicode.org/versions/Unicode6.2.0&gt;.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Character
name aliases may now include non&minus;Latin1&minus;range
characters</b> <br>
It is possible to define your own names for characters for
use in &quot;\N{...}&quot;,
&quot;charnames::vianame()&quot;, etc. These names can now
be comprised of characters from the whole Unicode range.
This allows for names to be in your native language, and not
just English. Certain restrictions apply to the characters
that may be used (you can&rsquo;t define a name that has
punctuation in it, for example). See &quot; <small>CUSTOM
ALIASES&quot;</small> in charnames.</p>

<p style="margin-left:11%; margin-top: 1em"><b>New DTrace
probes</b> <br>
The following new DTrace probes have been added:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="21%">


<p>&quot;op&minus;entry&quot;</p></td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="21%">


<p>&quot;loading&minus;file&quot;</p></td>
<td width="62%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="21%">


<p>&quot;loaded&minus;file&quot;</p></td>
<td width="62%">
</td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><b>&quot;${^LAST_FH}&quot;</b>
<br>
This new variable provides access to the filehandle that was
last read. This is the handle used by $. and by
&quot;tell&quot; and &quot;eof&quot; without arguments.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Regular
Expression Set Operations</b> <br>
This is an <b>experimental</b> feature to allow matching
against the union, intersection, etc., of sets of code
points, similar to Unicode::Regex::Set. It can also be used
to extend &quot;/x&quot; processing to [bracketed] character
classes, and as a replacement of user-defined properties,
allowing more complex expressions than they do. See
&quot;Extended Bracketed Character Classes&quot; in
perlrecharclass.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Lexical
subroutines</b> <br>
This new feature is still considered <b>experimental</b>. To
enable it:</p>

<p style="margin-left:11%; margin-top: 1em">use 5.018; <br>
no warnings &quot;experimental::lexical_subs&quot;; <br>
use feature &quot;lexical_subs&quot;;</p>

<p style="margin-left:11%; margin-top: 1em">You can now
declare subroutines with &quot;state sub foo&quot;, &quot;my
sub foo&quot;, and &quot;our sub foo&quot;. (&quot;state
sub&quot; requires that the &quot;state&quot; feature be
enabled, unless you write it as &quot;CORE::state sub
foo&quot;.)</p>

<p style="margin-left:11%; margin-top: 1em">&quot;state
sub&quot; creates a subroutine visible within the lexical
scope in which it is declared. The subroutine is shared
between calls to the outer sub.</p>

<p style="margin-left:11%; margin-top: 1em">&quot;my
sub&quot; declares a lexical subroutine that is created each
time the enclosing block is entered. &quot;state sub&quot;
is generally slightly faster than &quot;my sub&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">&quot;our
sub&quot; declares a lexical alias to the package subroutine
of the same name.</p>

<p style="margin-left:11%; margin-top: 1em">For more
information, see &quot;Lexical Subroutines&quot; in
perlsub.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Computed
Labels</b> <br>
The loop controls &quot;next&quot;, &quot;last&quot; and
&quot;redo&quot;, and the special &quot;dump&quot; operator,
now allow arbitrary expressions to be used to compute labels
at run time. Previously, any argument that was not a
constant was treated as the empty string.</p>

<p style="margin-left:11%; margin-top: 1em"><b>More
<small>CORE::</small> subs</b> <br>
Several more built-in functions have been added as
subroutines to the <small>CORE::</small> namespace &minus;
namely, those non-overridable keywords that can be
implemented without custom parsers: &quot;defined&quot;,
&quot;delete&quot;, &quot;exists&quot;, &quot;glob&quot;,
&quot;pos&quot;, &quot;prototype&quot;, &quot;scalar&quot;,
&quot;split&quot;, &quot;study&quot;, and
&quot;undef&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">As some of
these have prototypes, &quot;prototype('CORE::...')&quot;
has been changed to not make a distinction between
overridable and non-overridable keywords. This is to make
&quot;prototype('CORE::pos')&quot; consistent with
&quot;prototype(&amp;CORE::pos)&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&quot;kill&quot;
with negative signal names</b> <br>
&quot;kill&quot; has always allowed a negative signal
number, which kills the process group instead of a single
process. It has also allowed signal names. But it did not
behave consistently, because negative signal names were
treated as 0. Now negative signals names like
&quot;&minus;INT&quot; are supported and treated the same
way as &minus;2 [perl #112990].</p>

<h2>Security
<a name="Security"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>See also:
hash overhaul</b> <br>
Some of the changes in the hash overhaul were made to
enhance security. Please read that section.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&quot;Storable&quot;
security warning in documentation</b> <br>
The documentation for &quot;Storable&quot; now includes a
section which warns readers of the danger of accepting
Storable documents from untrusted sources. The short version
is that deserializing certain types of data can lead to
loading modules and other code execution. This is documented
behavior and wanted behavior, but this opens an attack
vector for malicious entities.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&quot;Locale::Maketext&quot;
allowed code injection via a malicious template</b> <br>
If users could provide a translation string to
Locale::Maketext, this could be used to invoke arbitrary
Perl subroutines available in the current process.</p>

<p style="margin-left:11%; margin-top: 1em">This has been
fixed, but it is still possible to invoke any method
provided by &quot;Locale::Maketext&quot; itself or a
subclass that you are using. One of these methods in turn
will invoke the Perl core&rsquo;s &quot;sprintf&quot;
subroutine.</p>

<p style="margin-left:11%; margin-top: 1em">In summary,
allowing users to provide translation strings without
auditing them is a bad idea.</p>

<p style="margin-left:11%; margin-top: 1em">This
vulnerability is documented in
<small>CVE&minus;2012&minus;6329.</small></p>

<p style="margin-left:11%; margin-top: 1em"><b>Avoid
calling memset with a negative count</b> <br>
Poorly written perl code that allows an attacker to specify
the count to perl&rsquo;s &quot;x&quot; string repeat
operator can already cause a memory exhaustion
denial-of-service attack. A flaw in versions of perl before
v5.15.5 can escalate that into a heap buffer overrun;
coupled with versions of glibc before 2.16, it possibly
allows the execution of arbitrary code.</p>

<p style="margin-left:11%; margin-top: 1em">The flaw
addressed to this commit has been assigned identifier
<small>CVE&minus;2012&minus;5195</small> and was researched
by Tim Brown.</p>

<h2>Incompatible Changes
<a name="Incompatible Changes"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>See also:
hash overhaul</b> <br>
Some of the changes in the hash overhaul are not fully
compatible with previous versions of perl. Please read that
section.</p>

<p style="margin-left:11%; margin-top: 1em"><b>An unknown
character name in &quot;\N{...}&quot; is now a syntax
error</b> <br>
Previously, it warned, and the Unicode <small>REPLACEMENT
CHARACTER</small> was substituted. Unicode now recommends
that this situation be a syntax error. Also, the previous
behavior led to some confusing warnings and behaviors, and
since the <small>REPLACEMENT CHARACTER</small> has no use
other than as a stand-in for some unknown character, any
code that has this problem is buggy.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Formerly
deprecated characters in &quot;\N{}&quot; character name
aliases are now errors.</b> <br>
Since v5.12.0, it has been deprecated to use certain
characters in user-defined &quot;\N{...}&quot; character
names. These now cause a syntax error. For example, it is
now an error to begin a name with a digit, such as in</p>

<p style="margin-left:11%; margin-top: 1em">my $undraftable
= &quot;\N{4F}&quot;; # Syntax error!</p>

<p style="margin-left:11%; margin-top: 1em">or to have
commas anywhere in the name. See &quot; <small>CUSTOM
ALIASES&quot;</small> in charnames.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&quot;\N{BELL}&quot;
now refers to U+1F514 instead of U+0007</b> <br>
Unicode 6.0 reused the name &quot; <small>BELL&quot;</small>
for a different code point than it traditionally had meant.
Since Perl v5.14, use of this name still referred to U+0007,
but would raise a deprecation warning. Now, &quot;
<small>BELL&quot;</small> refers to U+1F514, and the name
for U+0007 is &quot; <small>ALERT&quot;.</small> All the
functions in charnames have been correspondingly
updated.</p>

<p style="margin-left:11%; margin-top: 1em"><b>New
Restrictions in Multi-Character Case-Insensitive Matching in
Regular Expression Bracketed Character Classes</b> <br>
Unicode has now withdrawn their previous recommendation for
regular expressions to automatically handle cases where a
single character can match multiple characters
case-insensitively, for example, the letter <small>LATIN
SMALL LETTER SHARP S</small> and the sequence
&quot;ss&quot;. This is because it turns out to be
impracticable to do this correctly in all circumstances.
Because Perl has tried to do this as best it can, it will
continue to do so. (We are considering an option to turn it
off.) However, a new restriction is being added on such
matches when they occur in [bracketed] character classes.
People were specifying things such as
&quot;/[\0&minus;\xff]/i&quot;, and being surprised that it
matches the two character sequence &quot;ss&quot; (since
<small>LATIN SMALL LETTER SHARP S</small> occurs in this
range). This behavior is also inconsistent with using a
property instead of a range: &quot;\p{Block=Latin1}&quot;
also includes <small>LATIN SMALL LETTER SHARP S,</small> but
&quot;/[\p{Block=Latin1}]/i&quot; does not match
&quot;ss&quot;. The new rule is that for there to be a
multi-character case-insensitive match within a bracketed
character class, the character must be explicitly listed,
and not as an end point of a range. This more closely obeys
the Principle of Least Astonishment. See &quot;Bracketed
Character Classes&quot; in perlrecharclass. Note that a bug
[perl #89774], now fixed as part of this change, prevented
the previous behavior from working fully.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Explicit
rules for variable names and identifiers</b> <br>
Due to an oversight, single character variable names in
v5.16 were completely unrestricted. This opened the door to
several kinds of insanity. As of v5.18, these now follow the
rules of other identifiers, in addition to accepting
characters that match the &quot;\p{POSIX_Punct}&quot;
property.</p>

<p style="margin-left:11%; margin-top: 1em">There is no
longer any difference in the parsing of identifiers
specified by using braces versus without braces. For
instance, perl used to allow &quot;${foo:bar}&quot; (with a
single colon) but not $foo:bar. Now that both are handled by
a single code path, they are both treated the same way: both
are forbidden. Note that this change is about the range of
permissible literal identifiers, not other expressions.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Vertical
tabs are now whitespace</b> <br>
No one could recall why &quot;\s&quot; didn&rsquo;t match
&quot;\cK&quot;, the vertical tab. Now it does. Given the
extreme rarity of that character, very little breakage is
expected. That said, here&rsquo;s what it means:</p>

<p style="margin-left:11%; margin-top: 1em">&quot;\s&quot;
in a regex now matches a vertical tab in all
circumstances.</p>

<p style="margin-left:11%; margin-top: 1em">Literal
vertical tabs in a regex literal are ignored when the
&quot;/x&quot; modifier is used.</p>

<p style="margin-left:11%; margin-top: 1em">Leading
vertical tabs, alone or mixed with other whitespace, are now
ignored when interpreting a string as a number. For
example:</p>

<p style="margin-left:11%; margin-top: 1em">$dec = &quot;
\cK \t 123&quot;; <br>
$hex = &quot; \cK \t 0xF&quot;; <br>
say 0 + $dec; # was 0 with warning, now 123 <br>
say int $dec; # was 0, now 123 <br>
say oct $hex; # was 0, now 15</p>


<p style="margin-left:11%; margin-top: 1em"><b>&quot;/(?{})/&quot;
and &quot;/(??{})/&quot; have been heavily reworked</b> <br>
The implementation of this feature has been almost
completely rewritten. Although its main intent is to fix
bugs, some behaviors, especially related to the scope of
lexical variables, will have changed. This is described more
fully in the &quot;Selected Bug Fixes&quot; section.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Stricter
parsing of substitution replacement</b> <br>
It is no longer possible to abuse the way the parser parses
&quot;s///e&quot; like this:</p>


<p style="margin-left:11%; margin-top: 1em">%_=(_,&quot;Just
another &quot;); <br>
$_=&quot;Perl hacker,\n&quot;; <br>
s//_}&minus;&gt;{_/e;print</p>


<p style="margin-left:11%; margin-top: 1em"><b>&quot;given&quot;
now aliases the global $_</b> <br>
Instead of assigning to an implicit lexical $_,
&quot;given&quot; now makes the global $_ an alias for its
argument, just like &quot;foreach&quot;. However, it still
uses lexical $_ if there is lexical $_ in scope (again, just
like &quot;foreach&quot;) [perl #114020].</p>

<p style="margin-left:11%; margin-top: 1em"><b>The
smartmatch family of features are now experimental</b> <br>
Smart match, added in v5.10.0 and significantly revised in
v5.10.1, has been a regular point of complaint. Although
there are a number of ways in which it is useful, it has
also proven problematic and confusing for both users and
implementors of Perl. There have been a number of proposals
on how to best address the problem. It is clear that
smartmatch is almost certainly either going to change or go
away in the future. Relying on its current behavior is not
recommended.</p>

<p style="margin-left:11%; margin-top: 1em">Warnings will
now be issued when the parser sees &quot;~~&quot;,
&quot;given&quot;, or &quot;when&quot;. To disable these
warnings, you can add this line to the appropriate
scope:</p>

<p style="margin-left:11%; margin-top: 1em">no if $] &gt;=
5.018, warnings =&gt;
&quot;experimental::smartmatch&quot;;</p>

<p style="margin-left:11%; margin-top: 1em">Consider,
though, replacing the use of these features, as they may
change behavior again before becoming stable.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Lexical $_
is now experimental</b> <br>
Since it was introduced in Perl v5.10, it has caused much
confusion with no obvious solution:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Various modules (e.g.,
List::Util) expect callback routines to use the global $_.
&quot;use List::Util 'first'; my $_; first { $_ == 1 }
@list&quot; does not work as one would expect.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A &quot;my $_&quot; declaration earlier in the same file
can cause confusing closure warnings.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The &quot;_&quot; subroutine prototype character allows
called subroutines to access your lexical $_, so it is not
really private after all.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Nevertheless, subroutines with a &quot;(@)&quot;
prototype and methods cannot access the caller&rsquo;s
lexical $_, unless they are written in
<small>XS.</small></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>But even <small>XS</small> routines cannot access a
lexical $_ declared, not in the calling subroutine, but in
an outer scope, iff that subroutine happened not to mention
$_ or use any operators that default to $_.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">It is our hope
that lexical $_ can be rehabilitated, but this may cause
changes in its behavior. Please use it with caution until it
becomes stable.</p>

<p style="margin-left:11%; margin-top: 1em"><b>readline()
with &quot;$/ = \N&quot; now reads N characters, not N
bytes</b> <br>
Previously, when reading from a stream with I/O layers such
as &quot;encoding&quot;, the <b>readline()</b> function,
otherwise known as the &quot;&lt;&gt;&quot; operator, would
read <i>N</i> bytes from the top-most layer. [perl
#79960]</p>

<p style="margin-left:11%; margin-top: 1em">Now, <i>N</i>
characters are read instead.</p>

<p style="margin-left:11%; margin-top: 1em">There is no
change in behaviour when reading from streams with no extra
layers, since bytes map exactly to characters.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Overridden
&quot;glob&quot; is now passed one argument</b> <br>
&quot;glob&quot; overrides used to be passed a magical
undocumented second argument that identified the caller.
Nothing on <small>CPAN</small> was using this, and it got in
the way of a bug fix, so it was removed. If you really need
to identify the caller, see Devel::Callsite on
<small>CPAN.</small></p>

<p style="margin-left:11%; margin-top: 1em"><b>Here doc
parsing</b> <br>
The body of a here document inside a quote-like operator now
always begins on the line after the &quot;&lt;&lt;foo&quot;
marker. Previously, it was documented to begin on the line
following the containing quote-like operator, but that was
only sometimes the case [perl #114040].</p>


<p style="margin-left:11%; margin-top: 1em"><b>Alphanumeric
operators must now be separated from the closing delimiter
of regular expressions</b> <br>
You may no longer write something like:</p>

<p style="margin-left:11%; margin-top: 1em">m/a/and 1</p>

<p style="margin-left:11%; margin-top: 1em">Instead you
must write</p>

<p style="margin-left:11%; margin-top: 1em">m/a/ and 1</p>

<p style="margin-left:11%; margin-top: 1em">with whitespace
separating the operator from the closing delimiter of the
regular expression. Not having whitespace has resulted in a
deprecation warning since Perl v5.14.0.</p>

<p style="margin-left:11%; margin-top: 1em"><b>qw(...) can
no longer be used as parentheses</b> <br>
&quot;qw&quot; lists used to fool the parser into thinking
they were always surrounded by parentheses. This permitted
some surprising constructions such as &quot;foreach $x qw(a
b c) {...}&quot;, which should really be written
&quot;foreach $x (qw(a b c)) {...}&quot;. These would
sometimes get the lexer into the wrong state, so they
didn&rsquo;t fully work, and the similar &quot;foreach qw(a
b c) {...}&quot; that one might expect to be permitted never
worked at all.</p>

<p style="margin-left:11%; margin-top: 1em">This side
effect of &quot;qw&quot; has now been abolished. It has been
deprecated since Perl v5.13.11. It is now necessary to use
real parentheses everywhere that the grammar calls for
them.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Interaction
of lexical and default warnings</b> <br>
Turning on any lexical warnings used first to disable all
default warnings if lexical warnings were not already
enabled:</p>

<p style="margin-left:11%; margin-top: 1em">$*; #
deprecation warning <br>
use warnings &quot;void&quot;; <br>
$#; # void warning; no deprecation warning</p>

<p style="margin-left:11%; margin-top: 1em">Now, the
&quot;debugging&quot;, &quot;deprecated&quot;,
&quot;glob&quot;, &quot;inplace&quot; and &quot;malloc&quot;
warnings categories are left on when turning on lexical
warnings (unless they are turned off by &quot;no
warnings&quot;, of course).</p>

<p style="margin-left:11%; margin-top: 1em">This may cause
deprecation warnings to occur in code that used to be free
of warnings.</p>

<p style="margin-left:11%; margin-top: 1em">Those are the
only categories consisting only of default warnings. Default
warnings in other categories are still disabled by &quot;use
warnings &quot;category&quot;&quot;, as we do not yet have
the infrastructure for controlling individual warnings.</p>

<p style="margin-left:11%; margin-top: 1em"><b>&quot;state
sub&quot; and &quot;our sub&quot;</b> <br>
Due to an accident of history, &quot;state sub&quot; and
&quot;our sub&quot; were equivalent to a plain
&quot;sub&quot;, so one could even create an anonymous sub
with &quot;our sub { ... }&quot;. These are now disallowed
outside of the &quot;lexical_subs&quot; feature. Under the
&quot;lexical_subs&quot; feature they have new meanings
described in &quot;Lexical Subroutines&quot; in perlsub.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Defined
values stored in environment are forced to byte strings</b>
<br>
A value stored in an environment variable has always been
stringified when inherited by child processes.</p>

<p style="margin-left:11%; margin-top: 1em">In this
release, when assigning to %ENV, values are immediately
stringified, and converted to be only a byte string.</p>

<p style="margin-left:11%; margin-top: 1em">First, it is
forced to be only a string. Then if the string is utf8 and
the equivalent of &quot;utf8::downgrade()&quot; works, that
result is used; otherwise, the equivalent of
&quot;utf8::encode()&quot; is used, and a warning is issued
about wide characters (&quot;Diagnostics&quot;).</p>


<p style="margin-left:11%; margin-top: 1em"><b>&quot;require&quot;
dies for unreadable files</b> <br>
When &quot;require&quot; encounters an unreadable file, it
now dies. It used to ignore the file and continue searching
the directories in @INC [perl #113422].</p>


<p style="margin-left:11%; margin-top: 1em"><b>&quot;gv_fetchmeth_*&quot;
and <small>SUPER</small></b> <br>
The various &quot;gv_fetchmeth_*&quot; <small>XS</small>
functions used to treat a package whose named ended with
&quot;::SUPER&quot; specially. A method lookup on the
&quot;Foo::SUPER&quot; package would be treated as a
&quot;SUPER&quot; method lookup on the &quot;Foo&quot;
package. This is no longer the case. To do a
&quot;SUPER&quot; lookup, pass the &quot;Foo&quot; stash and
the &quot;GV_SUPER&quot; flag.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&quot;split&quot;&rsquo;s
first argument is more consistently interpreted</b> <br>
After some changes earlier in v5.17,
&quot;split&quot;&rsquo;s behavior has been simplified: if
the <small>PATTERN</small> argument evaluates to a string
containing one space, it is treated the way that a
<i>literal</i> string containing one space once was.</p>

<h2>Deprecations
<a name="Deprecations"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Module
removals</b> <br>
The following modules will be removed from the core
distribution in a future release, and will at that time need
to be installed from <small>CPAN.</small> Distributions on
<small>CPAN</small> which require these modules will need to
list them as prerequisites.</p>

<p style="margin-left:11%; margin-top: 1em">The core
versions of these modules will now issue
&quot;deprecated&quot;&minus;category warnings to alert you
to this fact. To silence these deprecation warnings, install
the modules in question from <small>CPAN.</small></p>

<p style="margin-left:11%; margin-top: 1em">Note that these
are (with rare exceptions) fine modules that you are
encouraged to continue to use. Their disinclusion from core
primarily hinges on their necessity to bootstrapping a fully
functional, CPAN-capable Perl installation, not usually on
concerns over their design. <br>
encoding</p>

<p style="margin-left:17%;">The use of this pragma is now
strongly discouraged. It conflates the encoding of source
text with the encoding of I/O data, reinterprets escape
sequences in source text (a questionable choice), and
introduces the <small>UTF&minus;8</small> bug to all runtime
handling of character strings. It is broken as designed and
beyond repair.</p>

<p style="margin-left:17%; margin-top: 1em">For using
non-ASCII literal characters in source text, please refer to
utf8. For dealing with textual I/O data, please refer to
Encode and open.</p>

<p style="margin-left:11%;">Archive::Extract <br>
B::Lint <br>
B::Lint::Debug <small><br>
CPANPLUS</small> and all included &quot;CPANPLUS::*&quot;
modules <br>
Devel::InnerPackage <br>
Log::Message <br>
Log::Message::Config <br>
Log::Message::Handlers <br>
Log::Message::Item <br>
Log::Message::Simple <br>
Module::Pluggable <br>
Module::Pluggable::Object <br>
Object::Accessor <br>
Pod::LaTeX <br>
Term::UI <br>
Term::UI::History</p>

<p style="margin-left:11%; margin-top: 1em"><b>Deprecated
Utilities</b> <br>
The following utilities will be removed from the core
distribution in a future release as their associated modules
have been deprecated. They will remain available with the
applicable <small>CPAN</small> distribution. <br>
cpanp <br>
&quot;cpanp&minus;run&minus;perl&quot; <br>
cpan2dist</p>

<p style="margin-left:17%;">These items are part of the
&quot;CPANPLUS&quot; distribution.</p>

<p style="margin-left:11%;">pod2latex</p>

<p style="margin-left:17%;">This item is part of the
&quot;Pod::LaTeX&quot; distribution.</p>


<p style="margin-left:11%; margin-top: 1em"><b>PL_sv_objcount</b>
<br>
This interpreter-global variable used to track the total
number of Perl objects in the interpreter. It is no longer
maintained and will be removed altogether in Perl v5.20.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Five
additional characters should be escaped in patterns with
&quot;/x&quot;</b> <br>
When a regular expression pattern is compiled with
&quot;/x&quot;, Perl treats 6 characters as white space to
ignore, such as <small>SPACE</small> and <small>TAB.</small>
However, Unicode recommends 11 characters be treated thusly.
We will conform with this in a future Perl version. In the
meantime, use of any of the missing characters will raise a
deprecation warning, unless turned off. The five characters
are:</p>

<p style="margin-left:11%; margin-top: 1em">U+0085 NEXT
LINE <br>
U+200E LEFT&minus;TO&minus;RIGHT MARK <br>
U+200F RIGHT&minus;TO&minus;LEFT MARK <br>
U+2028 LINE SEPARATOR <br>
U+2029 PARAGRAPH SEPARATOR</p>


<p style="margin-left:11%; margin-top: 1em"><b>User-defined
charnames with surprising whitespace</b> <br>
A user-defined character name with trailing or multiple
spaces in a row is likely a typo. This now generates a
warning when defined, on the assumption that uses of it will
be unlikely to include the excess whitespace.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Various
XS-callable functions are now deprecated</b> <br>
All the functions used to classify characters will be
removed from a future version of Perl, and should not be
used. With participating C compilers (e.g., gcc), compiling
any file that uses any of these will generate a warning.
These were not intended for public use; there are
equivalent, faster, macros for most of them.</p>

<p style="margin-left:11%; margin-top: 1em">See
&quot;Character classes&quot; in perlapi. The complete list
is:</p>


<p style="margin-left:11%; margin-top: 1em">&quot;is_uni_alnum&quot;,
&quot;is_uni_alnumc&quot;, &quot;is_uni_alnumc_lc&quot;,
&quot;is_uni_alnum_lc&quot;, &quot;is_uni_alpha&quot;,
&quot;is_uni_alpha_lc&quot;, &quot;is_uni_ascii&quot;,
&quot;is_uni_ascii_lc&quot;, &quot;is_uni_blank&quot;,
&quot;is_uni_blank_lc&quot;, &quot;is_uni_cntrl&quot;,
&quot;is_uni_cntrl_lc&quot;, &quot;is_uni_digit&quot;,
&quot;is_uni_digit_lc&quot;, &quot;is_uni_graph&quot;,
&quot;is_uni_graph_lc&quot;, &quot;is_uni_idfirst&quot;,
&quot;is_uni_idfirst_lc&quot;, &quot;is_uni_lower&quot;,
&quot;is_uni_lower_lc&quot;, &quot;is_uni_print&quot;,
&quot;is_uni_print_lc&quot;, &quot;is_uni_punct&quot;,
&quot;is_uni_punct_lc&quot;, &quot;is_uni_space&quot;,
&quot;is_uni_space_lc&quot;, &quot;is_uni_upper&quot;,
&quot;is_uni_upper_lc&quot;, &quot;is_uni_xdigit&quot;,
&quot;is_uni_xdigit_lc&quot;, &quot;is_utf8_alnum&quot;,
&quot;is_utf8_alnumc&quot;, &quot;is_utf8_alpha&quot;,
&quot;is_utf8_ascii&quot;, &quot;is_utf8_blank&quot;,
&quot;is_utf8_char&quot;, &quot;is_utf8_cntrl&quot;,
&quot;is_utf8_digit&quot;, &quot;is_utf8_graph&quot;,
&quot;is_utf8_idcont&quot;, &quot;is_utf8_idfirst&quot;,
&quot;is_utf8_lower&quot;, &quot;is_utf8_mark&quot;,
&quot;is_utf8_perl_space&quot;,
&quot;is_utf8_perl_word&quot;,
&quot;is_utf8_posix_digit&quot;, &quot;is_utf8_print&quot;,
&quot;is_utf8_punct&quot;, &quot;is_utf8_space&quot;,
&quot;is_utf8_upper&quot;, &quot;is_utf8_xdigit&quot;,
&quot;is_utf8_xidcont&quot;,
&quot;is_utf8_xidfirst&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">In addition
these three functions that have never worked properly are
deprecated: &quot;to_uni_lower_lc&quot;,
&quot;to_uni_title_lc&quot;, and
&quot;to_uni_upper_lc&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Certain rare
uses of backslashes within regexes are now deprecated</b>
<br>
There are three pairs of characters that Perl recognizes as
metacharacters in regular expression patterns:
&quot;{}&quot;, &quot;[]&quot;, and &quot;()&quot;. These
can be used as well to delimit patterns, as in:</p>

<p style="margin-left:11%; margin-top: 1em">m{foo} <br>
s(foo)(bar)</p>

<p style="margin-left:11%; margin-top: 1em">Since they are
metacharacters, they have special meaning to regular
expression patterns, and it turns out that you can&rsquo;t
turn off that special meaning by the normal means of
preceding them with a backslash, if you use them, paired,
within a pattern delimited by them. For example, in</p>


<p style="margin-left:11%; margin-top: 1em">m{foo\{1,3\}}</p>

<p style="margin-left:11%; margin-top: 1em">the backslashes
do not change the behavior, and this matches
&quot;f&nbsp;o&quot; followed by one to three more
occurrences of &quot;o&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">Usages like
this, where they are interpreted as metacharacters, are
exceedingly rare; we think there are none, for example, in
all of <small>CPAN.</small> Hence, this deprecation should
affect very little code. It does give notice, however, that
any such code needs to change, which will in turn allow us
to change the behavior in future Perl versions so that the
backslashes do have an effect, and without fear that we are
silently breaking any existing code.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Splitting
the tokens &quot;(?&quot; and &quot;(*&quot; in regular
expressions</b> <br>
A deprecation warning is now raised if the &quot;(&quot; and
&quot;?&quot; are separated by white space or comments in
&quot;(?...)&quot; regular expression constructs. Similarly,
if the &quot;(&quot; and &quot;*&quot; are separated in
&quot;(*VERB...)&quot; constructs.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Pre-PerlIO
<small>IO</small> implementations</b> <br>
In theory, you can currently build perl without PerlIO.
Instead, you&rsquo;d use a wrapper around stdio or sfio. In
practice, this isn&rsquo;t very useful. It&rsquo;s not well
tested, and without any support for <small>IO</small> layers
or (thus) Unicode, it&rsquo;s not much of a perl. Building
without PerlIO will most likely be removed in the next
version of perl.</p>

<p style="margin-left:11%; margin-top: 1em">PerlIO supports
a &quot;stdio&quot; layer if stdio use is desired. Similarly
a sfio layer could be produced in the future, if needed.</p>

<h2>Future Deprecations
<a name="Future Deprecations"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="61%">


<p style="margin-top: 1em">Platforms without support
infrastructure</p> </td>
<td width="22%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Both Windows
<small>CE</small> and z/OS have been historically
under-maintained, and are currently neither successfully
building nor regularly being smoke tested. Efforts are
underway to change this situation, but it should not be
taken for granted that the platforms are safe and supported.
If they do not become buildable and regularly smoked,
support for them may be actively removed in future releases.
If you have an interest in these platforms and you can lend
your time, expertise, or hardware to help support these
platforms, please let the perl development effort know by
emailing &quot;perl5&minus;porters@perl.org&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">Some platforms
that appear otherwise entirely dead are also on the short
list for removal between now and v5.20.0: <small><br>
DG/UX</small> <br>
NeXT</p>

<p style="margin-left:17%; margin-top: 1em">We also think
it likely that current versions of Perl will no longer build
AmigaOS, <small>DJGPP,</small> NetWare (natively),
<small>OS/2</small> and Plan 9. If you are using Perl on
such a platform and have an interest in ensuring
Perl&rsquo;s future on them, please contact us.</p>

<p style="margin-left:17%; margin-top: 1em">We believe that
Perl has long been unable to build on mixed endian
architectures (such as PDP&minus;11s), and intend to remove
any remaining support code. Similarly, code supporting the
long unmaintained <small>GNU</small> dld will be removed
soon if no-one makes themselves known as an active user.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="32%">


<p>Swapping of $&lt; and $&gt;</p></td>
<td width="51%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Perl has
supported the idiom of swapping $&lt; and $&gt; (and
likewise $( and $)) to temporarily drop permissions since
5.0, like this:</p>

<p style="margin-left:17%; margin-top: 1em">($&lt;, $&gt;)
= ($&gt;, $&lt;);</p>

<p style="margin-left:17%; margin-top: 1em">However, this
idiom modifies the real user/group id, which can have
undesirable side-effects, is no longer useful on any
platform perl supports and complicates the implementation of
these variables and list assignment in general.</p>

<p style="margin-left:17%; margin-top: 1em">As an
alternative, assignment only to $&gt; is recommended:</p>

<p style="margin-left:17%; margin-top: 1em">local $&gt; =
$&lt;;</p>

<p style="margin-left:17%; margin-top: 1em">See also:
Setuid Demystified
&lt;http://www.cs.berkeley.edu/~daw/papers/setuid-usenix02.pdf&gt;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">&quot;microperl&quot;, long
broken and of unclear present purpose, will be removed.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Revamping &quot;\Q&quot; semantics in double-quotish
strings when combined with other escapes.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">There are
several bugs and inconsistencies involving combinations of
&quot;\Q&quot; and escapes like &quot;\x&quot;,
&quot;\L&quot;, etc., within a &quot;\Q...\E&quot; pair.
These need to be fixed, and doing so will necessarily change
current behavior. The changes have not yet been settled.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Use of $x, where &quot;x&quot;
stands for any actual (non-printing) C0 control character
will be disallowed in a future Perl version. Use
&quot;${x}&quot; instead (where again &quot;x&quot; stands
for a control character), or better, $^A , where
&quot;^&quot; is a caret ( <small>CIRCUMFLEX ACCENT</small>
), and &quot;A&quot; stands for any of the characters listed
at the end of &quot; <small>OPERATOR
DIFFERENCES&quot;</small> in perlebcdic.</p></td></tr>
</table>

<h2>Performance Enhancements
<a name="Performance Enhancements"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Lists of lexical variable
declarations (&quot;my($x, $y)&quot;) are now optimised down
to a single op and are hence faster than before.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A new C preprocessor define &quot;NO_TAINT_SUPPORT&quot;
was added that, if set, disables Perl&rsquo;s taint support
altogether. Using the &minus;T or &minus;t command line
flags will cause a fatal error. Beware that both core tests
as well as many a <small>CPAN</small> distribution&rsquo;s
tests will fail with this change. On the upside, it provides
a small performance benefit due to reduced branching.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em"><b>Do not
enable this unless you know exactly what you are getting
yourself into.</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">&quot;pack&quot; with constant
arguments is now constant folded in most cases [perl
#113470].</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Speed up in regular expression matching against Unicode
properties. The largest gain is for &quot;\X&quot;, the
Unicode &quot;extended grapheme cluster.&quot; The gain for
it is about 35% &minus; 40%. Bracketed character classes,
e.g., &quot;[0&minus;9\x{100}]&quot; containing code points
above 255 are also now faster.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>On platforms supporting it, several former macros are
now implemented as static inline functions. This should
speed things up slightly on non-GCC platforms.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The optimisation of hashes in boolean context has been
extended to affect &quot;scalar(%hash)&quot;, &quot;%hash ?
... : ...&quot;, and &quot;sub { %hash || ... }&quot;.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Filetest operators manage the stack in a fractionally
more efficient manner.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Globs used in a numeric context are now numified
directly in most cases, rather than being numified via
stringification.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The &quot;x&quot; repetition operator is now folded to a
single constant at compile time if called in scalar context
with constant operands and no parentheses around the left
operand.</p> </td></tr>
</table>

<h2>Modules and Pragmata
<a name="Modules and Pragmata"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>New Modules
and Pragmata</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Config::Perl::V version 0.16 has
been added as a dual-lifed module. It provides structured
data retrieval of &quot;perl &minus;V&quot; output including
information only known to the &quot;perl&quot; binary and
not available via Config.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em"><b>Updated
Modules and Pragmata</b> <br>
For a complete list of updates, run:</p>

<p style="margin-left:11%; margin-top: 1em">$ corelist
&minus;&minus;diff 5.16.0 5.18.0</p>

<p style="margin-left:11%; margin-top: 1em">You can
substitute your favorite version in place of 5.16.0,
too.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="66%">


<p style="margin-top: 1em">Archive::Extract has been
upgraded to 0.68.</p></td>
<td width="17%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Work around an
edge case on Linux with Busybox&rsquo;s unzip.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="60%">


<p style="margin-top: 1em">Archive::Tar has been upgraded
to 1.90.</p></td>
<td width="23%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">ptar now
supports the &minus;T option as well as dashless options
[rt.cpan.org #75473], [rt.cpan.org #75475].</p>

<p style="margin-left:17%; margin-top: 1em">Auto-encode
filenames marked as <small>UTF&minus;8</small> [rt.cpan.org
#75474].</p>

<p style="margin-left:17%; margin-top: 1em">Don&rsquo;t use
&quot;tell&quot; on IO::Zlib handles [rt.cpan.org
#64339].</p>

<p style="margin-left:17%; margin-top: 1em">Don&rsquo;t try
to &quot;chown&quot; on symlinks.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="52%">


<p style="margin-top: 1em">autodie has been upgraded to
2.13.</p> </td>
<td width="31%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">&quot;autodie&quot;
now plays nicely with the &rsquo;open&rsquo; pragma.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="43%">


<p style="margin-top: 1em">B has been upgraded to 1.42.</p></td>
<td width="40%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The
&quot;stashoff&quot; method of COPs has been added. This
provides access to an internal field added in perl 5.16
under threaded builds [perl #113034].</p>


<p style="margin-left:17%; margin-top: 1em">&quot;B::COP::stashpv&quot;
now supports <small>UTF&minus;8</small> package names and
embedded NULs.</p>

<p style="margin-left:17%; margin-top: 1em">All
&quot;CVf_*&quot; and &quot;GVf_*&quot; and more SV-related
flag values are now provided as constants in the
&quot;B::&quot; namespace and available for export. The
default export list has not changed.</p>

<p style="margin-left:17%; margin-top: 1em">This makes the
module work with the new pad <small>API.</small></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="57%">


<p style="margin-top: 1em">B::Concise has been upgraded to
0.95.</p> </td>
<td width="26%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The
&quot;&minus;nobanner&quot; option has been fixed, and
&quot;format&quot;s can now be dumped. When passed a sub
name to dump, it will check also to see whether it is the
name of a format. If a sub and a format share the same name,
it will dump both.</p>

<p style="margin-left:17%; margin-top: 1em">This adds
support for the new &quot;OpMAYBE_TRUEBOOL&quot; and
&quot;OPpTRUEBOOL&quot; flags.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="54%">


<p style="margin-top: 1em">B::Debug has been upgraded to
1.18.</p> </td>
<td width="29%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">This adds
support (experimentally) for &quot;B::PADLIST&quot;, which
was added in Perl 5.17.4.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="57%">


<p style="margin-top: 1em">B::Deparse has been upgraded to
1.20.</p> </td>
<td width="26%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Avoid warning
when run under &quot;perl &minus;w&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">It now deparses
loop controls with the correct precedence, and multiple
statements in a &quot;format&quot; line are also now
deparsed correctly.</p>

<p style="margin-left:17%; margin-top: 1em">This release
suppresses trailing semicolons in formats.</p>

<p style="margin-left:17%; margin-top: 1em">This release
adds stub deparsing for lexical subroutines.</p>

<p style="margin-left:17%; margin-top: 1em">It no longer
dies when deparsing &quot;sort&quot; without arguments. It
now correctly omits the comma for &quot;system $prog
@args&quot; and &quot;exec $prog @args&quot;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="81%">


<p style="margin-top: 1em">bignum, bigint and bigrat have
been upgraded to 0.33.</p></td>
<td width="2%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The overrides
for &quot;hex&quot; and &quot;oct&quot; have been rewritten,
eliminating several problems, and making one incompatible
change:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p style="margin-top: 1em">Formerly, whichever of &quot;use
bigint&quot; or &quot;use bigrat&quot; was compiled later
would take precedence over the other, causing
&quot;hex&quot; and &quot;oct&quot; not to respect the other
pragma when in scope.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p>Using any of these three pragmata would cause
&quot;hex&quot; and &quot;oct&quot; anywhere else in the
program to evaluate their arguments in list context and
prevent them from inferring $_ when called without
arguments.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p>Using any of these three pragmata would make
&quot;oct(&quot;1234&quot;)&quot; return 1234 (for any
number not beginning with 0) anywhere in the program. Now
&quot;1234&quot; is translated from octal to decimal,
whether within the pragma&rsquo;s scope or not.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p>The global overrides that facilitate lexical use of
&quot;hex&quot; and &quot;oct&quot; now respect any existing
overrides that were in place before the new overrides were
installed, falling back to them outside of the scope of
&quot;use bignum&quot;.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p>&quot;use bignum &quot;hex&quot;&quot;, &quot;use bignum
&quot;oct&quot;&quot; and similar invocations for bigint and
bigrat now export a &quot;hex&quot; or &quot;oct&quot;
function, instead of providing a global override.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="77%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Carp has been
upgraded to 1.29.</p>

<p style="margin-left:17%; margin-top: 1em">Carp is no
longer confused when &quot;caller&quot; returns undef for a
package that has been deleted.</p>

<p style="margin-left:17%; margin-top: 1em">The
&quot;longmess()&quot; and &quot;shortmess()&quot; functions
are now documented.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="46%">


<p style="margin-top: 1em"><small>CGI</small> has been
upgraded to 3.63.</p></td>
<td width="37%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Unrecognized
<small>HTML</small> escape sequences are now handled better,
problematic trailing newlines are no longer inserted after
&lt;form&gt; tags by &quot;startform()&quot; or
&quot;start_form()&quot;, and bogus &quot;Insecure
Dependency&quot; warnings appearing with some versions of
perl are now worked around.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="61%">


<p style="margin-top: 1em">Class::Struct has been upgraded
to 0.64.</p></td>
<td width="22%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The constructor
now respects overridden accessor methods [perl #29230].</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="74%">


<p style="margin-top: 1em">Compress::Raw::Bzip2 has been
upgraded to 2.060.</p></td>
<td width="9%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The misuse of
Perl&rsquo;s &quot;magic&quot; <small>API</small> has been
fixed.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="72%">


<p style="margin-top: 1em">Compress::Raw::Zlib has been
upgraded to 2.060.</p></td>
<td width="11%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Upgrade bundled
zlib to version 1.2.7.</p>

<p style="margin-left:17%; margin-top: 1em">Fix build
failures on Irix, Solaris, and Win32, and also when building
as C <small>++</small> [rt.cpan.org #69985], [rt.cpan.org
#77030], [rt.cpan.org #75222].</p>

<p style="margin-left:17%; margin-top: 1em">The misuse of
Perl&rsquo;s &quot;magic&quot; <small>API</small> has been
fixed.</p>


<p style="margin-left:17%; margin-top: 1em">&quot;compress()&quot;,
&quot;uncompress()&quot;, &quot;memGzip()&quot; and
&quot;memGunzip()&quot; have been speeded up by making
parameter validation more efficient.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="80%">


<p style="margin-top: 1em">CPAN::Meta::Requirements has
been upgraded to 2.122.</p></td>
<td width="3%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Treat undef
requirements to &quot;from_string_hash&quot; as 0 (with a
warning).</p>

<p style="margin-left:17%; margin-top: 1em">Added
&quot;requirements_for_module&quot; method.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="57%">


<p style="margin-top: 1em"><small>CPANPLUS</small> has been
upgraded to 0.9135.</p></td>
<td width="26%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Allow adding
<i>blib/script</i> to <small>PATH.</small></p>

<p style="margin-left:17%; margin-top: 1em">Save the
history between invocations of the shell.</p>

<p style="margin-left:17%; margin-top: 1em">Handle multiple
&quot;makemakerargs&quot; and &quot;makeflags&quot;
arguments better.</p>

<p style="margin-left:17%; margin-top: 1em">This resolves
issues with the SQLite source engine.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="61%">


<p style="margin-top: 1em">Data::Dumper has been upgraded
to 2.145.</p></td>
<td width="22%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">It has been
optimized to only build a seen-scalar hash as necessary,
thereby speeding up serialization drastically.</p>

<p style="margin-left:17%; margin-top: 1em">Additional
tests were added in order to improve statement, branch,
condition and subroutine coverage. On the basis of the
coverage analysis, some of the internals of Dumper.pm were
refactored. Almost all methods are now documented.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="54%">


<p style="margin-top: 1em">DB_File has been upgraded to
1.827.</p> </td>
<td width="29%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The main Perl
module no longer uses the &quot;@_&quot; construct.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="58%">


<p style="margin-top: 1em">Devel::Peek has been upgraded to
1.11.</p> </td>
<td width="25%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">This fixes
compilation with C <small>++</small> compilers and makes the
module work with the new pad <small>API.</small></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="58%">


<p style="margin-top: 1em">Digest::MD5 has been upgraded to
2.52.</p> </td>
<td width="25%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Fix
&quot;Digest::Perl::MD5&quot; <small>OO</small> fallback
[rt.cpan.org #66634].</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="58%">


<p style="margin-top: 1em">Digest::SHA has been upgraded to
5.84.</p> </td>
<td width="25%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">This fixes a
double-free bug, which might have caused vulnerabilities in
some cases.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="57%">


<p style="margin-top: 1em">DynaLoader has been upgraded to
1.18.</p> </td>
<td width="26%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">This is due to
a minor code change in the <small>XS</small> for the
<small>VMS</small> implementation.</p>

<p style="margin-left:17%; margin-top: 1em">This fixes
warnings about using &quot;CODE&quot; sections without an
&quot;OUTPUT&quot; section.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="51%">


<p style="margin-top: 1em">Encode has been upgraded to
2.49.</p> </td>
<td width="32%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The Mac alias
x&minus;mac-ce has been added, and various bugs have been
fixed in Encode::Unicode, Encode::UTF7 and
Encode::GSM0338.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="46%">


<p style="margin-top: 1em">Env has been upgraded to
1.04.</p> </td>
<td width="37%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Its
<small>SPLICE</small> implementation no longer misbehaves in
list context.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="75%">


<p style="margin-top: 1em">ExtUtils::CBuilder has been
upgraded to 0.280210.</p></td>
<td width="8%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Manifest files
are now correctly embedded for those versions of
<small>VC++</small> which make use of them. [perl #111782,
#111798].</p>

<p style="margin-left:17%; margin-top: 1em">A list of
symbols to export can now be passed to &quot;link()&quot;
when on Windows, as on other OSes [perl #115100].</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="68%">


<p style="margin-top: 1em">ExtUtils::ParseXS has been
upgraded to 3.18.</p></td>
<td width="15%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The generated C
code now avoids unnecessarily incrementing
&quot;PL_amagic_generation&quot; on Perl versions where
it&rsquo;s done automatically (or on current Perl where the
variable no longer exists).</p>

<p style="margin-left:17%; margin-top: 1em">This avoids a
bogus warning for initialised <small>XSUB</small>
non-parameters [perl #112776].</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="57%">


<p style="margin-top: 1em">File::Copy has been upgraded to
2.26.</p> </td>
<td width="26%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">&quot;copy()&quot;
no longer zeros files when copying into the same directory,
and also now fails (as it has long been documented to do)
when attempting to copy a file over itself.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="61%">


<p style="margin-top: 1em">File::DosGlob has been upgraded
to 1.10.</p></td>
<td width="22%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The internal
cache of file names that it keeps for each caller is now
freed when that caller is freed. This means &quot;use
File::DosGlob 'glob'; eval 'scalar &lt;*&gt;'&quot; no
longer leaks memory.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="58%">


<p style="margin-top: 1em">File::Fetch has been upgraded to
0.38.</p> </td>
<td width="25%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Added the
&rsquo;file_default&rsquo; option for URLs that do not have
a file component.</p>

<p style="margin-left:17%; margin-top: 1em">Use
&quot;File::HomeDir&quot; when available, and provide
&quot;PERL5_CPANPLUS_HOME&quot; to override the
autodetection.</p>

<p style="margin-left:17%; margin-top: 1em">Always re-fetch
<i><small>CHECKSUMS</small></i> if &quot;fetchdir&quot; is
set.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="57%">


<p style="margin-top: 1em">File::Find has been upgraded to
1.23.</p> </td>
<td width="26%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">This fixes
inconsistent unixy path handling on <small>VMS.</small></p>

<p style="margin-left:17%; margin-top: 1em">Individual
files may now appear in list of directories to be searched
[perl #59750].</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="57%">


<p style="margin-top: 1em">File::Glob has been upgraded to
1.20.</p> </td>
<td width="26%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">File::Glob has
had exactly the same fix as File::DosGlob. Since it is what
Perl&rsquo;s own &quot;glob&quot; operator itself uses
(except on <small>VMS</small> ), this means &quot;eval
'scalar &lt;*&gt;'&quot; no longer leaks.</p>

<p style="margin-left:17%; margin-top: 1em">A
space-separated list of patterns return long lists of
results no longer results in memory corruption or crashes.
This bug was introduced in Perl 5.16.0. [perl #114984]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="66%">


<p style="margin-top: 1em">File::Spec::Unix has been
upgraded to 3.40.</p></td>
<td width="17%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">&quot;abs2rel&quot;
could produce incorrect results when given two relative
paths or the root directory twice [perl #111510].</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="57%">


<p style="margin-top: 1em">File::stat has been upgraded to
1.07.</p> </td>
<td width="26%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">&quot;File::stat&quot;
ignores the filetest pragma, and warns when used in
combination therewith. But it was not warning for
&quot;&minus;r&quot;. This has been fixed [perl
#111640].</p>


<p style="margin-left:17%; margin-top: 1em">&quot;&minus;p&quot;
now works, and does not return false for pipes [perl
#111638].</p>

<p style="margin-left:17%; margin-top: 1em">Previously
&quot;File::stat&quot;&rsquo;s overloaded
&quot;&minus;x&quot; and &quot;&minus;X&quot; operators did
not give the correct results for directories or executable
files when running as root. They had been treating
executable permissions for root just like for any other
user, performing group membership tests <i>etc</i> for files
not owned by root. They now follow the correct Unix
behaviour &minus; for a directory they are always true, and
for a file if any of the three execute permission bits are
set then they report that root can execute the file.
Perl&rsquo;s builtin &quot;&minus;x&quot; and
&quot;&minus;X&quot; operators have always been correct.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="55%">


<p style="margin-top: 1em">File::Temp has been upgraded to
0.23</p> </td>
<td width="28%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Fixes various
bugs involving directory removal. Defers unlinking tempfiles
if the initial unlink fails, which fixes problems on
<small>NFS.</small></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="55%">


<p style="margin-top: 1em">GDBM_File has been upgraded to
1.15.</p> </td>
<td width="28%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The
undocumented optional fifth parameter to &quot;TIEHASH&quot;
has been removed. This was intended to provide control of
the callback used by &quot;gdbm*&quot; functions in case of
fatal errors (such as filesystem problems), but did not work
(and could never have worked). No code on
<small>CPAN</small> even attempted to use it. The callback
is now always the previous default, &quot;croak&quot;.
Problems on some platforms with how the &quot;C&quot;
&quot;croak&quot; function is called have also been
resolved.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="57%">


<p style="margin-top: 1em">Hash::Util has been upgraded to
0.15.</p> </td>
<td width="26%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">&quot;hash_unlocked&quot;
and &quot;hashref_unlocked&quot; now returns true if the
hash is unlocked, instead of always returning false [perl
#112126].</p>


<p style="margin-left:17%; margin-top: 1em">&quot;hash_unlocked&quot;,
&quot;hashref_unlocked&quot;, &quot;lock_hash_recurse&quot;
and &quot;unlock_hash_recurse&quot; are now exportable [perl
#112126].</p>

<p style="margin-left:17%; margin-top: 1em">Two new
functions, &quot;hash_locked&quot; and
&quot;hashref_locked&quot;, have been added. Oddly enough,
these two functions were already exported, even though they
did not exist [perl #112126].</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="58%">


<p style="margin-top: 1em">HTTP::Tiny has been upgraded to
0.025.</p> </td>
<td width="25%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Add
<small>SSL</small> verification features [github #6],
[github #9].</p>

<p style="margin-left:17%; margin-top: 1em">Include the
final <small>URL</small> in the response hashref.</p>

<p style="margin-left:17%; margin-top: 1em">Add
&quot;local_address&quot; option.</p>

<p style="margin-left:17%; margin-top: 1em">This improves
<small>SSL</small> support.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="45%">


<p style="margin-top: 1em"><small>IO</small> has been
upgraded to 1.28.</p></td>
<td width="38%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">&quot;sync()&quot;
can now be called on read-only file handles [perl
#64772].</p>

<p style="margin-left:17%; margin-top: 1em">IO::Socket
tries harder to cache or otherwise fetch socket
information.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="54%">


<p style="margin-top: 1em">IPC::Cmd has been upgraded to
0.80.</p> </td>
<td width="29%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Use
&quot;POSIX::_exit&quot; instead of &quot;exit&quot; in
&quot;run_forked&quot; [rt.cpan.org #76901].</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="57%">


<p style="margin-top: 1em">IPC::Open3 has been upgraded to
1.13.</p> </td>
<td width="26%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The
&quot;open3()&quot; function no longer uses
&quot;POSIX::close()&quot; to close file descriptors since
that breaks the ref-counting of file descriptors done by
PerlIO in cases where the file descriptors are shared by
PerlIO streams, leading to attempts to close the file
descriptors a second time when any such PerlIO streams are
closed later on.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="61%">


<p style="margin-top: 1em">Locale::Codes has been upgraded
to 3.25.</p></td>
<td width="22%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">It includes
some new codes.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="52%">


<p style="margin-top: 1em">Memoize has been upgraded to
1.03.</p> </td>
<td width="31%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Fix the
&quot;MERGE&quot; cache option.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="65%">


<p style="margin-top: 1em">Module::Build has been upgraded
to 0.4003.</p></td>
<td width="18%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Fixed bug where
modules without $VERSION might have a version of
&rsquo;0&rsquo; listed in &rsquo;provides&rsquo; metadata,
which will be rejected by <small>PAUSE.</small></p>

<p style="margin-left:17%; margin-top: 1em">Fixed bug in
PodParser to allow numerals in module names.</p>

<p style="margin-left:17%; margin-top: 1em">Fixed bug where
giving arguments twice led to them becoming arrays,
resulting in install paths like
<b><i><small>ARRAY</small></i></b>
<i>(0xdeadbeef)/lib/Foo.pm</i>.</p>

<p style="margin-left:17%; margin-top: 1em">A minor bug fix
allows markup to be used around the leading &quot;Name&quot;
in a <small>POD</small> &quot;abstract&quot; line, and some
documentation improvements have been made.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="65%">


<p style="margin-top: 1em">Module::CoreList has been
upgraded to 2.90</p></td>
<td width="18%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Version
information is now stored as a delta, which greatly reduces
the size of the <i>CoreList.pm</i> file.</p>

<p style="margin-left:17%; margin-top: 1em">This restores
compatibility with older versions of perl and cleans up the
corelist data for various modules.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="80%">


<p style="margin-top: 1em">Module::Load::Conditional has
been upgraded to 0.54.</p></td>
<td width="3%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Fix use of
&quot;requires&quot; on perls installed to a path with
spaces.</p>

<p style="margin-left:17%; margin-top: 1em">Various
enhancements include the new use of Module::Metadata.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="72%">


<p style="margin-top: 1em">Module::Metadata has been
upgraded to 1.000011.</p></td>
<td width="11%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The creation of
a Module::Metadata object for a typical module file has been
sped up by about 40%, and some spurious warnings about
$VERSIONs have been suppressed.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="66%">


<p style="margin-top: 1em">Module::Pluggable has been
upgraded to 4.7.</p></td>
<td width="17%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Amongst other
changes, triggers are now allowed on events, which gives a
powerful way to modify behaviour.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="55%">


<p style="margin-top: 1em">Net::Ping has been upgraded to
2.41.</p> </td>
<td width="28%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">This fixes some
test failures on Windows.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="51%">


<p style="margin-top: 1em">Opcode has been upgraded to
1.25.</p> </td>
<td width="32%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Reflect the
removal of the boolkeys opcode and the addition of the
clonecv, introcv and padcv opcodes.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="54%">


<p style="margin-top: 1em">overload has been upgraded to
1.22.</p> </td>
<td width="29%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">&quot;no
overload&quot; now warns for invalid arguments, just like
&quot;use overload&quot;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="66%">


<p style="margin-top: 1em">PerlIO::encoding has been
upgraded to 0.16.</p></td>
<td width="17%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">This is the
module implementing the &quot;:encoding(...)&quot; I/O
layer. It no longer corrupts memory or crashes when the
encoding back-end reallocates the buffer or gives it a
typeglob or shared hash key scalar.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="63%">


<p style="margin-top: 1em">PerlIO::scalar has been upgraded
to 0.16.</p></td>
<td width="20%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The buffer
scalar supplied may now only contain code points 0xFF or
lower. [perl #109828]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="61%">


<p style="margin-top: 1em">Perl::OSType has been upgraded
to 1.003.</p></td>
<td width="22%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">This fixes a
bug detecting the <small>VOS</small> operating system.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="55%">


<p style="margin-top: 1em">Pod::Html has been upgraded to
1.18.</p> </td>
<td width="28%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The option
&quot;&minus;&minus;libpods&quot; has been reinstated. It is
deprecated, and its use does nothing other than issue a
warning that it is no longer supported.</p>

<p style="margin-left:17%; margin-top: 1em">Since the
<small>HTML</small> files generated by pod2html claim to
have a <small>UTF&minus;8</small> charset, actually write
the files out using <small>UTF&minus;8</small> [perl
#111446].</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="58%">


<p style="margin-top: 1em">Pod::Simple has been upgraded to
3.28.</p> </td>
<td width="25%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Numerous
improvements have been made, mostly to Pod::Simple::XHTML,
which also has a compatibility change: the
&quot;codes_in_verbatim&quot; option is now disabled by
default. See <i>cpan/Pod&minus;Simple/ChangeLog</i> for the
full details.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="43%">


<p style="margin-top: 1em">re has been upgraded to 0.23</p></td>
<td width="40%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Single
character [class]es like &quot;/[s]/&quot; or
&quot;/[s]/i&quot; are now optimized as if they did not have
the brackets, i.e. &quot;/s/&quot; or &quot;/s/i&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">See note about
&quot;op_comp&quot; in the &quot;Internal Changes&quot;
section below.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="48%">


<p style="margin-top: 1em">Safe has been upgraded to
2.35.</p> </td>
<td width="35%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Fix
interactions with &quot;Devel::Cover&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">Don&rsquo;t
eval code under &quot;no strict&quot;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="72%">


<p style="margin-top: 1em">Scalar::Util has been upgraded
to version 1.27.</p></td>
<td width="11%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Fix an
overloading issue with &quot;sum&quot;.</p>


<p style="margin-left:17%; margin-top: 1em">&quot;first&quot;
and &quot;reduce&quot; now check the callback first (so
&amp;first(1) is disallowed).</p>

<p style="margin-left:17%; margin-top: 1em">Fix
&quot;tainted&quot; on magical values [rt.cpan.org
#55763].</p>

<p style="margin-left:17%; margin-top: 1em">Fix
&quot;sum&quot; on previously magical values [rt.cpan.org
#61118].</p>

<p style="margin-left:17%; margin-top: 1em">Fix reading
past the end of a fixed buffer [rt.cpan.org #72700].</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="60%">


<p style="margin-top: 1em">Search::Dict has been upgraded
to 1.07.</p></td>
<td width="23%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">No longer
require &quot;stat&quot; on filehandles.</p>

<p style="margin-left:17%; margin-top: 1em">Use
&quot;fc&quot; for casefolding.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="52%">


<p style="margin-top: 1em">Socket has been upgraded to
2.009.</p> </td>
<td width="31%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Constants and
functions required for <small>IP</small> multicast source
group membership have been added.</p>


<p style="margin-left:17%; margin-top: 1em">&quot;unpack_sockaddr_in()&quot;
and &quot;unpack_sockaddr_in6()&quot; now return just the
<small>IP</small> address in scalar context, and
&quot;inet_ntop()&quot; now guards against incorrect length
scalars being passed in.</p>

<p style="margin-left:17%; margin-top: 1em">This fixes an
uninitialized memory read.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="54%">


<p style="margin-top: 1em">Storable has been upgraded to
2.41.</p> </td>
<td width="29%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Modifying $_[0]
within &quot;STORABLE_freeze&quot; no longer results in
crashes [perl #112358].</p>

<p style="margin-left:17%; margin-top: 1em">An object whose
class implements &quot;STORABLE_attach&quot; is now thawed
only once when there are multiple references to it in the
structure being thawed [perl #111918].</p>

<p style="margin-left:17%; margin-top: 1em">Restricted
hashes were not always thawed correctly [perl #73972].</p>

<p style="margin-left:17%; margin-top: 1em">Storable would
croak when freezing a blessed <small>REF</small> object with
a &quot;STORABLE_freeze()&quot; method [perl #113880].</p>

<p style="margin-left:17%; margin-top: 1em">It can now
freeze and thaw vstrings correctly. This causes a slight
incompatible change in the storage format, so the format
version has increased to 2.9.</p>

<p style="margin-left:17%; margin-top: 1em">This contains
various bugfixes, including compatibility fixes for older
versions of Perl and vstring handling.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="58%">


<p style="margin-top: 1em">Sys::Syslog has been upgraded to
0.32.</p> </td>
<td width="25%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">This contains
several bug fixes relating to &quot;getservbyname()&quot;,
&quot;setlogsock()&quot;and log levels in
&quot;syslog()&quot;, together with fixes for Windows,
Haiku-OS and GNU/kFreeBSD. See
<i>cpan/Sys&minus;Syslog/Changes</i> for the full
details.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="65%">


<p style="margin-top: 1em">Term::ANSIColor has been
upgraded to 4.02.</p></td>
<td width="18%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Add support for
italics.</p>

<p style="margin-left:17%; margin-top: 1em">Improve error
handling.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Term::ReadLine has been upgraded
to 1.10. This fixes the use of the <b>cpan</b> and
<b>cpanp</b> shells on Windows in the event that the current
drive happens to contain a <i>\dev\tty</i> file.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Test::Harness has been upgraded to 3.26.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Fix glob
semantics on Win32 [rt.cpan.org #49732].</p>

<p style="margin-left:17%; margin-top: 1em">Don&rsquo;t use
&quot;Win32::GetShortPathName&quot; when calling perl
[rt.cpan.org #47890].</p>

<p style="margin-left:17%; margin-top: 1em">Ignore &minus;T
when reading shebang [rt.cpan.org #64404].</p>

<p style="margin-left:17%; margin-top: 1em">Handle the case
where we don&rsquo;t know the wait status of the test more
gracefully.</p>

<p style="margin-left:17%; margin-top: 1em">Make the test
summary &rsquo;ok&rsquo; line overridable so that it can be
changed to a plugin to make the output of prove
idempotent.</p>

<p style="margin-left:17%; margin-top: 1em">Don&rsquo;t run
world-writable files.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Text::Tabs and Text::Wrap have
been upgraded to 2012.0818. Support for Unicode combining
characters has been added to them both.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>threads::shared has been upgraded to 1.31.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">This adds the
option to warn about or ignore attempts to clone structures
that can&rsquo;t be cloned, as opposed to just
unconditionally dying in that case.</p>

<p style="margin-left:17%; margin-top: 1em">This adds
support for dual-valued values as created by
Scalar::Util::dualvar.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="61%">


<p style="margin-top: 1em">Tie::StdHandle has been upgraded
to 4.3.</p></td>
<td width="22%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">&quot;READ&quot;
now respects the offset argument to &quot;read&quot; [perl
#112826].</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="61%">


<p style="margin-top: 1em">Time::Local has been upgraded to
1.2300.</p> </td>
<td width="22%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Seconds values
greater than 59 but less than 60 no longer cause
&quot;timegm()&quot; and &quot;timelocal()&quot; to
croak.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="60%">


<p style="margin-top: 1em">Unicode::UCD has been upgraded
to 0.53.</p></td>
<td width="23%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">This adds a
function <b>all_casefolds()</b> that returns all the
casefolds.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="49%">


<p style="margin-top: 1em">Win32 has been upgraded to
0.47.</p> </td>
<td width="34%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">New APIs have
been added for getting and setting the current code
page.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Removed
Modules and Pragmata</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Version::Requirements has been
removed from the core distribution. It is available under a
different name: CPAN::Meta::Requirements.</p></td></tr>
</table>

<h2>Documentation
<a name="Documentation"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Changes to
Existing Documentation</b> <i><br>
perlcheat</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">perlcheat has been reorganized,
and a few new sections were added.</p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><i>perldata</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Now explicitly documents the
behaviour of hash initializer lists that contain duplicate
keys.</p> </td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><i>perldiag</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The explanation of symbolic
references being prevented by &quot;strict refs&quot; now
doesn&rsquo;t assume that the reader knows what symbolic
references are.</p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><i>perlfaq</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">perlfaq has been synchronized
with version 5.0150040 from <small>CPAN.</small></p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><i>perlfunc</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="69%">


<p style="margin-top: 1em">The return value of
&quot;pipe&quot; is now documented.</p></td>
<td width="14%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="69%">


<p>Clarified documentation of &quot;our&quot;.</p></td>
<td width="14%">
</td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><i>perlop</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Loop control verbs
(&quot;dump&quot;, &quot;goto&quot;, &quot;next&quot;,
&quot;last&quot; and &quot;redo&quot;) have always had the
same precedence as assignment operators, but this was not
documented until now.</p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><i>Diagnostics</i></p>

<p style="margin-left:11%; margin-top: 1em">The following
additions or changes have been made to diagnostic output,
including warnings and fatal error messages. For the
complete list of diagnostic messages, see perldiag.</p>

<p style="margin-left:11%; margin-top: 1em"><b>New
Diagnostics</b> <i><br>
New Errors</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="61%">


<p style="margin-top: 1em">Unterminated delimiter for here
document</p> </td>
<td width="22%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">This message
now occurs when a here document label has an initial
quotation mark but the final quotation mark is missing.</p>

<p style="margin-left:17%; margin-top: 1em">This replaces a
bogus and misleading error message about not finding the
label itself [perl #114104].</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="72%">


<p style="margin-top: 1em">panic: child pseudo-process was
never scheduled</p></td>
<td width="11%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">This error is
thrown when a child pseudo-process in the ithreads
implementation on Windows was not scheduled within the time
period allowed and therefore was not able to initialize
properly [perl #88840].</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Group name must start with a
non-digit word character in regex; marked by
&lt;&minus;&minus; <small>HERE</small> in m/%s/</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">This error has
been added for &quot;(?&amp;0)&quot;, which is invalid. It
used to produce an incomprehensible error message [perl
#101666].</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Can&rsquo;t use an undefined
value as a subroutine reference</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Calling an
undefined value as a subroutine now produces this error
message. It used to, but was accidentally disabled, first in
Perl 5.004 for non-magical variables, and then in Perl v5.14
for magical (e.g., tied) variables. It has now been
restored. In the mean time, undef was treated as an empty
string [perl #113576].</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="52%">


<p style="margin-top: 1em">Experimental &quot;%s&quot; subs
not enabled</p></td>
<td width="31%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">To use lexical
subs, you must first enable them:</p>

<p style="margin-left:17%; margin-top: 1em">no warnings
'experimental::lexical_subs'; <br>
use feature 'lexical_subs'; <br>
my sub foo { ... }</p>

<p style="margin-left:11%; margin-top: 1em"><i>New
Warnings</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">&rsquo;Strings with code points
over 0xFF may not be mapped into in-memory file
handles&rsquo;</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&rsquo;%s&rsquo; resolved to &rsquo;\o{%s}%d&rsquo;</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&rsquo;Trailing white-space in a charnames alias
definition is deprecated&rsquo;</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&rsquo;A sequence of multiple spaces in a charnames
alias definition is deprecated&rsquo;</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&rsquo;Passing malformed <small>UTF&minus;8</small> to
&quot;%s&quot; is deprecated&rsquo;</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Subroutine &quot;&amp;%s&quot; is not available</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">(W closure)
During compilation, an inner named subroutine or eval is
attempting to capture an outer lexical subroutine that is
not currently available. This can happen for one of two
reasons. First, the lexical subroutine may be declared in an
outer anonymous subroutine that has not yet been created.
(Remember that named subs are created at compile time, while
anonymous subs are created at run-time.) For example,</p>

<p style="margin-left:17%; margin-top: 1em">sub { my sub a
{...} sub f { \&amp;a } }</p>

<p style="margin-left:17%; margin-top: 1em">At the time
that f is created, it can&rsquo;t capture the current the
&quot;a&quot; sub, since the anonymous subroutine
hasn&rsquo;t been created yet. Conversely, the following
won&rsquo;t give a warning since the anonymous subroutine
has by now been created and is live:</p>

<p style="margin-left:17%; margin-top: 1em">sub { my sub a
{...} eval 'sub f { \&amp;a }' }&minus;&gt;();</p>

<p style="margin-left:17%; margin-top: 1em">The second
situation is caused by an eval accessing a variable that has
gone out of scope, for example,</p>

<p style="margin-left:17%; margin-top: 1em">sub f { <br>
my sub a {...} <br>
sub { eval '\&amp;a' } <br>
} <br>
f()&minus;&gt;();</p>

<p style="margin-left:17%; margin-top: 1em">Here, when the
&rsquo;\&amp;a&rsquo; in the eval is being compiled, f() is
not currently being executed, so its &amp;a is not available
for capture.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">&quot;%s&quot; subroutine
&amp;%s masks earlier declaration in same %s</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">(W misc) A
&quot;my&quot; or &quot;state&quot; subroutine has been
redeclared in the current scope or statement, effectively
eliminating all access to the previous instance. This is
almost always a typographical error. Note that the earlier
subroutine will still exist until the end of the scope or
until all closure references to it are destroyed.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="46%">


<p style="margin-top: 1em">The %s feature is
experimental</p> </td>
<td width="37%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">(S
experimental) This warning is emitted if you enable an
experimental feature via &quot;use feature&quot;. Simply
suppress the warning if you want to use the feature, but
know that in doing so you are taking the risk of using an
experimental feature which may change or be removed in a
future Perl version:</p>

<p style="margin-left:17%; margin-top: 1em">no warnings
&quot;experimental::lexical_subs&quot;; <br>
use feature &quot;lexical_subs&quot;;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="29%">


<p style="margin-top: 1em">sleep(%u) too large</p></td>
<td width="54%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">(W overflow)
You called &quot;sleep&quot; with a number that was larger
than it can reliably handle and &quot;sleep&quot; probably
slept for less time than requested.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="37%">


<p style="margin-top: 1em">Wide character in setenv</p></td>
<td width="46%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Attempts to put
wide characters into environment variables via %ENV now
provoke this warning.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="57%">


<p style="margin-top: 1em">&quot;Invalid negative number
(%s) in chr&quot;</p></td>
<td width="26%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">&quot;chr()&quot;
now warns when passed a negative value [perl #83048].</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="41%">


<p style="margin-top: 1em">&quot;Integer overflow in
srand&quot;</p> </td>
<td width="42%">
</td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">&quot;srand()&quot;
now warns when passed a value that doesn&rsquo;t fit in a
&quot;UV&quot; (since the value will be truncated rather
than overflowing) [perl #40605].</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">&quot;&minus;i used with no
filenames on the command line, reading from
<small>STDIN</small> &quot;</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Running perl
with the &quot;&minus;i&quot; flag now warns if no input
files are provided on the command line [perl #113410].</p>

<p style="margin-left:11%; margin-top: 1em"><b>Changes to
Existing Diagnostics</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="38%">


<p style="margin-top: 1em">$* is no longer supported</p></td>
<td width="45%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The warning
that use of $* and $# is no longer supported is now
generated for every location that references them.
Previously it would fail to be generated if another variable
using the same typeglob was seen first (e.g. &quot;@*&quot;
before $*), and would not be generated for the second and
subsequent uses. (It&rsquo;s hard to fix the failure to
generate warnings at all without also generating them every
time, and warning every time is consistent with the warnings
that $[ used to generate.)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The warnings for &quot;\b{&quot;
and &quot;\B{&quot; were added. They are a deprecation
warning which should be turned off by that category. One
should not have to turn off regular regexp warnings as well
to get rid of these.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Constant(%s): Call to &amp;{$^H{%s}} did not return a
defined value</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Constant
overloading that returns &quot;undef&quot; results in this
error message. For numeric constants, it used to say
&quot;Constant(undef)&quot;. &quot;undef&quot; has been
replaced with the number itself.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The error produced when a module
cannot be loaded now includes a hint that the module may
need to be installed: &quot;Can&rsquo;t locate hopping.pm in
@INC (you may need to install the hopping module) (@INC
contains: ...)&quot;</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>vector argument not supported with alpha versions</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">This warning
was not suppressible, even with &quot;no warnings&quot;. Now
it is suppressible, and has been moved from the
&quot;internal&quot; category to the &quot;printf&quot;
category.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">&quot;Can't do {n,m} with n &gt;
m in regex; marked by &lt;&minus;&minus; HERE in
m/%s/&quot;</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">This fatal
error has been turned into a warning that reads:</p>

<p style="margin-left:17%; margin-top: 1em">Quantifier
{n,m} with n &gt; m can&rsquo;t match in regex</p>

<p style="margin-left:17%; margin-top: 1em">(W regexp)
Minima should be less than or equal to maxima. If you really
want your regexp to match something 0 times, just put
{0}.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The &quot;Runaway
prototype&quot; warning that occurs in bizarre cases has
been removed as being unhelpful and inconsistent.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The &quot;Not a format reference&quot; error has been
removed, as the only case in which it could be triggered was
a bug.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The &quot;Unable to create sub named %s&quot; error has
been removed for the same reason.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The &rsquo;Can&rsquo;t use &quot;my %s&quot; in sort
comparison&rsquo; error has been downgraded to a warning,
&rsquo;&quot;my %s&quot; used in sort comparison&rsquo;
(with &rsquo;state&rsquo; instead of &rsquo;my&rsquo; for
state variables). In addition, the heuristics for guessing
whether lexical $a or $b has been misused have been improved
to generate fewer false positives. Lexical $a and $b are no
longer disallowed if they are outside the sort block. Also,
a named unary or list operator inside the sort block no
longer causes the $a or $b to be ignored [perl #86136].</p></td></tr>
</table>

<h2>Utility Changes
<a name="Utility Changes"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>h2xs</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em"><i>h2xs</i> no longer produces
invalid code for empty defines. [perl #20636]</p></td></tr>
</table>

<h2>Configuration and Compilation
<a name="Configuration and Compilation"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="74%">


<p style="margin-top: 1em">Added
&quot;useversionedarchname&quot; option to Configure</p></td>
<td width="9%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">When set, it
includes &rsquo;api_versionstring&rsquo; in
&rsquo;archname&rsquo;. E.g.
x86_64&minus;linux&minus;5.13.6&minus;thread&minus;multi. It
is unset by default.</p>

<p style="margin-left:17%; margin-top: 1em">This feature
was requested by Tim Bunce, who observed that
&quot;INSTALL_BASE&quot; creates a library structure that
does not differentiate by perl version. Instead, it places
architecture specific files in
&quot;$install_base/lib/perl5/$archname&quot;. This makes it
difficult to use a common &quot;INSTALL_BASE&quot; library
path with multiple versions of perl.</p>

<p style="margin-left:17%; margin-top: 1em">By setting
&quot;&minus;Duseversionedarchname&quot;, the $archname will
be distinct for architecture <i>and</i> <small>API</small>
version, allowing mixed use of &quot;INSTALL_BASE&quot;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="60%">


<p style="margin-top: 1em">Add a
&quot;PERL_NO_INLINE_FUNCTIONS&quot; option</p></td>
<td width="23%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">If
&quot;PERL_NO_INLINE_FUNCTIONS&quot; is defined, don&rsquo;t
include &quot;inline.h&quot;</p>

<p style="margin-left:17%; margin-top: 1em">This permits
test code to include the perl headers for definitions
without creating a link dependency on the perl library
(which may not exist yet).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Configure will honour the
external &quot;MAILDOMAIN&quot; environment variable, if
set.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;installman&quot; no longer ignores the silent
option</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Both &quot;META.yml&quot; and &quot;META.json&quot;
files are now included in the distribution.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><i>Configure</i> will now correctly detect
&quot;isblank()&quot; when compiling with a C
<small>++</small> compiler.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The pager detection in <i>Configure</i> has been
improved to allow responses which specify options after the
program name, e.g. <b>/usr/bin/less &minus;R</b>, if the
user accepts the default value. This helps <b>perldoc</b>
when handling <small>ANSI</small> escapes [perl #72156].</p></td></tr>
</table>

<h2>Testing
<a name="Testing"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The test suite now has a section
for tests that require very large amounts of memory. These
tests won&rsquo;t run by default; they can be enabled by
setting the &quot;PERL_TEST_MEMORY&quot; environment
variable to the number of gibibytes of memory that may be
safely used.</p></td></tr>
</table>

<h2>Platform Support
<a name="Platform Support"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>Discontinued
Platforms</b> <br>
BeOS</p>

<p style="margin-left:17%;">BeOS was an operating system
for personal computers developed by Be Inc, initially for
their BeBox hardware. The <small>OS</small> Haiku was
written as an open source replacement for/continuation of
BeOS, and its perl port is current and actively
maintained.</p>

<p style="margin-left:11%;"><small>UTS</small> Global</p>

<p style="margin-left:17%;">Support code relating to
<small>UTS</small> global has been removed.
<small>UTS</small> was a mainframe version of System V
created by Amdahl, subsequently sold to <small>UTS</small>
Global. The port has not been touched since before Perl
v5.8.0, and <small>UTS</small> Global is now defunct.</p>

<p style="margin-left:11%;"><small>VM/ESA</small></p>

<p style="margin-left:17%;">Support for
<small>VM/ESA</small> has been removed. The port was tested
on 2.3.0, which <small>IBM</small> ended service on in March
2002. 2.4.0 ended service in June 2003, and was superseded
by Z/VM. The current version of Z/VM is V6.2.0, and
scheduled for end of service on 2015/04/30.</p>

<p style="margin-left:11%;"><small>MPE/IX</small></p>

<p style="margin-left:17%;">Support for
<small>MPE/IX</small> has been removed.</p>

<p style="margin-left:11%;"><small>EPOC</small></p>

<p style="margin-left:17%;">Support code relating to
<small>EPOC</small> has been removed. <small>EPOC</small>
was a family of operating systems developed by Psion for
mobile devices. It was the predecessor of Symbian. The port
was last updated in April 2002.</p>

<p style="margin-left:11%;">Rhapsody</p>

<p style="margin-left:17%;">Support for Rhapsody has been
removed.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Platform-Specific
Notes</b> <i><small><br>
AIX</small></i></p>

<p style="margin-left:11%; margin-top: 1em">Configure now
always adds &quot;&minus;qlanglvl=extc99&quot; to the
<small>CC</small> flags on <small>AIX</small> when using
xlC. This will make it easier to compile a number of
XS-based modules that assume C99 [perl #113778].</p>


<p style="margin-left:11%; margin-top: 1em"><i>clang++</i></p>

<p style="margin-left:11%; margin-top: 1em">There is now a
workaround for a compiler bug that prevented compiling with
clang++ since Perl v5.15.7 [perl #112786].</p>

<p style="margin-left:11%; margin-top: 1em"><i>C
<small>++</small></i></p>

<p style="margin-left:11%; margin-top: 1em">When compiling
the Perl core as C <small>++</small> (which is only
semi-supported), the mathom functions are now compiled as
&quot;extern &quot;C&quot;&quot;, to ensure proper binary
compatibility. (However, binary compatibility isn&rsquo;t
generally guaranteed anyway in the situations where this
would matter.)</p>


<p style="margin-left:11%; margin-top: 1em"><i>Darwin</i></p>

<p style="margin-left:11%; margin-top: 1em">Stop hardcoding
an alignment on 8 byte boundaries to fix builds using
&minus;Dusemorebits.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Haiku</i></p>

<p style="margin-left:11%; margin-top: 1em">Perl should now
work out of the box on Haiku R1 Alpha 4.</p>


<p style="margin-left:11%; margin-top: 1em"><i>MidnightBSD</i></p>


<p style="margin-left:11%; margin-top: 1em">&quot;libc_r&quot;
was removed from recent versions of MidnightBSD and older
versions work better with &quot;pthread&quot;. Threading is
now enabled using &quot;pthread&quot; which corrects build
errors with threading enabled on 0.4&minus;CURRENT.</p>


<p style="margin-left:11%; margin-top: 1em"><i>Solaris</i></p>

<p style="margin-left:11%; margin-top: 1em">In Configure,
avoid running sed commands with flags not supported on
Solaris.</p>


<p style="margin-left:11%; margin-top: 1em"><i><small>VMS</small></i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Where possible, the case of filenames and command-line
arguments is now preserved by enabling the
<small>CRTL</small> features
&quot;DECC$EFS_CASE_PRESERVE&quot; and
&quot;DECC$ARGV_PARSE_STYLE&quot; at start-up time. The
latter only takes effect when extended parse is enabled in
the process from which Perl is run.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The character set for Extended Filename Syntax (
<small>EFS</small> ) is now enabled by default on
<small>VMS.</small> Among other things, this provides better
handling of dots in directory names, multiple dots in
filenames, and spaces in filenames. To obtain the old
behavior, set the logical name &quot;DECC$EFS_CHARSET&quot;
to &quot;DISABLE&quot;.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Fixed linking on builds configured with
&quot;&minus;Dusemymalloc=y&quot;.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Experimental support for building Perl with the
<small>HP C <small>++ compiler is available by configuring
with &quot;&minus;Dusecxx&quot;.</small></small></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p><small><small>&bull;</small></small></p></td>
<td width="5%"></td>
<td width="83%">


<p>All C header files from the top-level directory of the
distribution are now installed on <small>VMS,</small>
providing consistency with a long-standing practice on other
platforms. Previously only a subset were installed, which
broke non-core extension builds for extensions that depended
on the missing include files.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Quotes are now removed from the command verb (but not
the parameters) for commands spawned via &quot;system&quot;,
backticks, or a piped &quot;open&quot;. Previously, quotes
on the verb were passed through to <small>DCL,</small> which
would fail to recognize the command. Also, if the verb is
actually a path to an image or command procedure on an
<small>ODS&minus;5</small> volume, quoting it now allows the
path to contain spaces.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The <b>a2p</b> build has been fixed for the <small>HP C
<small>++ compiler on OpenVMS.</small></small></p></td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><i>Win32</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Perl can now be built using
Microsoft&rsquo;s Visual C <small>++</small> 2012 compiler
by specifying CCTYPE=MSVC110 (or <small>MSVC110FREE</small>
if you are using the free Express edition for Windows
Desktop) in <i>win32/Makefile</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The option to build without
&quot;USE_SOCKETS_AS_HANDLES&quot; has been removed.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Fixed a problem where perl could crash while cleaning up
threads (including the main thread) in threaded debugging
builds on Win32 and possibly other platforms [perl
#114496].</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A rare race condition that would lead to sleep taking
more time than requested, and possibly even hanging, has
been fixed [perl #33096].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;link&quot; on Win32 now attempts to set $! to more
appropriate values based on the Win32 <small>API</small>
error code. [perl #112272]</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Perl no longer
mangles the environment block, e.g. when launching a new
sub-process, when the environment contains non-ASCII
characters. Known problems still remain, however, when the
environment contains characters outside of the current
<small>ANSI</small> codepage (e.g. see the item about
Unicode in %ENV in
&lt;http://perl5.git.perl.org/perl.git/blob/HEAD:/Porting/todo.pod&gt;).
[perl #113536]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Building perl with some Windows
compilers used to fail due to a problem with
miniperl&rsquo;s &quot;glob&quot; operator (which uses the
&quot;perlglob&quot; program) deleting the
<small>PATH</small> environment variable [perl #113798].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A new makefile option, &quot;USE_64_BIT_INT&quot;, has
been added to the Windows makefiles. Set this to
&quot;define&quot; when building a 32&minus;bit perl if you
want it to use 64&minus;bit integers.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Machine code
size reductions, already made to the DLLs of
<small>XS</small> modules in Perl v5.17.2, have now been
extended to the perl <small>DLL</small> itself.</p>

<p style="margin-left:17%; margin-top: 1em">Building with
<small>VC++ 6.0</small> was inadvertently broken in Perl
v5.17.2 but has now been fixed again.</p>


<p style="margin-left:11%; margin-top: 1em"><i>WinCE</i></p>

<p style="margin-left:11%; margin-top: 1em">Building on
WinCE is now possible once again, although more work is
required to fully restore a clean build.</p>

<h2>Internal Changes
<a name="Internal Changes"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Synonyms for the misleadingly
named &quot;av_len()&quot; have been created:
&quot;av_top_index()&quot; and &quot;av_tindex&quot;. All
three of these return the number of the highest index in the
array, not the number of elements it contains.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><b>SvUPGRADE()</b> is no longer an expression.
Originally this macro (and its underlying function,
<b>sv_upgrade()</b>) were documented as boolean, although in
reality they always croaked on error and never returned
false. In 2005 the documentation was updated to specify a
void return value, but <b>SvUPGRADE()</b> was left always
returning 1 for backwards compatibility. This has now been
removed, and <b>SvUPGRADE()</b> is now a statement with no
return value.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">So this is now
a syntax error:</p>

<p style="margin-left:17%; margin-top: 1em">if
(!SvUPGRADE(sv)) { croak(...); }</p>

<p style="margin-left:17%; margin-top: 1em">If you have
code like that, simply replace it with</p>


<p style="margin-left:17%; margin-top: 1em">SvUPGRADE(sv);</p>

<p style="margin-left:17%; margin-top: 1em">or to avoid
compiler warnings with older perls, possibly</p>


<p style="margin-left:17%; margin-top: 1em">(void)SvUPGRADE(sv);</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Perl has a new copy-on-write
mechanism that allows any SvPOK scalar to be upgraded to a
copy-on-write scalar. A reference count on the string buffer
is stored in the string buffer itself. This feature is
<b>not enabled by default</b>.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">It can be
enabled in a perl build by running <i>Configure</i> with
<b>&minus;Accflags=&minus;DPERL_NEW_COPY_ON_WRITE</b>, and
we would encourage <small>XS</small> authors to try their
code with such an enabled perl, and provide feedback.
Unfortunately, there is not yet a good guide to updating
<small>XS</small> code to cope with <small>COW.</small>
Until such a document is available, consult the
perl5&minus;porters mailing list.</p>

<p style="margin-left:17%; margin-top: 1em">It breaks a few
<small>XS</small> modules by allowing copy-on-write scalars
to go through code paths that never encountered them
before.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Copy-on-write no longer uses the
SvFAKE and SvREADONLY flags. Hence, SvREADONLY indicates a
true read-only <small>SV.</small></p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Use the SvIsCOW
macro (as before) to identify a copy-on-write scalar.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">&quot;PL_glob_index&quot; is
gone.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The private Perl_croak_no_modify has had its context
parameter removed. It is now has a void prototype. Users of
the public <small>API</small> croak_no_modify remain
unaffected.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Copy-on-write (shared hash key) scalars are no longer
marked read-only. &quot;SvREADONLY&quot; returns false on
such an <small>SV,</small> but &quot;SvIsCOW&quot; still
returns true.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A new op type, &quot;OP_PADRANGE&quot; has been
introduced. The perl peephole optimiser will, where
possible, substitute a single padrange op for a pushmark
followed by one or more pad ops, and possibly also skipping
list and nextstate ops. In addition, the op can carry out
the tasks associated with the <small>RHS</small> of a
&quot;my(...) = @_&quot; assignment, so those ops may be
optimised away too.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Case-insensitive matching inside a [bracketed] character
class with a multi-character fold no longer excludes one of
the possibilities in the circumstances that it used to.
[perl #89774].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;PL_formfeed&quot; has been removed.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The regular expression engine no longer reads one byte
past the end of the target string. While for all internally
well-formed scalars this should never have been a problem,
this change facilitates clever tricks with string buffers in
<small>CPAN</small> modules. [perl #73542]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Inside a <small>BEGIN</small> block,
&quot;PL_compcv&quot; now points to the currently-compiling
subroutine, rather than the <small>BEGIN</small> block
itself.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;mg_length&quot; has been deprecated.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;sv_len&quot; now always returns a byte count and
&quot;sv_len_utf8&quot; a character count. Previously,
&quot;sv_len&quot; and &quot;sv_len_utf8&quot; were both
buggy and would sometimes returns bytes and sometimes
characters. &quot;sv_len_utf8&quot; no longer assumes that
its argument is in <small>UTF&minus;8.</small> Neither of
these creates <small>UTF&minus;8</small> caches for tied or
overloaded values or for non-PVs any more.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;sv_mortalcopy&quot; now copies string buffers of
shared hash key scalars when called from <small>XS</small>
modules [perl #79824].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The new &quot;RXf_MODIFIES_VARS&quot; flag can be set by
custom regular expression engines to indicate that the
execution of the regular expression may cause variables to
be modified. This lets &quot;s///&quot; know to skip certain
optimisations. Perl&rsquo;s own regular expression engine
sets this flag for the special backtracking verbs that set
$REGMARK and $REGERROR.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The APIs for accessing lexical pads have changed
considerably.</p> </td></tr>
</table>


<p style="margin-left:17%; margin-top: 1em">&quot;PADLIST&quot;s
are now longer &quot;AV&quot;s, but their own type instead.
&quot;PADLIST&quot;s now contain a &quot;PAD&quot; and a
&quot;PADNAMELIST&quot; of &quot;PADNAME&quot;s, rather than
&quot;AV&quot;s for the pad and the list of pad names.
&quot;PAD&quot;s, &quot;PADNAMELIST&quot;s, and
&quot;PADNAME&quot;s are to be accessed as such through the
newly added pad <small>API</small> instead of the plain
&quot;AV&quot; and &quot;SV&quot; APIs. See perlapi for
details.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">In the regex <small>API,</small>
the numbered capture callbacks are passed an index
indicating what match variable is being accessed. There are
special index values for the &quot;$`, $&amp;, $&amp;&quot;
variables. Previously the same three values were used to
retrieve &quot;${^PREMATCH}, ${^MATCH}, ${^POSTMATCH}&quot;
too, but these have now been assigned three separate values.
See &quot;Numbered capture callbacks&quot; in perlreapi.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;PL_sawampersand&quot; was previously a boolean
indicating that any of &quot;$`, $&amp;, $&amp;&quot; had
been seen; it now contains three one-bit flags indicating
the presence of each of the variables individually.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The &quot;CV *&quot; typemap entry now supports
&quot;&amp;{}&quot; overloading and typeglobs, just like
&quot;&amp;{...}&quot; [perl #96872].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The &quot;SVf_AMAGIC&quot; flag to indicate overloading
is now on the stash, not the object. It is now set
automatically whenever a method or @ISA changes, so its
meaning has changed, too. It now means &quot;potentially
overloaded&quot;. When the overload table is calculated, the
flag is automatically turned off if there is no overloading,
so there should be no noticeable slowdown.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The staleness
of the overload tables is now checked when overload methods
are invoked, rather than during &quot;bless&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">&quot;A&quot;
magic is gone. The changes to the handling of the
&quot;SVf_AMAGIC&quot; flag eliminate the need for it.</p>


<p style="margin-left:17%; margin-top: 1em">&quot;PL_amagic_generation&quot;
has been removed as no longer necessary. For
<small>XS</small> modules, it is now a macro alias to
&quot;PL_na&quot;.</p>

<p style="margin-left:17%; margin-top: 1em">The fallback
overload setting is now stored in a stash entry separate
from overloadedness itself.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The character-processing code
has been cleaned up in places. The changes should be
operationally invisible.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The &quot;study&quot; function was made a no-op in
v5.16. It was simply disabled via a &quot;return&quot;
statement; the code was left in place. Now the code
supporting what &quot;study&quot; used to do has been
removed.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Under threaded perls, there is no longer a separate
<small>PV</small> allocated for every <small>COP</small> to
store its package name (&quot;cop&minus;&gt;stashpv&quot;).
Instead, there is an offset
(&quot;cop&minus;&gt;stashoff&quot;) into the new
&quot;PL_stashpad&quot; array, which holds stash
pointers.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>In the pluggable regex <small>API,</small> the
&quot;regexp_engine&quot; struct has acquired a new field
&quot;op_comp&quot;, which is currently just for
perl&rsquo;s internal use, and should be initialized to
<small>NULL</small> by other regex plugin modules.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A new function &quot;alloccopstash&quot; has been added
to the <small>API,</small> but is considered experimental.
See perlapi.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Perl used to implement get magic in a way that would
sometimes hide bugs in code that could call <b>mg_get()</b>
too many times on magical values. This hiding of errors no
longer occurs, so long-standing bugs may become visible now.
If you see magic-related errors in <small>XS</small> code,
check to make sure it, together with the Perl
<small>API</small> functions it uses, calls <b>mg_get()</b>
only once on <b>SvGMAGICAL()</b> values.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p><small>OP</small> allocation for CVs now uses a slab
allocator. This simplifies memory management for OPs
allocated to a <small>CV,</small> so cleaning up after a
compilation error is simpler and safer [perl #111462][perl
#112312].</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;PERL_DEBUG_READONLY_OPS&quot; has been rewritten
to work with the new slab allocator, allowing it to catch
more violations than before.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The old slab allocator for ops, which was only enabled
for &quot;PERL_IMPLICIT_SYS&quot; and
&quot;PERL_DEBUG_READONLY_OPS&quot;, has been retired.</p></td></tr>
</table>

<h2>Selected Bug Fixes
<a name="Selected Bug Fixes"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Here document terminators no
longer require a terminating newline character when they
occur at the end of a file. This was already the case at the
end of a string eval [perl #65838].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;&minus;DPERL_GLOBAL_STRUCT&quot; builds now free
the global struct <b>after</b> they&rsquo;ve finished using
it.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A trailing &rsquo;/&rsquo; on a path in @INC will no
longer have an additional &rsquo;/&rsquo; appended.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The &quot;:crlf&quot; layer now works when unread data
doesn&rsquo;t fit into its own buffer. [perl #112244].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;ungetc()&quot; now handles
<small>UTF&minus;8</small> encoded data. [perl #116322].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A bug in the core typemap caused any C types that map to
the T_BOOL core typemap entry to not be set, updated, or
modified when the T_BOOL variable was used in an
<small>OUTPUT:</small> section with an exception for
<small>RETVAL. T_BOOL</small> in an <small>INPUT:</small>
section was not affected. Using a T_BOOL return type for an
<small>XSUB</small> ( <small>RETVAL</small> ) was not
affected. A side effect of fixing this bug is, if a T_BOOL
is specified in the <small>OUTPUT:</small> section (which
previous did nothing to the <small>SV</small> ), and a read
only <small>SV</small> (literal) is passed to the
<small>XSUB,</small> croaks like &quot;Modification of a
read-only value attempted&quot; will happen. [perl
#115796]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>On many platforms, providing a directory name as the
script name caused perl to do nothing and report success. It
should now universally report an error and exit nonzero.
[perl #61362]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;sort {undef} ...&quot; under fatal warnings no
longer crashes. It had begun crashing in Perl v5.16.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Stashes blessed into each other (&quot;bless \%Foo::,
'Bar'; bless \%Bar::, 'Foo'&quot;) no longer result in
double frees. This bug started happening in Perl v5.16.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Numerous memory leaks have been fixed, mostly involving
fatal warnings and syntax errors.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Some failed regular expression matches such as &quot;'f'
=~ /../g&quot; were not resetting &quot;pos&quot;. Also,
&quot;match-once&quot; patterns (&quot;m?...?g&quot;) failed
to reset it, too, when invoked a second time [perl
#23180].</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Several bugs involving &quot;local *ISA&quot; and
&quot;local *Foo::&quot; causing stale <small>MRO</small>
caches have been fixed.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Defining a subroutine when its typeglob has been aliased
no longer results in stale method caches. This bug was
introduced in Perl v5.10.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Localising a typeglob containing a subroutine when the
typeglob&rsquo;s package has been deleted from its parent
stash no longer produces an error. This bug was introduced
in Perl v5.14.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Under some circumstances, &quot;local *method=...&quot;
would fail to reset method caches upon scope exit.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;/[.foo.]/&quot; is no longer an error, but
produces a warning (as before) and is treated as
&quot;/[.fo]/&quot; [perl #115818].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;goto $tied_var&quot; now calls
<small>FETCH</small> before deciding what type of goto
(subroutine or label) this is.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Renaming packages through glob assignment (&quot;*Foo::
= *Bar::; *Bar:: = *Baz::&quot;) in combination with
&quot;m?...?&quot; and &quot;reset&quot; no longer makes
threaded builds crash.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A number of bugs related to assigning a list to hash
have been fixed. Many of these involve lists with repeated
keys like &quot;(1, 1, 1, 1)&quot;.</p></td></tr>
</table>

<p style="margin-left:17%;">&bull;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%"></td>
<td width="5%"></td>
<td width="77%">


<p style="margin-top: 1em">The expression &quot;scalar(%h =
(1, 1, 1, 1))&quot; now returns 4, not 2.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p>The return value of &quot;%h = (1, 1, 1)&quot; in list
context was wrong. Previously this would return &quot;(1,
undef, 1)&quot;, now it returns &quot;(1, undef)&quot;.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p>Perl now issues the same warning on &quot;($s, %h) = (1,
{})&quot; as it does for &quot;(%h) = ({})&quot;,
&quot;Reference found where even-sized list
expected&quot;.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p>A number of additional edge cases in list assignment to
hashes were corrected. For more details see commit
23b7025ebc.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="77%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Attributes
applied to lexical variables no longer leak memory. [perl
#114764]</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">&quot;dump&quot;,
&quot;goto&quot;, &quot;last&quot;, &quot;next&quot;,
&quot;redo&quot; or &quot;require&quot; followed by a
bareword (or version) and then an infix operator is no
longer a syntax error. It used to be for those infix
operators (like &quot;+&quot;) that have a different meaning
where a term is expected. [perl #105924]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;require a::b . 1&quot; and &quot;require a::b +
1&quot; no longer produce erroneous ambiguity warnings.
[perl #107002]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Class method calls are now allowed on any string, and
not just strings beginning with an alphanumeric character.
[perl #105922]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>An empty pattern created with &quot;qr//&quot; used in
&quot;m///&quot; no longer triggers the &quot;empty pattern
reuses last pattern&quot; behaviour. [perl #96230]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Tying a hash during iteration no longer results in a
memory leak.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Freeing a tied hash during iteration no longer results
in a memory leak.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>List assignment to a tied array or hash that dies on
<small>STORE</small> no longer results in a memory leak.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>If the hint hash (&quot;%^H&quot;) is tied, compile-time
scope entry (which copies the hint hash) no longer leaks
memory if <small>FETCH</small> dies. [perl #107000]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Constant folding no longer inappropriately triggers the
special &quot;split &quot; &quot;&quot; behaviour. [perl
#94490]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;defined scalar(@array)&quot;, &quot;defined do {
&amp;foo }&quot;, and similar constructs now treat the
argument to &quot;defined&quot; as a simple scalar. [perl
#97466]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Running a custom debugging that defines no *DB::DB glob
or provides a subroutine stub for &amp;DB::DB no longer
results in a crash, but an error instead. [perl #114990]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;reset &quot;&quot;&quot; now matches its
documentation. &quot;reset&quot; only resets
&quot;m?...?&quot; patterns when called with no argument. An
empty string for an argument now does nothing. (It used to
be treated as no argument.) [perl #97958]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;printf&quot; with an argument returning an empty
list no longer reads past the end of the stack, resulting in
erratic behaviour. [perl #77094]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;&minus;&minus;subname&quot; no longer produces
erroneous ambiguity warnings. [perl #77240]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;v10&quot; is now allowed as a label or package
name. This was inadvertently broken when v&minus;strings
were added in Perl v5.6. [perl #56880]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;length&quot;, &quot;pos&quot;, &quot;substr&quot;
and &quot;sprintf&quot; could be confused by ties,
overloading, references and typeglobs if the stringification
of such changed the internal representation to or from
<small>UTF&minus;8.</small> [perl #114410]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>utf8::encode now calls <small>FETCH</small> and
<small>STORE</small> on tied variables. utf8::decode now
calls <small>STORE</small> (it was already calling
<small>FETCH</small> ).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;$tied =~ s/$non_utf8/$utf8/&quot; no longer loops
infinitely if the tied variable returns a Latin&minus;1
string, shared hash key scalar, or reference or typeglob
that stringifies as <small>ASCII</small> or Latin&minus;1.
This was a regression from v5.12.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;s///&quot; without /e is now better at detecting
when it needs to forego certain optimisations, fixing some
buggy cases:</p></td></tr>
</table>

<p style="margin-left:17%;">&bull;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%"></td>
<td width="5%"></td>
<td width="77%">


<p style="margin-top: 1em">Match variables in certain
constructs (&quot;&amp;&amp;&quot;, &quot;||&quot;,
&quot;..&quot; and others) in the replacement part; e.g.,
&quot;s/(.)/$l{$a||$1}/g&quot;. [perl #26986]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p>Aliases to match variables in the replacement.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p>$REGERROR or $REGMARK in the replacement. [perl
#49190]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p>An empty pattern (&quot;s//$foo/&quot;) that causes the
last-successful pattern to be used, when that pattern
contains code blocks that modify the variables in the
replacement.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="77%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The taintedness
of the replacement string no longer affects the taintedness
of the return value of &quot;s///e&quot;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The $| autoflush variable is
created on-the-fly when needed. If this happened (e.g., if
it was mentioned in a module or eval) when the
currently-selected filehandle was a typeglob with an empty
<small>IO</small> slot, it used to crash. [perl #115206]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Line numbers at the end of a string eval are no longer
off by one. [perl #114658]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>@INC filters (subroutines returned by subroutines in
@INC) that set $_ to a copy-on-write scalar no longer cause
the parser to modify that string buffer in place.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;length($object)&quot; no longer returns the
undefined value if the object has string overloading that
returns undef. [perl #115260]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The use of &quot;PL_stashcache&quot;, the stash name
lookup cache for method calls, has been restored,</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Commit
da6b625f78f5f133 in August 2011 inadvertently broke the code
that looks up values in &quot;PL_stashcache&quot;. As
it&rsquo;s only a cache, quite correctly everything carried
on working without it.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">The error &quot;Can&rsquo;t
localize through a reference&quot; had disappeared in
v5.16.0 when &quot;local %$ref&quot; appeared on the last
line of an lvalue subroutine. This error disappeared for
&quot;\local %$ref&quot; in perl v5.8.1. It has now been
restored.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The parsing of here-docs has been improved
significantly, fixing several parsing bugs and crashes and
one memory leak, and correcting wrong subsequent line
numbers under certain conditions.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Inside an eval, the error message for an unterminated
here-doc no longer has a newline in the middle of it [perl
#70836].</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A substitution inside a substitution pattern
(&quot;s/${s|||}//&quot;) no longer confuses the parser.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>It may be an odd place to allow comments, but
&quot;s//&quot;&quot; # hello/e&quot; has always worked,
<i>unless</i> there happens to be a null character before
the first #. Now it works even in the presence of nulls.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>An invalid range in &quot;tr///&quot; or
&quot;y///&quot; no longer results in a memory leak.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>String eval no longer treats a semicolon-delimited
quote-like operator at the very end (&quot;eval 'q;;'&quot;)
as a syntax error.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;warn {$_ =&gt; 1} + 1&quot; is no longer a syntax
error. The parser used to get confused with certain list
operators followed by an anonymous hash and then an infix
operator that shares its form with a unary operator.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;(caller $n)[6]&quot; (which gives the text of the
eval) used to return the actual parser buffer. Modifying it
could result in crashes. Now it always returns a copy. The
string returned no longer has &quot;\n;&quot; tacked on to
the end. The returned text also includes here-doc bodies,
which used to be omitted.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The <small>UTF&minus;8</small> position cache is now
reset when accessing magical variables, to avoid the string
buffer and the <small>UTF&minus;8</small> position cache
getting out of sync [perl #114410].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Various cases of get magic being called twice for
magical <small>UTF&minus;8</small> strings have been
fixed.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>This code (when not in the presence of $&amp; etc)</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">$_ = 'x' x
1_000_000; <br>
1 while /(.)/;</p>

<p style="margin-left:17%; margin-top: 1em">used to skip
the buffer copy for performance reasons, but suffered from
$1 etc changing if the original string changed. That&rsquo;s
now been fixed.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Perl doesn&rsquo;t use PerlIO
anymore to report out of memory messages, as PerlIO might
attempt to allocate more memory.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>In a regular expression, if something is quantified with
&quot;{n,m}&quot; where &quot;n&nbsp;&gt;&nbsp;m&quot;, it
can&rsquo;t possibly match. Previously this was a fatal
error, but now is merely a warning (and that something
won&rsquo;t match). [perl #82954].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>It used to be possible for formats defined in
subroutines that have subsequently been undefined and
redefined to close over variables in the wrong pad (the
newly-defined enclosing sub), resulting in crashes or
&quot;Bizarre copy&quot; errors.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Redefinition of XSUBs at run time could produce warnings
with the wrong line number.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The %vd sprintf format does not support version objects
for alpha versions. It used to output the format itself
(%vd) when passed an alpha version, and also emit an
&quot;Invalid conversion in printf&quot; warning. It no
longer does, but produces the empty string in the output. It
also no longer leaks memory in this case.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;$obj&minus;&gt;SUPER::method&quot; calls in the
main package could fail if the <small>SUPER</small> package
had already been accessed by other means.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Stash aliasing (&quot;*foo:: = *bar::&quot;) no longer
causes <small>SUPER</small> calls to ignore changes to
methods or @ISA or use the wrong package.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Method calls on packages whose names end in ::SUPER are
no longer treated as <small>SUPER</small> method calls,
resulting in failure to find the method. Furthermore,
defining subroutines in such packages no longer causes them
to be found by <small>SUPER</small> method calls on the
containing package [perl #114924].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;\w&quot; now matches the code points U+200C (
<small>ZERO WIDTH</small> NON-JOINER) and U+200D (
<small>ZERO WIDTH JOINER</small> ). &quot;\W&quot; no longer
matches these. This change is because Unicode corrected
their definition of what &quot;\w&quot; should match.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;dump LABEL&quot; no longer leaks its label.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Constant folding no longer changes the behaviour of
functions like &quot;stat()&quot; and &quot;truncate()&quot;
that can take either filenames or handles. &quot;stat 1 ?
foo : bar&quot; nows treats its argument as a file name
(since it is an arbitrary expression), rather than the
handle &quot;foo&quot;.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;truncate FOO, $len&quot; no longer falls back to
treating &quot; <small>FOO&quot;</small> as a file name if
the filehandle has been deleted. This was broken in Perl
v5.16.0.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Subroutine redefinitions after sub-to-glob and
glob-to-glob assignments no longer cause double frees or
panic messages.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;s///&quot; now turns vstrings into plain strings
when performing a substitution, even if the resulting string
is the same (&quot;s/a/a/&quot;).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Prototype mismatch warnings no longer erroneously treat
constant subs as having no prototype when they actually have
&quot;&quot;.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Constant subroutines and forward declarations no longer
prevent prototype mismatch warnings from omitting the sub
name.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;undef&quot; on a subroutine now clears call
checkers.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The &quot;ref&quot; operator started leaking memory on
blessed objects in Perl v5.16.0. This has been fixed [perl
#114340].</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;use&quot; no longer tries to parse its arguments
as a statement, making &quot;use constant { () };&quot; a
syntax error [perl #114222].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>On debugging builds, &quot;uninitialized&quot; warnings
inside formats no longer cause assertion failures.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>On debugging builds, subroutines nested inside formats
no longer cause assertion failures [perl #78550].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Formats and &quot;use&quot; statements are now permitted
inside formats.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;print $x&quot; and &quot;sub { print $x
}&minus;&gt;()&quot; now always produce the same output. It
was possible for the latter to refuse to close over $x if
the variable was not active; e.g., if it was defined outside
a currently-running named subroutine.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Similarly, &quot;print $x&quot; and &quot;print eval
'$x'&quot; now produce the same output. This also allows
&quot;my $x if 0&quot; variables to be seen in the debugger
[perl #114018].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Formats called recursively no longer stomp on their own
lexical variables, but each recursive call has its own set
of lexicals.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Attempting to free an active format or the handle
associated with it no longer results in a crash.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Format parsing no longer gets confused by braces,
semicolons and low-precedence operators. It used to be
possible to use braces as format delimiters (instead of
&quot;=&quot; and &quot;.&quot;), but only sometimes.
Semicolons and low-precedence operators in format argument
lines no longer confuse the parser into ignoring the
line&rsquo;s return value. In format argument lines, braces
can now be used for anonymous hashes, instead of being
treated always as &quot;do&quot; blocks.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Formats can now be nested inside code blocks in regular
expressions and other quoted constructs
(&quot;/(?{...})/&quot; and &quot;qq/${...}/&quot;) [perl
#114040].</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Formats are no longer created after compilation
errors.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Under debugging builds, the <b>&minus;DA</b> command
line option started crashing in Perl v5.16.0. It has been
fixed [perl #114368].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A potential deadlock scenario involving the premature
termination of a pseudo&minus; forked child in a Windows
build with ithreads enabled has been fixed. This resolves
the common problem of the <i>t/op/fork.t</i> test hanging on
Windows [perl #88840].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The code which generates errors from
&quot;require()&quot; could potentially read one or two
bytes before the start of the filename for filenames less
than three bytes long and ending &quot;/\.p?\z/&quot;. This
has now been fixed. Note that it could never have happened
with module names given to &quot;use()&quot; or
&quot;require()&quot; anyway.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The handling of pathnames of modules given to
&quot;require()&quot; has been made thread-safe on
<small>VMS.</small></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Non-blocking sockets have been fixed on
<small>VMS.</small></p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Pod can now be nested in code inside a quoted construct
outside of a string eval. This used to work only within
string evals [perl #114040].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;goto ''&quot; now looks for an empty label,
producing the &quot;goto must have label&quot; error
message, instead of exiting the program [perl #111794].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;goto &quot;\0&quot;&quot; now dies with
&quot;Can&rsquo;t find label&quot; instead of &quot;goto
must have label&quot;.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The C function &quot;hv_store&quot; used to result in
crashes when used on &quot;%^H&quot; [perl #111000].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A call checker attached to a closure prototype via
&quot;cv_set_call_checker&quot; is now copied to closures
cloned from it. So &quot;cv_set_call_checker&quot; now works
inside an attribute handler for a closure.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Writing to $^N used to have no effect. Now it croaks
with &quot;Modification of a read-only value&quot; by
default, but that can be overridden by a custom regular
expression engine, as with $1 [perl #112184].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;undef&quot; on a control character glob
(&quot;undef *^H&quot;) no longer emits an erroneous warning
about ambiguity [perl #112456].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>For efficiency&rsquo;s sake, many operators and built-in
functions return the same scalar each time. Lvalue
subroutines and subroutines in the <small>CORE::</small>
namespace were allowing this implementation detail to leak
through. &quot;print &amp;CORE::uc(&quot;a&quot;),
&amp;CORE::uc(&quot;b&quot;)&quot; used to print &quot;
<small>BB&quot;.</small> The same thing would happen with an
lvalue subroutine returning the return value of
&quot;uc&quot;. Now the value is copied in such cases.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;method {}&quot; syntax with an empty block or a
block returning an empty list used to crash or use some
random value left on the stack as its invocant. Now it
produces an error.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;vec&quot; now works with extremely large offsets
(&gt;2 <small>GB</small> ) [perl #111730].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Changes to overload settings now take effect
immediately, as do changes to inheritance that affect
overloading. They used to take effect only after
&quot;bless&quot;.</p> </td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">Objects that
were created before a class had any overloading used to
remain non-overloaded even if the class gained overloading
through &quot;use overload&quot; or @ISA changes, and even
after &quot;bless&quot;. This has been fixed [perl
#112708].</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Classes with overloading can now
inherit fallback values.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Overloading was not respecting a fallback value of 0 if
there were overloaded objects on both sides of an assignment
operator like &quot;+=&quot; [perl #111856].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;pos&quot; now croaks with hash and array
arguments, instead of producing erroneous warnings.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;while(each %h)&quot; now implies
&quot;while(defined($_ = each %h))&quot;, like
&quot;readline&quot; and &quot;readdir&quot;.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Subs in the <small>CORE::</small> namespace no longer
crash after &quot;undef *_&quot; when called with no
argument list (&amp;CORE::time with no parentheses).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;unpack&quot; no longer produces the
&quot;&rsquo;/&rsquo; must follow a numeric type in
unpack&quot; error when it is the data that are at fault
[perl #60204].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;join&quot; and &quot;@array&quot; now call
<small>FETCH</small> only once on a tied $&quot; [perl
#8931].</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Some subroutine calls generated by compiling core ops
affected by a &quot;CORE::GLOBAL&quot; override had op
checking performed twice. The checking is always idempotent
for pure Perl code, but the double checking can matter when
custom call checkers are involved.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A race condition used to exist around fork that could
cause a signal sent to the parent to be handled by both
parent and child. Signals are now blocked briefly around
fork to prevent this from happening [perl #82580].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The implementation of code blocks in regular
expressions, such as &quot;(?{})&quot; and
&quot;(??{})&quot;, has been heavily reworked to eliminate a
whole slew of bugs. The main user-visible changes are:</p></td></tr>
</table>

<p style="margin-left:17%;">&bull;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td>
<td width="77%">


<p style="margin-top: 1em">Code blocks within patterns are
now parsed in the same pass as the surrounding code; in
particular it is no longer necessary to have balanced
braces: this now works:</p></td></tr>
</table>

<p style="margin-left:23%; margin-top: 1em">/(?{ $x='{'
})/</p>

<p style="margin-left:23%; margin-top: 1em">This means that
this error message is no longer generated:</p>

<p style="margin-left:23%; margin-top: 1em">Sequence
(?{...}) not terminated or not {}&minus;balanced in
regex</p>

<p style="margin-left:23%; margin-top: 1em">but a new error
may be seen:</p>

<p style="margin-left:23%; margin-top: 1em">Sequence
(?{...}) not terminated with ')'</p>

<p style="margin-left:23%; margin-top: 1em">In addition,
literal code blocks within run-time patterns are only
compiled once, at perl compile-time:</p>

<p style="margin-left:23%; margin-top: 1em">for my $p (...)
{ <br>
# this 'FOO' block of code is compiled once, <br>
# at the same time as the surrounding 'for' loop <br>
/$p{(?{FOO;})/; <br>
}</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p style="margin-top: 1em">Lexical variables are now sane
as regards scope, recursion and closure behavior. In
particular, &quot;/A(?{B})C/&quot; behaves (from a closure
viewpoint) exactly like &quot;/A/ &amp;&amp; do { B }
&amp;&amp; /C/&quot;, while &quot;qr/A(?{B})C/&quot; is like
&quot;sub {/A/ &amp;&amp; do { B } &amp;&amp; /C/}&quot;. So
this code now works how you might expect, creating three
regexes that match 0, 1, and 2:</p></td></tr>
</table>

<p style="margin-left:23%; margin-top: 1em">for my $i
(0..2) { <br>
push @r, qr/^(??{$i})$/; <br>
} <br>
&quot;1&quot; =~ $r[1]; # matches</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p style="margin-top: 1em">The &quot;use re 'eval'&quot;
pragma is now only required for code blocks defined at
runtime; in particular in the following, the text of the $r
pattern is still interpolated into the new pattern and
recompiled, but the individual compiled code-blocks within
$r are reused rather than being recompiled, and &quot;use re
'eval'&quot; isn&rsquo;t needed any more:</p></td></tr>
</table>

<p style="margin-left:23%; margin-top: 1em">my $r =
qr/abc(?{....})def/; <br>
/xyz$r/;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p style="margin-top: 1em">Flow control operators no longer
crash. Each code block runs in a new dynamic scope, so
&quot;next&quot; etc. will not see any enclosing loops.
&quot;return&quot; returns a value from the code block, not
from any enclosing subroutine.</p></td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p>Perl normally caches the compilation of run-time
patterns, and doesn&rsquo;t recompile if the pattern
hasn&rsquo;t changed, but this is now disabled if required
for the correct behavior of closures. For example:</p></td></tr>
</table>

<p style="margin-left:23%; margin-top: 1em">my $code =
'(??{$x})'; <br>
for my $x (1..3) { <br>
# recompile to see fresh value of $x each time <br>
$x =~ /$code/; <br>
}</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p style="margin-top: 1em">The &quot;/msix&quot; and
&quot;(?msix)&quot; etc. flags are now propagated into the
return value from &quot;(??{})&quot;; this now works:</p></td></tr>
</table>

<p style="margin-left:23%; margin-top: 1em">&quot;AB&quot;
=~ /a(??{'b'})/i;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="77%">


<p style="margin-top: 1em">Warnings and errors will appear
to come from the surrounding code (or for run-time code
blocks, from an eval) rather than from an
&quot;re_eval&quot;:</p> </td></tr>
</table>

<p style="margin-left:23%; margin-top: 1em">use re 'eval';
$c = '(?{ warn &quot;foo&quot; })'; /$c/; <br>
/(?{ warn &quot;foo&quot; })/;</p>

<p style="margin-left:23%; margin-top: 1em">formerly
gave:</p>

<p style="margin-left:23%; margin-top: 1em">foo at (re_eval
1) line 1. <br>
foo at (re_eval 2) line 1.</p>

<p style="margin-left:23%; margin-top: 1em">and now
gives:</p>

<p style="margin-left:23%; margin-top: 1em">foo at (eval 1)
line 1. <br>
foo at /some/prog line 2.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Perl now can be recompiled to
use any Unicode version. In v5.16, it worked on Unicodes 6.0
and 6.1, but there were various bugs if earlier releases
were used; the older the release the more problems.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;vec&quot; no longer produces
&quot;uninitialized&quot; warnings in lvalue context [perl
#9423].</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>An optimization involving fixed strings in regular
expressions could cause a severe performance penalty in edge
cases. This has been fixed [perl #76546].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>In certain cases, including empty subpatterns within a
regular expression (such as &quot;(?:)&quot; or
&quot;(?:|)&quot;) could disable some optimizations. This
has been fixed.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The &quot;Can&rsquo;t find an opnumber&quot; message
that &quot;prototype&quot; produces when passed a string
like &quot;CORE::nonexistent_keyword&quot; now passes
<small>UTF&minus;8</small> and embedded NULs through
unchanged [perl #97478].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;prototype&quot; now treats magical variables like
$1 the same way as non-magical variables when checking for
the <small>CORE::</small> prefix, instead of treating them
as subroutine names.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Under threaded perls, a runtime code block in a regular
expression could corrupt the package name stored in the op
tree, resulting in bad reads in &quot;caller&quot;, and
possibly crashes [perl #113060].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Referencing a closure prototype
(&quot;\&amp;{$_[1]}&quot; in an attribute handler for a
closure) no longer results in a copy of the subroutine (or
assertion failures on debugging builds).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;eval '__PACKAGE__'&quot; now returns the right
answer on threaded builds if the current package has been
assigned over (as in &quot;*ThisPackage:: =
*ThatPackage::&quot;) [perl #78742].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>If a package is deleted by code that it calls, it is
possible for &quot;caller&quot; to see a stack frame
belonging to that deleted package. &quot;caller&quot; could
crash if the stash&rsquo;s memory address was reused for a
scalar and a substitution was performed on the same scalar
[perl #113486].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;UNIVERSAL::can&quot; no longer treats its first
argument differently depending on whether it is a string or
number internally.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;open&quot; with &quot;&lt;&amp;&quot; for the mode
checks to see whether the third argument is a number, in
determining whether to treat it as a file descriptor or a
handle name. Magical variables like $1 were always failing
the numeric check and being treated as handle names.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;warn&quot;&rsquo;s handling of magical variables
($1, ties) has undergone several fixes. &quot;FETCH&quot; is
only called once now on a tied argument or a tied $@ [perl
#97480]. Tied variables returning objects that stringify as
&quot;&quot; are no longer ignored. A tied $@ that happened
to return a reference the <i>previous</i> time it was used
is no longer ignored.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;warn &quot;&quot;&quot; now treats $@ with a
number in it the same way, regardless of whether it happened
via &quot;$@=3&quot; or &quot;$@=&quot;3&quot;&quot;. It
used to ignore the former. Now it appends
&quot;\t...caught&quot;, as it has always done with
&quot;$@=&quot;3&quot;&quot;.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Numeric operators on magical variables (e.g.,
&quot;$1&nbsp;+&nbsp;1&quot;) used to use floating point
operations even where integer operations were more
appropriate, resulting in loss of accuracy on 64&minus;bit
platforms [perl #109542].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Unary negation no longer treats a string as a number if
the string happened to be used as a number at some point.
So, if $x contains the string &quot;dogs&quot;,
&quot;&minus;$x&quot; returns &quot;&minus;dogs&quot; even
if &quot;$y=0+$x&quot; has happened at some point.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>In Perl v5.14, &quot;&minus;'&minus;10'&quot; was fixed
to return &quot;10&quot;, not &quot;+10&quot;. But magical
variables ($1, ties) were not fixed till now [perl
#57706].</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Unary negation now treats strings consistently,
regardless of the internal &quot;UTF8&quot; flag.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A regression introduced in Perl v5.16.0 involving
&quot;tr/<i>SEARCHLIST</i>/<i>REPLACEMENTLIST</i>/&quot; has
been fixed. Only the first instance is supposed to be
meaningful if a character appears more than once in
&quot;<i>SEARCHLIST</i>&quot;. Under some circumstances, the
final instance was overriding all earlier ones. [perl
#113584]</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Regular expressions like &quot;qr/\87/&quot; previously
silently inserted a <small>NUL</small> character, thus
matching as if it had been written &quot;qr/\00087/&quot;.
Now it matches as if it had been written as
&quot;qr/87/&quot;, with a message that the sequence
&quot;\8&quot; is unrecognized.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;__SUB__&quot; now works in special blocks
(&quot;BEGIN&quot;, &quot;END&quot;, etc.).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Thread creation on Windows could theoretically result in
a crash if done inside a &quot;BEGIN&quot; block. It still
does not work properly, but it no longer crashes [perl
#111610].</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;\&amp;{''}&quot; (with the empty string) now
autovivifies a stub like any other sub name, and no longer
produces the &quot;Unable to create sub&quot; error [perl
#94476].</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A regression introduced in v5.14.0 has been fixed, in
which some calls to the &quot;re&quot; module would clobber
$_ [perl #113750].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;do FILE&quot; now always either sets or clears $@,
even when the file can&rsquo;t be read. This ensures that
testing $@ first (as recommended by the documentation)
always returns the correct result.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The array iterator used for the &quot;each @array&quot;
construct is now correctly reset when @array is cleared
[perl #75596]. This happens, for example, when the array is
globally assigned to, as in &quot;@array = (...)&quot;, but
not when its <b>values</b> are assigned to. In terms of the
<small>XS API,</small> it means that &quot;av_clear()&quot;
will now reset the iterator.</p></td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">This mirrors
the behaviour of the hash iterator when the hash is
cleared.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="83%">



<p style="margin-top: 1em">&quot;$class&minus;&gt;can&quot;,
&quot;$class&minus;&gt;isa&quot;, and
&quot;$class&minus;&gt;DOES&quot; now return correct
results, regardless of whether that package referred to by
$class exists [perl #47113].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Arriving signals no longer clear $@ [perl #45173].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Allow &quot;my ()&quot; declarations with an empty
variable list [perl #113554].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>During parsing, subs declared after errors no longer
leave stubs [perl #113712].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Closures containing no string evals no longer hang on to
their containing subroutines, allowing variables closed over
by outer subroutines to be freed when the outer sub is
freed, even if the inner sub still exists [perl #89544].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Duplication of in-memory filehandles by opening with a
&quot;&lt;&amp;=&quot; or &quot;&gt;&amp;=&quot; mode
stopped working properly in v5.16.0. It was causing the new
handle to reference a different scalar variable. This has
been fixed [perl #113764].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;qr//&quot; expressions no longer crash with custom
regular expression engines that do not set &quot;offs&quot;
at regular expression compilation time [perl #112962].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;delete local&quot; no longer crashes with certain
magical arrays and hashes [perl #112966].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;local&quot; on elements of certain magical arrays
and hashes used not to arrange to have the element deleted
on scope exit, even if the element did not exist before
&quot;local&quot;.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;scalar(write)&quot; no longer returns multiple
items [perl #73690].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>String to floating point conversions no longer misparse
certain strings under &quot;use locale&quot; [perl
#109318].</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>@INC filters that die no longer leak memory [perl
#92252].</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The implementations of overloaded operations are now
called in the correct context. This allows, among other
things, being able to properly override &quot;&lt;&gt;&quot;
[perl #47119].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Specifying only the &quot;fallback&quot; key when
calling &quot;use overload&quot; now behaves properly [perl
#113010].</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;sub foo { my $a = 0; while ($a) { ... } }&quot;
and &quot;sub foo { while (0) { ... } }&quot; now return the
same thing [perl #73618].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>String negation now behaves the same under &quot;use
integer;&quot; as it does without [perl #113012].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;chr&quot; now returns the Unicode replacement
character (U+FFFD) for &minus;1, regardless of the internal
representation. &minus;1 used to wrap if the argument was
tied or a string internally.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Using a &quot;format&quot; after its enclosing sub was
freed could crash as of perl v5.12.0, if the format
referenced lexical variables from the outer sub.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Using a &quot;format&quot; after its enclosing sub was
undefined could crash as of perl v5.10.0, if the format
referenced lexical variables from the outer sub.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Using a &quot;format&quot; defined inside a closure,
which format references lexical variables from outside,
never really worked unless the &quot;write&quot; call was
directly inside the closure. In v5.10.0 it even started
crashing. Now the copy of that closure nearest the top of
the call stack is used to find those variables.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Formats that close over variables in special blocks no
longer crash if a stub exists with the same name as the
special block before the special block is compiled.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The parser no longer gets confused, treating &quot;eval
foo ()&quot; as a syntax error if preceded by
&quot;print;&quot; [perl #16249].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>The return value of &quot;syscall&quot; is no longer
truncated on 64&minus;bit platforms [perl #113980].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Constant folding no longer causes &quot;print 1 ? FOO :
BAR&quot; to print to the <small>FOO</small> handle [perl
#78064].</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;do subname&quot; now calls the named subroutine
and uses the file name it returns, instead of opening a file
named &quot;subname&quot;.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Subroutines looked up by rv2cv check hooks (registered
by <small>XS</small> modules) are now taken into
consideration when determining whether &quot;foo bar&quot;
should be the sub call &quot;foo(bar)&quot; or the method
call &quot;&quot;bar&quot;&minus;&gt;foo&quot;.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;CORE::foo::bar&quot; is no longer treated
specially, allowing global overrides to be called directly
via &quot;CORE::GLOBAL::uc(...)&quot; [perl #113016].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Calling an undefined sub whose typeglob has been
undefined now produces the customary &quot;Undefined
subroutine called&quot; error, instead of &quot;Not a
<small>CODE</small> reference&quot;.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Two bugs involving @ISA have been fixed. &quot;*ISA =
*glob_without_array&quot; and &quot;undef *ISA;
@{*ISA}&quot; would prevent future modifications to @ISA
from updating the internal caches used to look up methods.
The *glob_without_array case was a regression from Perl
v5.12.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Regular expression optimisations sometimes caused
&quot;$&quot; with &quot;/m&quot; to produce failed or
incorrect matches [perl #114068].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;__SUB__&quot; now works in a &quot;sort&quot;
block when the enclosing subroutine is predeclared with
&quot;sub foo;&quot; syntax [perl #113710].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Unicode properties only apply to Unicode code points,
which leads to some subtleties when regular expressions are
matched against above-Unicode code points. There is a
warning generated to draw your attention to this. However,
this warning was being generated inappropriately in some
cases, such as when a program was being parsed. Non-Unicode
matches such as &quot;\w&quot; and &quot;[:word:]&quot;
should not generate the warning, as their definitions
don&rsquo;t limit them to apply to only Unicode code points.
Now the message is only generated when matching against
&quot;\p{}&quot; and &quot;\P{}&quot;. There remains a bug,
[perl #114148], for the very few properties in Unicode that
match just a single code point. The warning is not generated
if they are matched against an above-Unicode code point.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Uninitialized warnings mentioning hash elements would
only mention the element name if it was not in the first
bucket of the hash, due to an off-by-one error.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>A regular expression optimizer bug could cause multiline
&quot;^&quot; to behave incorrectly in the presence of line
breaks, such that &quot;&quot;/\n\n&quot; =~
m#\A(?:^/$)#im&quot; would not match [perl #115242].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Failed &quot;fork&quot; in list context no longer
corrupts the stack. &quot;@a = (1, 2, fork, 3)&quot; used to
gobble up the 2 and assign &quot;(1, undef, 3)&quot; if the
&quot;fork&quot; call failed.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Numerous memory leaks have been fixed, mostly involving
tied variables that die, regular expression character
classes and code blocks, and syntax errors.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Assigning a regular expression (&quot;${qr//}&quot;) to
a variable that happens to hold a floating point number no
longer causes assertion failures on debugging builds.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Assigning a regular expression to a scalar containing a
number no longer causes subsequent numification to produce
random numbers.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Assigning a regular expression to a magic variable no
longer wipes away the magic. This was a regression from
v5.10.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Assigning a regular expression to a blessed scalar no
longer results in crashes. This was also a regression from
v5.10.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Regular expression can now be assigned to tied hash and
array elements with flattening into strings.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Numifying a regular expression no longer results in an
uninitialized warning.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Negative array indices no longer cause
<small>EXISTS</small> methods of tied variables to be
ignored. This was a regression from v5.12.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>Negative array indices no longer result in crashes on
arrays tied to non-objects.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;$byte_overload .= $utf8&quot; no longer results in
doubly-encoded <small>UTF&minus;8</small> if the left-hand
scalar happened to have produced a
<small>UTF&minus;8</small> string the last time overloading
was invoked.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>&quot;goto &amp;sub&quot; now uses the current value of
@_, instead of using the array the subroutine was originally
called with. This means &quot;local @_ = (...); goto
&amp;sub&quot; now works [perl #43077].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>If a debugger is invoked recursively, it no longer
stomps on its own lexical variables. Formerly under
recursion all calls would share the same set of lexical
variables [perl #115742].</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>*_{ARRAY} returned from a subroutine no longer
spontaneously becomes empty.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="5%"></td>
<td width="83%">


<p>When using &quot;say&quot; to print to a tied
filehandle, the value of &quot;$\&quot; is correctly
localized, even if it was previously undef. [perl
#119927]</p> </td></tr>
</table>

<h2>Known Problems
<a name="Known Problems"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="5%"></td>
<td width="81%">


<p style="margin-top: 1em">UTF8&minus;flagged strings in
%ENV on HP-UX 11.00 are buggy</p></td>
<td width="2%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The interaction
of UTF8&minus;flagged strings and %ENV on HP-UX 11.00 is
currently dodgy in some not-yet-fully-diagnosed way. Expect
test failures in <i>t/op/magic.t</i>, followed by unknown
behavior when storing wide characters in the
environment.</p>

<h2>Obituary
<a name="Obituary"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Hojung Yoon (
<small>AMORETTE</small> ), 24, of Seoul, South Korea, went
to his long rest on May 8, 2013 with llama figurine and
autographed <small>TIMTOADY</small> card. He was a brilliant
young Perl 5 &amp; 6 hacker and a devoted member of
Seoul.pm. He programmed Perl, talked Perl, ate Perl, and
loved Perl. We believe that he is still programming in Perl
with his broken <small>IBM</small> laptop somewhere. He will
be missed.</p>

<h2>Acknowledgements
<a name="Acknowledgements"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Perl v5.18.0
represents approximately 12 months of development since Perl
v5.16.0 and contains approximately 400,000 lines of changes
across 2,100 files from 113 authors.</p>

<p style="margin-left:11%; margin-top: 1em">Perl continues
to flourish into its third decade thanks to a vibrant
community of users and developers. The following people are
known to have contributed the improvements that became Perl
v5.18.0:</p>

<p style="margin-left:11%; margin-top: 1em">Aaron Crane,
Aaron Trevena, Abhijit Menon-Sen, Adrian M. Enache, Alan
Haggai Alavi, Alexandr Ciornii, Andrew Tam, Andy Dougherty,
Anton Nikishaev, Aristotle Pagaltzis, Augustina Blair, Bob
Ernst, Brad Gilbert, Breno G. de Oliveira, Brian Carlson,
Brian Fraser, Charlie Gonzalez, Chip Salzenberg, Chris
&rsquo;BinGOs&rsquo; Williams, Christian Hansen, Colin
Kuskie, Craig A. Berry, Dagfinn Ilmari Mannsaaker, Daniel
Dragan, Daniel Perrett, Darin McBride, Dave Rolsky, David
Golden, David Leadbeater, David Mitchell, David Nicol,
Dominic Hargreaves, E. Choroba, Eric Brine, Evan Miller,
Father Chrysostomos, Florian Ragwitz, Francois Perrad,
George Greer, Goro Fuji, H.Merijn Brand, Herbert Breunung,
Hugo van der Sanden, Igor Zaytsev, James E Keenan, Jan
Dubois, Jasmine Ahuja, Jerry D. Hedden, Jess Robinson, Jesse
Luehrs, Joaquin Ferrero, Joel Berger, John Goodyear, John
Peacock, Karen Etheridge, Karl Williamson, Karthik
Rajagopalan, Kent Fredric, Leon Timmermans, Lucas Holt,
Lukas Mai, Marcus Holland-Moritz, Markus Jansen, Martin
Hasch, Matthew Horsfall, Max Maischein, Michael G Schwern,
Michael Schroeder, Moritz Lenz, Nicholas Clark, Niko Tyni,
Oleg Nesterov, Patrik Haegglund, Paul Green, Paul Johnson,
Paul Marquess, Peter Martini, Rafael Garcia-Suarez, Reini
Urban, Renee Baecker, Rhesa Rozendaal, Ricardo Signes, Robin
Barker, Ronald J. Kimball, Ruslan Zakirov, Salvador
Fandin~o, Sawyer X, Scott Lanning, Sergey Alekseev, Shawn M
Moore, Shirakata Kentaro, Shlomi Fish, Sisyphus, Smylers,
Steffen Mueller, Steve Hay, Steve Peters, Steven Schubiger,
Sullivan Beck, Sven Strickroth, Sebastien Aperghis-Tramoni,
Thomas Sibley, Tobias Leich, Tom Wyant, Tony Cook, Vadim
Konovalov, Vincent Pit, Volker Schatz, Walt Mankowski, Yves
Orton, Zefram.</p>

<p style="margin-left:11%; margin-top: 1em">The list above
is almost certainly incomplete as it is automatically
generated from version control history. In particular, it
does not include the names of the (very much appreciated)
contributors who reported issues to the Perl bug
tracker.</p>

<p style="margin-left:11%; margin-top: 1em">Many of the
changes included in this version originated in the
<small>CPAN</small> modules included in Perl&rsquo;s core.
We&rsquo;re grateful to the entire <small>CPAN</small>
community for helping Perl to flourish.</p>

<p style="margin-left:11%; margin-top: 1em">For a more
complete list of all of Perl&rsquo;s historical
contributors, please see the <i><small>AUTHORS</small></i>
file in the Perl source distribution.</p>

<h2>Reporting Bugs
<a name="Reporting Bugs"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If you find
what you think is a bug, you might check the articles
recently posted to the comp.lang.perl.misc newsgroup and the
perl bug database at http://rt.perl.org/perlbug/ . There may
also be information at http://www.perl.org/ , the Perl Home
Page.</p>

<p style="margin-left:11%; margin-top: 1em">If you believe
you have an unreported bug, please run the perlbug program
included with your release. Be sure to trim your bug down to
a tiny but sufficient test case. Your bug report, along with
the output of &quot;perl &minus;V&quot;, will be sent off to
perlbug@perl.org to be analysed by the Perl porting
team.</p>

<p style="margin-left:11%; margin-top: 1em">If the bug you
are reporting has security implications, which make it
inappropriate to send to a publicly archived mailing list,
then please send it to
perl5&minus;security&minus;report@perl.org. This points to a
closed subscription unarchived mailing list, which includes
all the core committers, who will be able to help assess the
impact of issues, figure out a resolution, and help
co-ordinate the release of patches to mitigate or fix the
problem across all platforms on which Perl is supported.
Please only use this address for security issues in the Perl
core, not for modules independently distributed on
<small>CPAN.</small></p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The
<i>Changes</i> file for an explanation of how to view
exhaustive details on what changed.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i><small>INSTALL</small></i> file for how to build
Perl.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i><small>README</small></i> file for general stuff.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>Artistic</i> and <i>Copying</i> files for copyright
information.</p>
<hr>
</body>
</html>
