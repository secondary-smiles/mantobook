<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:53:43 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>C44</title>

</head>
<body>
<h1>c44</h1>



<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">c44 &minus;
DjVuPhoto encode.</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>c44
[</b><i>options</i><b>]</b> <i>inputfilename</i>
<b>[</b><i>outputfilename</i><b>]</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Produces a
DjVuPhoto encoded image. The input image file
<i>inputfilename</i> can be either a portable gray-map (
<small>PGM) or a portable pix-map ( <small>PPM).</small>
Input images compressed with <small>JPEG</small> are also
accepted. It is however suggested to only use high quality
<small>JPEG</small> files (low compression ratio, large
size) because the wavelet compression will increase the
defects already present in highly compressed
<small>JPEG</small> files.</small></p>

<p style="margin-left:11%; margin-top: 1em"><small>The
program produces a DjVuPhoto file <i>outputfilename</i>. If
the output file name is not specified, a default file name
will be generated by replacing the input file name suffix by
suffix <i>djvu</i>.</small></p>

<p style="margin-left:11%; margin-top: 1em"><small>The main
design objective for the DjVu wavelets consisted of allowing
progressive rendering and smooth scrolling of large images
with limited memory requirements. Decoding functions process
the compressed data and update a memory efficient
representation of the wavelet coefficients. Imaging function
then can quickly render an arbitrary segment of the image
using the available data. Both process can be carried out in
two threads of execution. This design plays an important
role in the DjVu system. We investigated various
state-of-the-art wavelet compression schemes. Although these
schemes may achieve slightly smaller file sizes, the
decoding functions did not even approach our requirements.
The <small>IW44</small> wavelets reach these requirements
today and may in the future implement more modern
refinements if these refinements can be implemented within
our constraints.</small></p>

<h2>QUALITY SELECTION OPTIONS
<a name="QUALITY SELECTION OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><small>DjVuPhoto
files are logically composed of a sequence of
&quot;slices&quot; containing successive image refinements.
Slices are grouped in &quot;chunks&quot; defining the
progressive rendering sequence. The viewer is able to
display an intermediate image after processing each chunk. A
typical DjVuPhoto files contains 80 to 120 slices grouped
into 1 to 4 chunks.</small></p>

<p style="margin-left:11%; margin-top: 1em"><small>The
quality selection options provide various ways to specify
the number of chunks and the number of slices per chunk. The
<b>c44</b> program adds slices to the current chunk until
exceeding a target number of slices, a target file size, or
a target quality specification. The following options define
targets for each chunk. The option argument contain several
numerical values (one per chunk) separated by either commas
or pluses. <b><br>
-slice</b> <i>n</i><b>+...+</b><i>n</i></small></p>

<p style="margin-left:22%;"><small>Specify the number of
slices in each chunk. The option argument contains
plus-separated numerical values (one per chunk) indicating
the number of slices per chunk. Option <b>-slice
74+13+10</b>, for instance, would be appropriate for
compressing a photographic image with three progressive
refinements. More quality and more refinements can be
obtained with option <b>-slice 72+11+10+10</b>.</small></p>

<p style="margin-left:11%;"><small><b>-slice</b>
<i>n</i><b>,...,</b><i>n</i></small></p>

<p style="margin-left:22%;"><small>Specify the cumulative
number of slices for each chunk. Since the final quality is
determined by the total number of slices, it is often more
convenient to use comma-separated values (one per chunk)
indicating the cumulative number of slices for each chunk
(i.e. including those encoded in all previous chunks). The
values suggested above can also be expressed as <b>-slice
74,87,97</b> and <b>-slice 72,83,93,103</b>.</small></p>

<p style="margin-left:11%;"><small><b>-size</b>
<i>n</i><b>,...,</b><i>n</i></small></p>

<p style="margin-left:22%;"><small>Specify size targets for
each chunk expressed in bytes. The option argument can be
either a plus-separated list specifying a size for each
chunk, or a comma separated list specifying cumulative sizes
for each chunk and all previous chunks. Size targets are
approximates. Slices will be added to each chunk until
exceeding the specified target.</small></p>

<p style="margin-left:11%;"><small><b>-bpp</b>
<i>n</i><b>,...,</b><i>n</i></small></p>

<p style="margin-left:22%;"><small>Specify size targets for
each chunk expressed in bits-per-pixel. Both comma-separated
and plus-separated specifications are accepted. Option
<b>-bpp 0.25,0.5,1</b> usually provides good
results.</small></p>

<p style="margin-left:11%;"><small><b>-percent</b>
<i>n</i><b>,...,</b><i>n</i></small></p>

<p style="margin-left:22%;"><small>Specify size targets for
each chunk expressed as a percentage of the input file size.
Both comma-separated and plus-separated specifications are
accepted. Results can be drastically different according to
the format of the input image (raw or <small>JPEG</small>
compressed).</small></p>

<p style="margin-left:11%;"><small><b>-decibel</b>
<i>n</i><b>,...,</b><i>n</i></small></p>

<p style="margin-left:22%;"><small>Specify quality targets
for each chunk expressed as a comma-separated list of
increasing decibel values. Decibel values range from 16
(very low quality) to 48 (very high quality). This criterion
should not be relied upon when re-encoding an image
previously compressed by another compression scheme.
Selecting this option significantly increases the
compression time.</small></p>

<p style="margin-left:11%;"><small><b>-dbfrac</b>
<i>frac</i></small></p>

<p style="margin-left:22%;"><small>Indicate that the
decibel values specified in option <b>-decibel</b> should be
computed by averaging the mean squared errors of only the
fraction <i>frac</i> of the most mis-represented blocks of
32 x 32 pixels. This option is useful with composite images
containing solid color features (e.g. an image with a large
white border).</small></p>


<p style="margin-left:11%; margin-top: 1em"><small>Providing
no quality specification options automatically selects a
default quality specification <b>-slice 74,89,99</b>.
Multiple quality specification options are allowed. The
program outputs a file whose total number of chunks is the
largest number of chunks of all quality specifications.
Slices are added to each chunk until reaching any of the
quality target for this chunk.</small></p>

<h2>OTHER OPTIONS
<a name="OTHER OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><small>The
following additional options are supported:</small></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><small><b>-dpi</b> <i>n</i></small></p></td>
<td width="2%"></td>
<td width="78%">


<p><small>Specify the resolution information encoded into
the output file expressed in dots per inch. The resolution
information encoded in DjVu files determine how the decoder
scales the image on a particular display. Meaningful
resolutions range from 25 to 1200. The default value, 100
dpi, should be suitable for most photographic
images.</small></p> </td></tr>
</table>

<p style="margin-left:11%;"><small><b>-gamma</b>
<i>n</i></small></p>

<p style="margin-left:22%;"><small>Specify the gamma
correction information encoded into the output file. The
argument <i>n</i> specified the gamma value of the device
for which the input image was designed. The default value is
2.2. This is appropriate for images designed for a standard
computer monitor.</small></p>

<p style="margin-left:11%;"><small><b>-mask</b>
<i>pbmfilename</i></small></p>

<p style="margin-left:22%;"><small>The design of the
<small>IW44</small> wavelets allows for compressing
partially masked images. This option can be used when
certain pixels of a background image are going to be covered
by foreground objects like text or drawings. File
<i>pbmfile</i> must be a <small>PBM</small> file whose size
matches the size of the input file. Each black pixel in
<i>pbmfile</i> means that the value of the corresponding
pixel in the input file is irrelevant. The
<small>IW44</small> encoder will replace the masked pixels
by a color value whose coding cost is minimal (see
<b>http://www.djvuzone.org/djvu/techpapers/mask/index.djvu</b>
for technical details.)</small></p>


<p style="margin-left:11%;"><small><b>-crcbnormal</b></small></p>

<p style="margin-left:22%;"><small>Select normal
chrominance encoding. Chrominance information is encoded at
the same resolution as the luminance. This is the
default.</small></p>


<p style="margin-left:11%;"><small><b>-crcbhalf</b></small></p>

<p style="margin-left:22%;"><small>Selects half resolution
chrominance encoding. Chrominance information is encoded at
half the luminance resolution.</small></p>

<p style="margin-left:11%;"><small><b>-crcbdelay</b>
<i>n</i></small></p>

<p style="margin-left:22%;"><small>This option can be used
with <b>-crcbnormal</b> and <b>-crcbhalf</b> to modify the
quality of the chrominance information. The option arguments
specifies a parameter <i>n</i>, expressed in slices, that
reduces the bit-rate associated with the chrominance. The
default chrominance encoding delay is 10 slices.</small></p>


<p style="margin-left:11%;"><small><b>-crcbfull</b></small></p>

<p style="margin-left:22%;"><small>Select the highest
possible quality for encoding the chrominance information.
This is equivalent to specifying <b>-crcbnormal</b> and
<b>-crcbdelay 0</b>.</small></p>


<p style="margin-left:11%;"><small><b>-crcbnone</b></small></p>

<p style="margin-left:22%;"><small>Disable the encoding of
the chrominance. Only the luminance information will be
encoded. The resulting image will show in shades of
gray.</small></p>

<h2>REMARKS
<a name="REMARKS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><small>The
default quality setting of the DjVuLibre version of
<b>c44</b> has been increased. It produces larger files with
a better quality. Quality can be lowered using the quality
selection options!</small></p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><small>The
encoder requires more memory than necessary. <br>
The rechunking capability is currently broken.</small></p>

<h2>CREDITS
<a name="CREDITS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><small>This
program was written by L&eacute;on Bottou
&lt;leonb@users.sourceforge.net&gt; and was then improved by
Andrei Erofeev &lt;andrew_erofeev@yahoo.com&gt;, Bill
Riemers &lt;docbill@sourceforge.net&gt; and many
others.</small></p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><small><b>djvu</b>(1),
<b>pnm</b>(5), <b>cjpeg</b>(1).</small></p>
<hr>
</body>
</html>
