<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:53:53 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>mkbitmap</title>

</head>
<body>
<h1>mkbitmap</h1>



<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">mkbitmap
&minus; transform images into bitmaps with scaling and
filtering</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>mkbitmap
[</b><i>options</i><b>] [</b><i>filename...</i><b>]</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>mkbitmap</b>
reads an image, and applies one or more of the following
operations to it, in this order: inversion, highpass
filtering, scaling, and thresholding. Each operation can be
individually controlled and turned on or off.</p>

<p style="margin-left:11%; margin-top: 1em">The principal
use of <b>mkbitmap</b> is to convert color or greyscale
images into a format suitable as input for other programs,
particularly the tracing program <b>potrace</b>(1). It is
particularly useful for converting scanned line art, such as
cartoons, handwritten text, etc., to high-resolution bilevel
images.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Highpass
filtering</i> can be used to ensure that foreground features
such as lines and text are preserved, while at the same time
compensating for uneven background. Optional <i>blurring</i>
can be applied to smooth out the image and remove visual
noise. <i>Scaling</i> is important because a scanned
greyscale image contains more visual detail than a bilevel
image at the same resolution. By scaling the image to a
higher resolution (using interpolation) before thresholding
it, some of this detail is preserved. <i>Thresholding</i>
means converting a greyscale image to a bilevel image using
only black and white pixels. Pixels that are darker than a
certain threshold value are converted to black. Optional
<i>inversion</i> is useful if the input image shows bright
features on dark background, such as a picture of chalk
drawings on a blackboard.</p>

<p style="margin-left:11%; margin-top: 1em">Supported input
formats are PNM (PBM, PGM, PPM) and BMP. The output formats
are PBM for bitmaps, and PGM for greymaps.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>General
options:</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%">


<p><b>-h, --help</b></p></td>
<td width="3%"></td>
<td width="43%">


<p>print help message and exit.</p></td>
<td width="23%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%">


<p><b>-v, --version</b></p></td>
<td width="3%"></td>
<td width="43%">


<p>print version info and exit.</p></td>
<td width="23%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%">


<p><b>-l, --license</b></p></td>
<td width="3%"></td>
<td width="43%">


<p>print license info and exit.</p></td>
<td width="23%">
</td></tr>
</table>


<p style="margin-left:11%; margin-top: 1em"><b>Input/output
options:</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="12%">


<p style="margin-top: 1em"><i>filename</i></p></td>
<td width="11%"></td>
<td width="66%">


<p style="margin-top: 1em">If filename arguments are given,
then <b>mkbitmap</b> will by default create one output file
for each input filename given. The name of the output file
is obtained from the input filename by changing its suffix
to &quot;.pbm&quot; or &quot;.pgm&quot;. If the name of the
input file and output file would be identical, then an
additional suffix &quot;-out&quot; is appended to the output
filename. If no filename arguments are given, then
<b>mkbitmap</b> acts as a filter, reading from standard
input and writing to standard output. A filename of
&quot;-&quot; may be given to specify reading from standard
input; the output for this argument will then be written to
standard output. Each input file may contain one or more
images.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>-o</b> <i>filename</i><b>,
--output</b> <i>filename</i></p>

<p style="margin-left:34%;">write output to this file. All
output is concatenated and directed to the specified file.
This overrides the default behavior of creating one output
file for each input file. A filename of &quot;-&quot; may be
given to specify writing to standard output.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Image
processing options: <br>
-x, --nodefaults</b></p>

<p style="margin-left:34%;">Turn off default options.
Normally, the following options are preselected by default:
<b>-f 4 -s 2 -3 -t 0.45</b>. The <b>-x</b> option disables
these defaults; thus, <b>mkbitmap -x</b> does nothing but
copy a greyscale image from the input to the output. Other
processing options can then be added one by one; e.g.,
<b>mkbitmap -xf10</b> does only highpass filtering,
<b>mkbitmap -xt0.5</b> does only thresholding, etc.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="18%">


<p><b>-i, --invert</b></p></td>
<td width="5%"></td>
<td width="66%">


<p>Invert the input image. If this option is chosen, it is
applied to the image before any other operation. It is used
to deal with white-on-black images, such as photographs of
chalk drawings on a blackboard. Note that the behavior of
this option is not in general the same as inverting the
<i>output</i> bitmap, unless the thresholding value is also
inverted.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>-f</b> <i>n</i><b>,
--filter</b> <i>n</i></p>

<p style="margin-left:34%;">Apply a highpass filter to the
image. This filter is approximately Gaussian and
non-directional. The effect is to preserve small detail
while compensating for background gradients. The parameter
<i>n</i> is a radius (in pixels) which corresponds
approximately to the size of details which should be
preserved. More precisely, the filter is implemented by
subtracting a blurred version of the image from the original
image. The parameter <i>n</i> is equal to the standard
deviation of the blur. The output of the filtering step is a
normalized image whose average brightness is exactly 0.5.
The default filter radius is 4.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="21%">


<p><b>-n, --nofilter</b></p></td>
<td width="2%"></td>
<td width="66%">


<p>Turn off highpass filtering.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="21%">


<p><b>-b</b> <i>n</i><b>, --blur</b> <i>n</i></p></td>
<td width="2%"></td>
<td width="66%">


<p>Blur the image. The effect is to smooth out fine details
and to reduce visual noise in the image. The parameter
<i>n</i> is the blurring radius, and should be chosen small
(1 is a good value to start with). This is implemented as an
approximately Gaussian, non-directional blur with standard
deviation proportional to <i>n</i>. Blurring is applied
after the highpass filter, but before scaling and
thresholding. If this option is not given, the default is
not to apply any blurring.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>-s</b> <i>n</i><b>,
--scale</b> <i>n</i></p>

<p style="margin-left:34%;">Scale the image by an integer
factor <i>n</i>&gt;0. Scaling is done after highpass
filtering, but before the thresholding step. A scaling
factor of 1 indicates that no scaling is to be done.
Otherwise, interpolation is used to fill in the in-between
pixels. If the output of <b>mkbitmap</b> is to be used as
input to a tracing program such as <b>potrace</b>, a scaling
factor of 2 is recommended. This preserved the right amount
of detail for the tracing algorithm to work well. If a
scaling factor of 1 is used, too much detail is lost. If a
scaling factor of 3 or higher is used, the interpolation
tends to &quot;invent&quot; detail which was not present in
the original image, thus preventing <b>potrace</b> from
doing a good job.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="18%">


<p><b>-1, --linear</b></p></td>
<td width="5%"></td>
<td width="66%">


<p>Use linear interpolation when scaling to a higher
resolution. This is slightly faster, but less nice, than the
default cubic interpolation.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="18%">


<p><b>-3, --cubic</b></p></td>
<td width="5%"></td>
<td width="66%">


<p>Use cubic interpolation when scaling to a higher
resolution. This is the default. It is slower than linear
interpolation, but leads to better results.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>-t</b> <i>n</i><b>,
--threshold</b> <i>n</i></p>

<p style="margin-left:34%;">Set the threshold grey value
for bilevel conversion. The parameter <i>n</i> is a
brightness value between 0 for black and 1 for white. Any
pixels below this brightness will be converted to black
(thus, smaller values of <i>n</i> will lead to whiter
output).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="15%">


<p><b>-g, --grey</b></p></td>
<td width="8%"></td>
<td width="66%">


<p>Disable bilevel conversion. If this option is given,
processing stops after the scaling step and a greymap is
output.</p> </td></tr>
</table>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The exit status
is 0 on successful completion, 1 if the command line was
invalid, and 2 on any other error.</p>

<h2>VERSION
<a name="VERSION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">1.16</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Peter Selinger
&lt;selinger at users.sourceforge.net&gt;</p>

<h2>WEB SITE AND SUPPORT
<a name="WEB SITE AND SUPPORT"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>mkbitmap</b>
is distributed as part of the <b>potrace</b> package, and
the latest version is available from
http://potrace.sourceforge.net/. This site also contains
documentation and information on how to obtain support.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>potrace</b>(1)</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright (C)
2001-2019 Peter Selinger</p>

<p style="margin-left:11%; margin-top: 1em">This program is
free software; you can redistribute it and/or modify it
under the terms of the GNU General Public License as
published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.</p>

<p style="margin-left:11%; margin-top: 1em">This program is
distributed in the hope that it will be useful, but WITHOUT
ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.</p>

<p style="margin-left:11%; margin-top: 1em">You should have
received a copy of the GNU General Public License along with
this program; if not, write to the Free Software Foundation,
Inc., 51 Franklin Street, Fifth Floor, Boston, MA
02110-1301, USA. See also http://www.gnu.org/.</p>
<hr>
</body>
</html>
