<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:53:52 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>LATEXMK</title>

</head>
<body>
<h1>latexmk</h1>



<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">latexmk &minus;
generate LaTeX document</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>latexmk
[options] [file ...]</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b><i>Latexmk</i></b>
completely automates the process of compiling a LaTeX
document. Essentially, it is like a specialized relative of
the general <i>make</i> utility, but one which determines
dependencies automatically and has some other very useful
features. In its basic mode of operation <i>latexmk</i> is
given the name of the primary source file for a document,
and it issues the appropriate sequence of commands to
generate a .dvi, .ps, .pdf and/or hardcopy version of the
document.</p>

<p style="margin-left:11%; margin-top: 1em">By default
<i>latexmk</i> will run the commands necessary to generate a
.dvi file, which copies the behavior of earlier versions
when only <i>latex</i> was available.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Latexmk</i>
can also be set to run continuously with a suitable
previewer. In that case the <i>latex</i> program (or one of
its relatives), etc, are rerun whenever one of the source
files is modified, and the previewer automatically updates
the on-screen view of the compiled document.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Latexmk</i>
determines which are the source files by examining the log
file. (Optionally, it also examines the list of input and
output files generated by the <b>-recorder</b> option of
modern versions of <i>latex</i> (and <i>pdflatex</i>,
<i>xelatex</i>, <i>lualatex</i>). See the documentation for
the <b>-recorder</b> option of <i>latexmk</i> below.) When
<i>latexmk</i> is run, it examines properties of the source
files, and if any have been changed since the last document
generation, <i>latexmk</i> will run the various LaTeX
processing programs as necessary. In particular, it will
repeat the run of <i>latex</i> (or a related program)) often
enough to resolve all cross references; depending on the
macro packages used. With some macro packages and document
classes, four, or even more, runs may be needed. If
necessary, <i>latexmk</i> will also run <i>bibtex</i>,
<i>biber</i>, and/or <i>makeindex</i>. In addition,
<i>latexmk</i> can be configured to generate other necessary
files. For example, from an updated figure file it can
automatically generate a file in encapsulated postscript or
another suitable format for reading by LaTeX.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Latexmk</i>
has two different previewing options. With the simple
<b>-pv</b> option, a dvi, postscript or pdf previewer is
automatically run after generating the dvi, postscript or
pdf version of the document. The type of file to view is
selected according to configuration settings and command
line options.</p>

<p style="margin-left:11%; margin-top: 1em">The second
previewing option is the powerful <b>-pvc</b> option
(mnemonic: &quot;preview continuously&quot;). In this case,
<i>latexmk</i> runs continuously, regularly monitoring all
the source files to see if any have changed. Every time a
change is detected, <i>latexmk</i> runs all the programs
necessary to generate a new version of the document. A good
previewer will then automatically update its display. Thus
the user can simply edit a file and, when the changes are
written to disk, <i>latexmk</i> completely automates the
cycle of updating the .dvi (and/or the .ps and .pdf) file,
and refreshing the previewer&rsquo;s display. It&rsquo;s not
quite WYSIWYG, but usefully close.</p>

<p style="margin-left:11%; margin-top: 1em">For other
previewers, the user may have to manually make the previewer
update its display, which can be (e.g., with some versions
of <i>xdvi</i> and <i>gsview</i>) as simple as forcing a
redraw of its display.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Latexmk</i>
has the ability to print a banner in gray diagonally across
each page when making the postscript file. It can also, if
needed, call an external program to do other postprocessing
on generated dvi and postscript files. (See the options
<b>-dF</b> and <b>-pF</b>, and the documentation for the
<i>$dvi_filter</i> and <i>$ps_filter</i> configuration
variables.) These capabilities are leftover from older
versions of <i>latexmk</i>, but <b>are currently
non-functional</b>. More flexibility can be obtained in
current versions, since the command strings for running
<i>*latex</i> can now be configured to run multiple
commands. This also extends the possibility of
postprocessing generated files.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Latexmk</i>
is highly configurable, both from the command line and in
configuration files, so that it can accommodate a wide
variety of user needs and system configurations. Default
values are set according to the operating system, so
<i>latexmk</i> often works without special configuration on
MS-Windows, cygwin, Linux, OS-X, and other UNIX systems. See
the section &quot;Configuration/Initialization (rc)
Files&quot;, and then the later sections &quot;How to Set
Variables in Initialization Files&quot;, &quot;Format of
Command Specifications&quot;, &quot;List of Configuration
Variables Usable in Initialization Files&quot;, &quot;Custom
Dependencies&quot;, and &quot;Advanced
Configuration&quot;</p>

<p style="margin-left:11%; margin-top: 1em">A very annoying
complication handled very reliably by <i>latexmk</i>, is
that LaTeX is a multiple pass system. On each run, LaTeX
reads in information generated on a previous run, for things
like cross referencing and indexing. In the simplest cases,
a second run of LaTeX suffices, and often the log file
contains a message about the need for another pass. However,
there is a wide variety of add-on macro packages to LaTeX,
with a variety of behaviors. The result is to break
simple-minded determinations of how many runs are needed and
of which programs. <i>Latexmk</i> has a highly general and
efficient solution to these issues. The solution involves
retaining between runs information on the source files, and
a symptom is that <i>latexmk</i> generates an extra file
(with extension <i>.fdb_latexmk</i>, by default) that
contains the source file information.</p>

<h2>LATEXMK OPTIONS AND ARGUMENTS ON COMMAND LINE
<a name="LATEXMK OPTIONS AND ARGUMENTS ON COMMAND LINE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">In general the
command line to invoke <i>latexmk</i> has the form</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="8%"></td>
<td width="7%"></td>
<td width="85%">


<p>latexmk [options] [file]</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">All options can
be introduced by single or double &quot;-&quot; characters,
e.g., &quot;latexmk -help&quot; or &quot;latexmk
--help&quot;.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Note 1</b>:
In the documentation, &rsquo;<i>*latex</i>&rsquo; means any
of the supported engines, i.e., currently <i>latex</i>,
<i>lualatex</i>, <i>pdflatex</i>, <i>xelatex</i>. Mention of
a specific one of these normally refers that specific
engines. Earlier versions of this documentation
weren&rsquo;t so consistent. Which of these is used to
compile a document, depends on the configuration and the
command line arguments.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Note 2</b>:
<b>In addition to the options in the list below,</b>
<i>latexmk</i> recognizes almost all the options recognized
by the <i>*latex</i> programs in their current TeXLive and
MiKTeX implementations. Some of the options for these
programs trigger special action or behavior by
<i>latexmk</i>, in which case they have specific
explanations in this document; in this case they may or may
not be passed to *latex as well.</p>

<p style="margin-left:11%; margin-top: 1em">Run
<i>latexmk</i> with the <b>-showextraoptions</b> to get a
list of the options that <i>latexmk</i> accepts and that are
simply passed through to <i>*latex</i>. See also the
explanation of the <b>-showextraoptions</b> option for more
information.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Definitions
of options and arguments</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>file</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>One or more files can be specified. If no files are
specified, <i>latexmk</i> will, by default, run on all files
in the current working directory with a &quot;.tex&quot;
extension. This behavior can be changed: see the description
concerning the <i>@default_files</i> variable in the section
&quot;List of configuration variables usable in
initialization files&quot;.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">If a file is
specified without an extension, then the &quot;.tex&quot;
extension is automatically added, just as LaTeX does. Thus,
if you specify:</p>

<p style="margin-left:22%; margin-top: 1em">latexmk foo</p>

<p style="margin-left:22%; margin-top: 1em">then
<i>latexmk</i> will operate on the file
&quot;foo.tex&quot;.</p>

<p style="margin-left:22%; margin-top: 1em">There are
certain restrictions on what characters can be in a
filename; certain characters are either prohibited or
problematic for the <i>latex</i> etc programs. These
characters are: &quot;$&quot;, &quot;%&quot;, &quot;\&quot;,
&quot;~&quot;, the double quote character, and the control
characters null, tab, form feed, carriage return, line feed,
and delete. In addition &quot;&amp;&quot; is prohibited when
it is the first character of a filename.</p>

<p style="margin-left:22%; margin-top: 1em"><i>Latexmk</i>
gives a fatal error when it detects any of the above
characters in the TeX filename(s) specified on the command
line. <i>However</i> before testing for illegal characters,
<i>latexmk</i> removes matching pairs of double quotes from
a filename. This matches the behavior of <i>latex</i> etc,
and deals with problems that occasionally result from
filenames that have been incorrectly quoted on the command
line. <i>In addition</i>, under Microsoft Windows, the
forward slash character &quot;\&quot; is a directory
separator, so <i>latexmk</i> replaces it by a backward slash
&quot;/&quot;, which is also a legal directory separator in
Windows, and is accepted by <i>latex</i> etc.</p>

<p style="margin-left:11%;"><b>-auxdir=FOO</b> or
<b>-aux-directory=FOO</b></p>

<p style="margin-left:22%;">Sets the directory for
auxiliary output files of *latex (.aux, .log etc). This
achieves its effect by the <b>-aux-directory</b> option of
*latex, which currently is only implemented on the MiKTeX
version of *latex.</p>

<p style="margin-left:22%; margin-top: 1em">See also the
<b>-outdir</b>/<b>-output-directory</b> options, and the
<i>$aux_dir</i>, <i>$out_dir</i>, and
<i>$search_path_separator</i> configuration variables of
<i>latexmk</i>. In particular, see the documentation of
<i>$out_dir</i> for some complications on what directory
names are suitable.</p>

<p style="margin-left:22%; margin-top: 1em">If you also use
the <b>-cd</b> option, and the specified auxiliary output
directory is a relative path, then the path is interpreted
relative to the document directory.</p>

<p style="margin-left:11%;"><b>-bibtex</b></p>

<p style="margin-left:22%;">When the source file uses bbl
files for bibliography, run bibtex or biber as needed to
regenerate the bbl files.</p>

<p style="margin-left:22%; margin-top: 1em">This property
can also be configured by setting the <i>$bibtex_use</i>
variable to 2 in a configuration file.</p>

<p style="margin-left:11%;"><b>-bibtex-</b></p>

<p style="margin-left:22%;">Never run bibtex or biber.
Also, always treat .bbl files as precious, i.e., do not
delete them in a cleanup operation.</p>

<p style="margin-left:22%; margin-top: 1em">A common use
for this option is when a document comes from an external
source, complete with its bbl file(s), and the user does not
have the corresponding bib files available. In this
situation use of the <b>-bibtex-</b> option will prevent
<i>latexmk</i> from trying to run <i>bibtex</i> or
<i>biber</i>, which would result in overwriting of the bbl
files.</p>

<p style="margin-left:22%; margin-top: 1em">This property
can also be configured by setting the <i>$bibtex_use</i>
variable to 0 in a configuration file.</p>

<p style="margin-left:11%;"><b>-bibtex-cond</b></p>

<p style="margin-left:22%;">When the source file uses bbl
file(s) for the bibliography, run <i>bibtex</i> or
<i>biber</i> as needed to regenerate the bbl files, but only
if the relevant bib file(s) exist. Thus when the bib files
are not available, <i>bibtex</i> or <i>biber</i> is not run,
thereby avoiding overwriting of the bbl file(s). Also,
always treat .bbl files as precious, i.e., do not delete
them in a cleanup operation.</p>

<p style="margin-left:22%; margin-top: 1em">This is the
default setting. It can also be configured by setting the
<i>$bibtex_use</i> variable to 1 in a configuration
file.</p>

<p style="margin-left:22%; margin-top: 1em">The reason for
using this setting is that sometimes a .bbl file is
available containing the bibliography for a document, but
the .bib file is not available. An example would be for a
scientific journal where authors submit .tex and .bbl files,
but not the original .bib file. In that case, running
<i>bibtex</i> or <i>biber</i> would not work, and the .bbl
file should be treated as a user source file, and not as a
file that can be regenerated on demand.</p>

<p style="margin-left:22%; margin-top: 1em">(Note that it
is possible for <i>latexmk</i> to decide that the bib file
does not exist, even though the bib file does exist and
<i>bibtex</i> or <i>biber</i> finds it. The problem is that
the bib file may not be in the current directory but in some
search path; the places <i>latexmk</i> and <i>bibtex</i> or
<i>biber</i> cause to be searched need not be identical. On
modern installations of TeX and related programs this
problem should not arise, since <i>latexmk</i> uses the
<i>kpsewhich</i> program to do the search, and
<i>kpsewhich</i> should use the same search path as
<i>bibtex</i> and <i>biber</i>. If this problem arises, use
the <b>-bibtex</b> option when invoking <i>latexmk</i>.)</p>

<p style="margin-left:22%; margin-top: 1em">Note that this
value does <i>not</i> work properly if the document uses
<i>biber</i> instead of <i>bibtex</i>. (There&rsquo;s a long
story why not.)</p>

<p style="margin-left:11%;"><b>-bibtex-cond1</b></p>

<p style="margin-left:22%;">The same as <b>-bibtex-cond</b>
except that .bbl files are only treated as precious if one
or more bibfiles fails to exist.</p>

<p style="margin-left:22%; margin-top: 1em">Thus if all the
bib files exist, <i>bibtex</i> or <i>biber</i> is run to
generate .bbl files as needed, and then it is appropriate to
delete the bbl files in a cleanup operation since they can
be re-generated.</p>

<p style="margin-left:22%; margin-top: 1em">This property
can also be configured by setting the <i>$bibtex_use</i>
variable to 1.5 in a configuration file.</p>

<p style="margin-left:11%;"><b>-bibtexfudge</b> or
<b>-bibfudge</b></p>

<p style="margin-left:22%;">Turn on the change-directory
fudge for bibtex. See documentation of <i>$bibtex_fudge</i>
for details.</p>

<p style="margin-left:11%;"><b>-bibtexfudge-</b> or
<b>-bibfudge-</b></p>

<p style="margin-left:22%;">Turn off the change-directory
fudge for bibtex. See documentation of <i>$bibtex_fudge</i>
for details.</p>

<p style="margin-left:11%;"><b>-bm &lt;message&gt;</b></p>

<p style="margin-left:22%;">A banner message to print
diagonally across each page when converting the dvi file to
postscript. The message must be a single argument on the
command line so be careful with quoting spaces and such.</p>

<p style="margin-left:22%; margin-top: 1em">Note that if
the <b>-bm</b> option is specified, the <b>-ps</b> option is
assumed.</p>

<p style="margin-left:11%;"><b>-bi
&lt;intensity&gt;</b></p>

<p style="margin-left:22%;">How dark to print the banner
message. A decimal number between 0 and 1. 0 is black and 1
is white. The default is 0.95, which is OK unless your toner
cartridge is getting low.</p>

<p style="margin-left:11%;"><b>-bs &lt;scale&gt;</b></p>

<p style="margin-left:22%;">A decimal number that specifies
how large the banner message will be printed.
Experimentation is necessary to get the right scale for your
message, as a rule of thumb the scale should be about equal
to 1100 divided by the number of characters in the message.
The default is 220.0 which is just right for 5 character
messages.</p>

<p style="margin-left:11%;"><b>-commands</b></p>

<p style="margin-left:22%;">List the commands used by
<i>latexmk</i> for processing files, and then exit.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-c</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Clean up (remove) all regeneratable files generated by
<i>latex</i> and <i>bibtex</i> or <i>biber</i> except dvi,
postscript and pdf. These files are a combination of log
files, aux files, <i>latexmk</i>&rsquo;s database file of
source file information, and those with extensions specified
in the <i>@generated_exts</i> configuration variable. In
addition, files specified by the <i>$clean_ext</i> and
<i>@generated_exts</i> configuration variables are
removed.</p> </td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">This cleanup is
instead of a regular make. See the <b>-gg</b> option if you
want to do a cleanup followed by a make.</p>

<p style="margin-left:22%; margin-top: 1em"><i>Treatment of
.bbl files:</i> If <i>$bibtex_use</i> is set to 0 or 1, bbl
files are always treated as non-regeneratable. If
<i>$bibtex_use</i> is set to 1.5, bbl files are counted as
non-regeneratable conditionally: If the bib file exists,
then bbl files are regeneratable, and are deleted in a clean
up. But if <i>$bibtex_use</i> is 1.5 and a bib file
doesn&rsquo;t exist, then the bbl files are treated as
non-regeneratable and hence are not deleted.</p>

<p style="margin-left:22%; margin-top: 1em">In contrast, if
<i>$bibtex_use</i> is set to 2, bbl files are always treated
as regeneratable, and are deleted in a cleanup.</p>

<p style="margin-left:22%; margin-top: 1em"><i>Treatment of
files generated by custom dependencies:</i> If
<i>$cleanup_includes_cusdep_generated</i> is nonzero,
regeneratable files are considered as including those
generated by custom dependencies and are also deleted.
Otherwise these files are not deleted.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>-C</b></p></td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em">Clean up (remove) all
regeneratable files generated by <i>latex</i> and
<i>bibtex</i> or <i>biber</i>. This is the same as the
<b>-c</b> option with the addition of dvi, postscript and
pdf files, and those specified in the <i>$clean_full_ext</i>
configuration variable.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">This cleanup is
instead of a regular make. See the <b>-gg</b> option if you
want to do a cleanup followed by a make.</p>

<p style="margin-left:22%; margin-top: 1em">See the
<b>-c</b> option for the specification of whether or not
.bbl files are treated as non-regeneratable or
regeneratable.</p>

<p style="margin-left:22%; margin-top: 1em">If
<i>$cleanup_includes_cusdep_generated</i> is nonzero,
regeneratable files are considered as including those
generated by custom dependencies and are also deleted.
Otherwise these files are not deleted.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>-CA</b></p></td>
<td width="7%"></td>
<td width="78%">


<p style="margin-top: 1em">(Obsolete). Now equivalent to
the <b>-C</b> option. See that option for details.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>-cd</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Change to the directory containing the main source file
before processing it. Then all the generated files (.aux,
.log, .dvi, .pdf, etc) will be relative to the source
file.</p> </td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">This option is
particularly useful when <i>latexmk</i> is invoked from a
GUI configured to invoke <i>latexmk</i> with a full pathname
for the source file.</p>

<p style="margin-left:22%; margin-top: 1em">This option
works by setting the <b>$do_cd</b> configuration variable to
one; you can set that variable if you want to configure
<i>latexmk</i> to have the effect of the <b>-cd</b> option
without specifying it on the command line. See the
documentation for that variable.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p style="margin-top: 1em"><b>-cd-</b></p></td>
<td width="5%"></td>
<td width="78%">


<p style="margin-top: 1em">Do NOT change to the directory
containing the main source file before processing it. Then
all the generated files (.aux, .log, .dvi, .pdf, etc) will
be relative to the current directory rather than the source
file.</p> </td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">This is the
default behavior and corresponds to the behavior of the
<i>*latex</i> programs. However, it is not desirable
behavior when <i>latexmk</i> is invoked by a GUI configured
to invoke <i>latexmk</i> with a full pathname for the source
file. See the <b>-cd</b> option.</p>

<p style="margin-left:22%; margin-top: 1em">This option
works by setting the <b>$do_cd</b> configuration variable to
zero. See the documentation for that variable for more
information.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>-CF</b></p></td>
<td width="7%"></td>
<td width="78%">


<p style="margin-top: 1em">Remove the file containing the
database of source file information, before doing the other
actions requested.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>-d</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Set draft mode. This prints the banner message
&quot;DRAFT&quot; across your page when converting the dvi
file to postscript. Size and intensity can be modified with
the <b>-bs</b> and <b>-bi</b> options. The <b>-bm</b> option
will override this option as this is really just a short way
of specifying:</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">latexmk -bm
DRAFT</p>

<p style="margin-left:22%; margin-top: 1em">Note that if
the <b>-d</b> option is specified, the <b>-ps</b> option is
assumed.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p style="margin-top: 1em"><b>-deps</b></p></td>
<td width="4%"></td>
<td width="78%">


<p style="margin-top: 1em">Show a list of dependent files
after processing. This is in the form of a dependency list
of the form used by the <i>make</i> program, and it is
therefore suitable for use in a Makefile. It gives an
overall view of the files without listing intermediate
files, as well as <i>latexmk</i> can determine them.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">By default the
list of dependent files is sent to stdout (i.e., normally to
the screen unless you&rsquo;ve redirected
<i>latexmk</i>&rsquo;s output). But you can set the filename
where the list is sent by the <b>-deps-out=</b> option.</p>

<p style="margin-left:22%; margin-top: 1em">See the section
&quot;USING <i>latexmk</i> WITH <i>make</i>&quot; for an
example of how to use a dependency list with
<i>make</i>.</p>

<p style="margin-left:22%; margin-top: 1em">Users familiar
with GNU <i>automake</i> and <i>gcc</i> will find that the
<b>-deps</b> option is very similar in its purpose and
results to the <b>-M</b> option to <i>gcc</i>. (In fact,
<i>latexmk</i> also has options <b>-M</b>, <b>-MF</b>, and
<b>-MP</b> options that behave like those of
<i>gcc</i>.)</p>

<p style="margin-left:11%;"><b>-dependents</b></p>

<p style="margin-left:22%;">Equivalent to <b>-deps</b>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>-deps-</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Do not show a list of dependent files after processing.
(This is the default.)</p></td></tr>
</table>

<p style="margin-left:11%;"><b>-dependents-</b></p>

<p style="margin-left:22%;">Equivalent to
<b>-deps-</b>.</p>

<p style="margin-left:11%;"><b>-deps-out=FILENAME</b></p>

<p style="margin-left:22%;">Set the filename to which the
list of dependent files is written. If the FILENAME argument
is omitted or set to &quot;-&quot;, then the output is sent
to stdout.</p>

<p style="margin-left:22%; margin-top: 1em">Use of this
option also turns on the output of the list of dependent
files after processing.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>-dF</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Dvi file filtering. The argument to this option is a
filter which will generate a filtered dvi file with the
extension &quot;.dviF&quot;. All extra processing (e.g.
conversion to postscript, preview, printing) will then be
performed on this filtered dvi file.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Example usage:
To use dviselect to select only the even pages of the dvi
file:</p>

<p style="margin-left:22%; margin-top: 1em">latexmk -dF
&quot;dviselect even&quot; foo.tex</p>

<p style="margin-left:11%;"><b>-diagnostics</b></p>

<p style="margin-left:22%;">Print detailed diagnostics
during a run. This may help for debugging problems or to
understand <i>latexmk</i>&rsquo;s behavior in difficult
situations.</p>

<p style="margin-left:11%;"><b>-dir-report</b></p>

<p style="margin-left:22%;">For each .tex file processed,
list the settings for aux and out directories, after they
have been normalized from the settings specified during
initialization. See the description of the variable
<b>$aux_out_dir_report</b> for more details.</p>

<p style="margin-left:11%;"><b>-dir-report-</b></p>

<p style="margin-left:22%;">Do not report the settings for
aux and out directories. (Default)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>-dvi</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>Generate dvi version of document.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>-dvi-</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>Turn off generation of dvi version of document. (This
may get overridden, if some other file is made (e.g., a .ps
file) that is generated from the dvi file, or if no
generated file at all is requested.)</p></td></tr>
</table>

<p style="margin-left:11%;"><b>-e &lt;code&gt;</b></p>

<p style="margin-left:22%;">Execute the specified
initialization code before processing. The code is
<i>Perl</i> code of the same form as is used in
<i>latexmk</i>&rsquo;s initialization files. For more
details, see the information on the <b>-r</b> option, and
the section about &quot;Configuration/initialization (RC)
files&quot;. The code is typically a sequence of assignment
statements separated by semicolons.</p>

<p style="margin-left:22%; margin-top: 1em">The code is
executed when the <b>-e</b> option is encountered during
<i>latexmk</i>&rsquo;s parsing of its command line. See the
<b>-r</b> option for a way of executing initialization code
from a file. An error results in <i>latexmk</i> stopping.
Multiple instances of the <b>-r</b> and <b>-e</b> options
can be used, and they are executed in the order they appear
on the command line.</p>

<p style="margin-left:22%; margin-top: 1em">Some care is
needed to deal with proper quoting of special characters in
the code on the command line. For example, suppose you want
to set the latex command to use its -shell-escape option,
then under UNIX/Linux you could use the line</p>

<p style="margin-left:22%; margin-top: 1em">latexmk -e
&rsquo;$latex=q/latex %O -shell-escape %S/&rsquo;
file.tex</p>

<p style="margin-left:22%; margin-top: 1em">Note that the
single quotes block normal UNIX/Linux command shells from
treating the characters inside the quotes as special. (In
this example, the q/.../ construct is a <i>Perl</i> idiom
equivalent to using single quotes. This avoids the
complications of getting a quote character inside an already
quoted string in a way that is independent of both the shell
and the operating-system.)</p>

<p style="margin-left:22%; margin-top: 1em">The above
command line will NOT work under MS-Windows with cmd.exe or
command.com or 4nt.exe. For MS-Windows with these command
shells you could use</p>

<p style="margin-left:22%; margin-top: 1em">latexmk -e
&quot;$latex=q/latex %O -shell-escape %S/&quot; file.tex</p>

<p style="margin-left:22%; margin-top: 1em">or</p>

<p style="margin-left:22%; margin-top: 1em">latexmk -e
&quot;$latex=&rsquo;latex %O -shell-escape %S&rsquo;&quot;
file.tex</p>

<p style="margin-left:22%; margin-top: 1em">The last two
examples will NOT work with UNIX/Linux command shells.</p>

<p style="margin-left:22%; margin-top: 1em">(<i>Note</i>:
the above examples show are to show how to use the <b>-e</b>
to specify initialization code to be executed. But the
particular effect can be achieved also by the use of the
<b>-latex</b> option with less problems in dealing with
quoting.)</p>

<p style="margin-left:11%;"><b>-emulate-aux-dir</b></p>

<p style="margin-left:22%;">Emulate -aux-directory instead
of leaving it to the *latex programs to do it. (MiKTeX
supports -aux-directory, but TeXLive doesn&rsquo;t.)</p>

<p style="margin-left:22%; margin-top: 1em">For more
details see the explanation for the configuration variable
<i>$emulate_aux</i>.</p>

<p style="margin-left:11%;"><b>-emulate-aux-dir-</b></p>

<p style="margin-left:22%;">Turn off emulatation
-aux-directory and leave it to the *latex program to handle
the case that aux_dir is not equal to out_dir. Note that if
you use TeXLive, which doesn&rsquo;t support -aux-directory,
latexmk will automatically switch aux_dir emulation on after
the first run of *latex, because it will find the .log file
in the wrong place.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-f</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Force <i>latexmk</i> to continue document processing
despite errors. Normally, when <i>latexmk</i> detects that
LaTeX or another program has found an error which will not
be resolved by further processing, no further processing is
carried out.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Note:
&quot;Further processing&quot; means the running of other
programs or the rerunning of <i>latex</i> (etc) that would
be done if no errors had occurred. If instead, or
additionally, you want the <i>latex</i> (etc) program not to
pause for user input after an error, you should arrange this
by an option that is passed to the program, e.g., by
<i>latexmk</i>&rsquo;s option
<b>-interaction=nonstopmode</b> (which <i>latexmk</i> passes
to <i>*latex</i>).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>-f-</b></p></td>
<td width="7%"></td>
<td width="78%">


<p style="margin-top: 1em">Turn off the forced
processing-past-errors such as is set by the <b>-f</b>
option. This could be used to override a setting in a
configuration file.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>-g</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Force <i>latexmk</i> to process document fully, even
under situations where <i>latexmk</i> would normally decide
that no changes in the source files have occurred since the
previous run. This option is useful, for example, if you
change some options and wish to reprocess the files.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>-g-</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>Turn off <b>-g</b>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>-gg</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>&quot;Super go mode&quot; or &quot;clean make&quot;:
clean out generated files as if <b>-C</b> had been given,
and then do a regular make.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>-h</b>
or<b>-non-help</b></p>

<p style="margin-left:22%;">Print help information.</p>

<p style="margin-left:11%;"><b>-jobname=STRING</b></p>

<p style="margin-left:22%;">Set the basename of output
files(s) to STRING, instead of the default, which is the
basename of the specified TeX file. (At present, STRING
should not contain spaces.)</p>

<p style="margin-left:22%; margin-top: 1em">This is like
the same option for current implementations of the
<i>*latex</i>, and the passing of this option to these
programs is part of <i>latexmk</i>&rsquo;s implementation of
<b>-jobname</b>.</p>

<p style="margin-left:22%; margin-top: 1em">There is one
enhancement, that the STRING may contain the placeholder
&rsquo;%A&rsquo;. This will be substituted by the basename
of the TeX file. The primary purpose is when multiple files
are specified on the command line to <i>latexmk</i>, and you
wish to use a jobname with a different file-dependent value
for each file. For example, suppose you had .tex files
test1.tex and test2.tex, and you wished to compare the
results of compilation by <i>*latex</i> and those with
<i>xelatex</i>. Then under a unix-type operating system you
could use the command line</p>

<p style="margin-left:22%; margin-top: 1em">latexmk -pdf
-jobname=%A-pdflatex *.tex <br>
latexmk -pdfxe -jobname=%A-xelatex *.tex</p>

<p style="margin-left:22%; margin-top: 1em">Then the .aux,
.log, and .pdf files from the use of <i>pdflatex</i> would
have basenames test1-pdflatex and test2-pdflatex, while from
<i>xelatex</i>, the basenames would be test1-xelatex and
test2-xelatex.</p>

<p style="margin-left:22%; margin-top: 1em">Under
MS-Windows with cmd.exe, you would need to double the
percent sign, so that the percent character is passed to
latexmk rather than being used to substitute an environment
variable:</p>

<p style="margin-left:22%; margin-top: 1em">latexmk -pdf
-jobname=%%A-pdflatex *.tex <br>
latexmk -pdfxe -jobname=%%A-xelatex *.tex</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>-l</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Run in landscape mode, using the landscape mode for the
previewers and the dvi to postscript converters. This option
is not normally needed nowadays, since current previewers
normally determine this information automatically.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>-l-</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Turn off <b>-l</b>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>-latex</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>This sets the generation of dvi files by <i>latex</i>,
and turns off the generation of pdf and ps files.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em"><i>Note: to set
the</i> command <i>used when latex is specified, see the</i>
<b>-latex=&quot;COMMAND&quot;</b> <i>option.</i></p>


<p style="margin-left:11%;"><b>-latex=&quot;COMMAND&quot;</b></p>

<p style="margin-left:22%;">This sets the string specifying
the command to run latex, and is typically used to add
desired options. Since the string normally contains spaces,
it should be quoted, e.g.,</p>

<p style="margin-left:22%; margin-top: 1em">latexmk
-latex=&quot;latex --shell-escape %O %S&quot; foo.tex</p>

<p style="margin-left:22%; margin-top: 1em">The
specification of the contents of the string are the same as
for the <i>$latex</i> configuration variable. Depending on
your operating system and the command-line shell you are
using, you may need to change the single quotes to double
quotes (or something else).</p>

<p style="margin-left:22%; margin-top: 1em"><i>Note: This
option when provided with the COMMAND argument only sets the
command for invoking latex; it does not turn on the use of
latex. That is done by other options or in an initialization
file.</i></p>

<p style="margin-left:22%; margin-top: 1em">To set the
command for running <i>pdflatex</i> (rather than the command
for <i>latex</i>) see the <b>-pdflatex</b> option.</p>

<p style="margin-left:11%;"><b>-logfilewarninglist</b></p>

<p style="margin-left:22%;"><b>-logfilewarnings</b> After a
run of <i>*latex</i>, give a list of warnings about
undefined citations and references (unless silent mode is
on).</p>

<p style="margin-left:22%; margin-top: 1em">See also the
<i>$silence_logfile_warnings</i> configuration variable.</p>


<p style="margin-left:11%;"><b>-logfilewarninglist-</b></p>

<p style="margin-left:22%;"><b>-logfilewarnings-</b> After
a run of <i>*latex</i>, do not give a list of warnings about
undefined citations and references. (Default)</p>

<p style="margin-left:22%; margin-top: 1em">See also the
<i>$silence_logfile_warnings</i> configuration variable.</p>

<p style="margin-left:11%;"><b>-lualatex</b></p>

<p style="margin-left:22%;">Use <i>lualatex</i>. That is,
use <i>lualatex</i> to process the source file(s) to pdf.
The generation of dvi and postscript files is turned
off.</p>

<p style="margin-left:22%; margin-top: 1em">This option is
equivalent to using the following set of options</p>

<p style="margin-left:22%; margin-top: 1em">-pdflua -dvi-
-ps-</p>

<p style="margin-left:22%; margin-top: 1em">(<i>Note</i>:
Note that the method of implementation of this option, but
not its intended effect, differ from some earlier versions
of <i>latexmk</i>.)</p>


<p style="margin-left:11%;"><b>-lualatex=&quot;COMMAND&quot;</b></p>

<p style="margin-left:22%;">This sets the string specifying
the command to run <i>lualatex</i>. It behaves like the
<b>-pdflatex</b> option, but sets the variable
<i>$lualatex</i>.</p>

<p style="margin-left:22%; margin-top: 1em"><i>Note: This
option when provided with the COMMAND argument only sets the
command for invoking lualatex; it does not turn on the use
of lualatex. That is done by other options or in an
initialization file.</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-M</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Show list of dependent files after processing. This is
equivalent to the <b>-deps</b> option.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>-MF file</b></p>

<p style="margin-left:22%;">If a list of dependents is
made, the <b>-MF</b> specifies the file to write it to.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><b>-MP</b></p></td>
<td width="7%"></td>
<td width="78%">


<p>If a list of dependents is made, include a phony target
for each source file. If you use the dependents list in a
Makefile, the dummy rules work around errors the program
<i>make</i> gives if you remove header files without
updating the Makefile to match.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>-makeindexfudge</b></p>

<p style="margin-left:22%;">Turn on the change-directory
fudge for makeindex. See documentation of
<i>$makeindex_fudge</i> for details.</p>

<p style="margin-left:11%;"><b>-makeindexfudge-</b></p>

<p style="margin-left:22%;">Turn off the change-directory
fudge for makeindex. See documentation of
<i>$makeindex_fudge</i> for details.</p>

<p style="margin-left:11%;"><b>-MSWinBackSlash</b></p>

<p style="margin-left:22%;">This option only has an effect
when <i>latexmk</i> is running under MS-Windows. This is
that when <i>latexmk</i> runs a command under MS-Windows,
the Windows standard directory separator &quot;\&quot; is
used to separate directory components in a file name.
Internally, <i>latexmk</i> uses &quot;/&quot; for the
directory separator character, which is the character used
by Unix-like systems.</p>

<p style="margin-left:22%; margin-top: 1em">This is the
default behavior. However the default may have been
overridden by a configuration file (latexmkrc file) which
sets <i>$MSWin_back_slash=0</i>.</p>

<p style="margin-left:11%;"><b>-MSWinBackSlash-</b></p>

<p style="margin-left:22%;">This option only has an effect
when <i>latexmk</i> is running under MS-Windows. This is
that when <i>latexmk</i> runs a command under MS-Windows,
the substitution of &quot;\&quot; for the separator
character between directory components of a file name is
<i>not</i> done. Instead the forward slash &quot;/&quot; is
used, the same as on Unix-like systems. This is acceptable
in most situations under MS-Windows, provided that filenames
are properly quoted, as <i>latexmk</i> does by default.</p>

<p style="margin-left:22%; margin-top: 1em">See the
documentation for the configuration variable
<i>$MSWin_back_slash</i> for more details.</p>

<p style="margin-left:11%;"><b>-new-viewer</b></p>

<p style="margin-left:22%;">When in continuous-preview
mode, always start a new viewer to view the generated file.
By default, <i>latexmk</i> will, in continuous-preview mode,
test for a previously running previewer for the same file
and not start a new one if a previous previewer is running.
However, its test sometimes fails (notably if there is an
already-running previewer that is viewing a file of the same
name as the current file, but in a different directory).
This option turns off the default behavior.</p>

<p style="margin-left:11%;"><b>-new-viewer-</b></p>

<p style="margin-left:22%;">The inverse of the
<b>-new-viewer</b> option. It puts <i>latexmk</i> in its
normal behavior that in preview-continuous mode it checks
for an already-running previewer.</p>

<p style="margin-left:11%;"><b>-nobibtex</b></p>

<p style="margin-left:22%;">Never run bibtex or biber.
Equivalent to the <b>-bibtex-</b> option.</p>

<p style="margin-left:11%;"><b>-nobibtexfudge</b> or
<b>-nobibfudge</b></p>

<p style="margin-left:22%;">Turn off the change-directory
fudge for bibtex. See documentation of <i>$bibtex_fudge</i>
for details.</p>

<p style="margin-left:11%;"><b>-noemulate-aux-dir</b></p>

<p style="margin-left:22%;">Turn aux_dir emulation off.
Same as <i>-emulate-aux-dir-</i>.</p>

<p style="margin-left:11%;"><b>-nomakeindexfudge</b></p>

<p style="margin-left:22%;">Turn off the change-directory
fudge for makeindex. See documentation of
<i>$makeindex_fudge</i> for details.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>-norc</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>Turn off the automatic reading of initialization (rc)
files.</p> </td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">N.B. Normally
the initialization files are read and obeyed, and then
command line options are obeyed in the order they are
encountered. But <b>-norc</b> is an exception to this rule:
it is acted on first, no matter where it occurs on the
command line.</p>

<p style="margin-left:11%;"><b>-outdir=FOO</b> or
<b>-output-directory=FOO</b></p>

<p style="margin-left:22%; margin-top: 1em">Sets the
directory for the output files of *latex. This achieves its
effect by the <b>-output-directory</b> option of *latex,
which currently (Dec. 2011 and later) is implemented on the
common versions of *latex, i.e., MiKTeX and TeXLive. It may
not be present in other versions.</p>

<p style="margin-left:22%; margin-top: 1em">See also the
<b>-auxdir</b>/<b>-aux-directory</b> options, and the
<i>$aux_dir</i>, <i>$out_dir</i>, and
<i>$search_path_separator</i> configuration variables of
<i>latexmk</i>. In particular, see the documentation of
<i>$out_dir</i> for some complications on what directory
names are suitable.</p>

<p style="margin-left:22%; margin-top: 1em">If you also use
the <b>-cd</b> option, and the specified output directory is
a relative path, then the path is interpreted relative to
the document directory.</p>


<p style="margin-left:11%;"><b>-output-format=FORMAT</b></p>

<p style="margin-left:22%;">This option is one that is
allowed for <i>latex</i>, <i>lualatex</i>, and
<i>pdflatex</i>. But it is not passed to these programs.
Instead <i>latexmk</i> emulates it in a way suitable for the
context of <i>latexmk</i> and its workflows.</p>

<p style="margin-left:22%; margin-top: 1em">If FORMAT is
dvi, then dvi output is turned on, and postscript and pdf
output are turned off. This is equivalent to using the
options <b>-dvi -ps- -pdf-</b>.</p>

<p style="margin-left:22%; margin-top: 1em">If FORMAT is
pdf, then pdf output is turned on, and dvi and postscript
output are turned off. This is equivalent to using the
options <b>-pdf -ps- -dvi-</b>.</p>

<p style="margin-left:22%; margin-top: 1em">If FORMAT is
anything else, <i>latexmk</i> gives an error.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>-p</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Print out the document. By default the file to be
printed is the first in the list postscript, pdf, dvi that
is being made. But you can use the <b>-print=...</b> option
to change the type of file to be printed, and you can
configure this in a start up file (by setting the
<i>$print_type</i> variable).</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">However,
printing is enabled by default only under UNIX/Linux
systems, where the default is to use the lpr command and
only on postscript files. In general, the correct behavior
for printing very much depends on your system&rsquo;s
software. In particular, under MS-Windows you must have
suitable program(s) available, and you must have configured
the print commands used by <i>latexmk</i>. This can be
non-trivial. See the documentation on the <i>$lpr</i>,
<i>$lpr_dvi</i>, and <i>$lpr_pdf</i> configuration variables
to see how to set the commands for printing.</p>

<p style="margin-left:22%; margin-top: 1em">This option is
incompatible with the <b>-pv</b> and <b>-pvc</b> options, so
it turns them off.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p style="margin-top: 1em"><b>-pdf</b></p></td>
<td width="5%"></td>
<td width="78%">


<p style="margin-top: 1em">Generate pdf version of document
using <i>pdflatex</i>. (If you wish to use <i>lualatex</i>
or <i>xelatex</i>, you can use whichever of the options
<b>-pdflua</b>, <b>-pdfxe</b>, <b>-lualatex</b> or
<b>-xelatex</b> applies.) To configure <i>latexmk</i> to
have such behavior by default, see the section on
&quot;Configuration/initialization (rc) files&quot;.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>-pdfdvi</b></p>

<p style="margin-left:22%;">Generate pdf version of
document from the dvi file, by default using dvipdf.</p>

<p style="margin-left:11%;"><b>-pdflua</b></p>

<p style="margin-left:22%;">Generate pdf version of
document using <i>lualatex</i>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>-pdfps</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Generate pdf version of document from the .ps file, by
default using <i>ps2pdf</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>-pdfxe</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Generate pdf version of document using <i>xelatex</i>.
Note that to optimize processing time, <i>latexmk</i> uses
<i>xelatex</i> to generate an .xdv file rather than a pdf
file directly. Only after possibly multiple runs to generate
a fully up-to-date .xdv file does <i>latexmk</i> then call
<i>xdvipdfmx</i> to generate the final .pdf file.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">(<i>Note:</i>
The reason why <i>latexmk</i> arranges for <i>xelatex</i> to
make an .xdv file instead of the <i>xelatex</i>&rsquo;s
default of a .pdf file is as follows: When the document
includes large graphics files, especially .png files, the
production of a .pdf file can be quite time consuming, even
when the creation of the .xdv file by <i>xelatex</i> is
fast. So the use of the intermediate .xdv file can result in
substantial gains in procesing time, since the .pdf file is
produced once rather than on every run of
<i>xelatex</i>.)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p style="margin-top: 1em"><b>-pdf-</b></p></td>
<td width="4%"></td>
<td width="78%">


<p style="margin-top: 1em">Turn off generation of pdf
version of document. (This can be used to override a setting
in a configuration file. It may get overridden if some other
option requires the generation of a pdf file.)</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">If after all
options have been processed, pdf generation is still turned
off, then generation of a dvi file will be turned on, and
then the program used to compiled a document will be
<i>latex</i> (or, more precisely, whatever program is
configured to be used in the <i>$latex</i> configuration
variable).</p>

<p style="margin-left:11%;"><b>-pdflatex</b></p>

<p style="margin-left:22%;">This sets the generation of pdf
files by <i>pdflatex</i>, and turns off the generation of
dvi and ps files.</p>

<p style="margin-left:22%; margin-top: 1em"><i>Note: to set
the</i> command <i>used when pdflatex is specified, see
the</i> <b>-pdflatex=&quot;COMMAND&quot;</b>
<i>option.</i></p>


<p style="margin-left:11%;"><b>-pdflatex=&quot;COMMAND&quot;</b></p>

<p style="margin-left:22%;">This sets the string specifying
the command to run <i>pdflatex</i>, and is typically used to
add desired options. Since the string normally contains
spaces, it should be quoted, e.g.,</p>

<p style="margin-left:22%; margin-top: 1em">latexmk -pdf
-pdflatex=&quot;pdflatex --shell-escape %O %S&quot;
foo.tex</p>

<p style="margin-left:22%; margin-top: 1em">The
specification of the contents of the string are the same as
for the <i>$pdflatex</i> configuration variable. (The option
<b>-pdflatex</b> in fact sets the variable
<i>$pdflatex</i>.) Depending on your operating system and
the command-line shell you are using, you may need to change
the single quotes to double quotes (or something else).</p>

<p style="margin-left:22%; margin-top: 1em"><i>Note: This
option when provided with the COMMAND argument only sets the
command for invoking pdflatex; it does not turn on the use
of pdflatex. That is done by other options or in an
initialization file.</i></p>

<p style="margin-left:22%; margin-top: 1em">To set the
command for running <i>latex</i> (rather than the command
for <i>pdflatex</i>) see the <b>-latex</b> option.</p>


<p style="margin-left:11%;"><b>-pdflualatex=&quot;COMMAND&quot;</b></p>

<p style="margin-left:22%;">Equivalent to
<b>-lualatex=&quot;COMMAND&quot;</b>.</p>


<p style="margin-left:11%;"><b>-pdfxelatex=&quot;COMMAND&quot;</b></p>

<p style="margin-left:22%;">Equivalent to
<b>-xelatex=&quot;COMMAND&quot;</b>.</p>

<p style="margin-left:11%;"><b>-pretex=CODE</b></p>

<p style="margin-left:22%; margin-top: 1em">Given that CODE
is some TeX code, this options sets that code to be executed
before inputting source file. This only works if the command
for invoking the relevant <i>*latex</i> is suitably
configured. See the documentation of the variable
<i>$pre_tex_code</i>, and the substitution strings %P and %U
for more details. This option works by setting the variable
<i>$pre_tex_code</i>.</p>

<p style="margin-left:22%; margin-top: 1em">See also the
<b>-usepretex</b> option.</p>

<p style="margin-left:22%; margin-top: 1em">An example:</p>

<p style="margin-left:22%; margin-top: 1em">latexmk
-pretex=&rsquo;\AtBeginDocument{Message\par}&rsquo;
-usepretex foo.tex</p>

<p style="margin-left:22%; margin-top: 1em">But this is
better written</p>

<p style="margin-left:22%; margin-top: 1em">latexmk
-usepretex=&rsquo;\AtBeginDocument{Message\par}&rsquo;
foo.tex</p>

<p style="margin-left:22%; margin-top: 1em">If you already
have a suitable command configured, you only need</p>

<p style="margin-left:22%; margin-top: 1em">latexmk
-pretex=&rsquo;\AtBeginDocument{Message\par}&rsquo;
foo.tex</p>

<p style="margin-left:11%;"><b>-print=dvi</b>,
<b>-print=ps</b>, <b>-print=pdf</b>, <b>-print=auto,</b></p>

<p style="margin-left:22%;">Define which kind of file is
printed. This option also ensures that the requisite file is
made, and turns on printing.</p>

<p style="margin-left:22%; margin-top: 1em">The (default)
case <b>-print=auto</b> determines the kind of print file
automatically from the set of files that is being made. The
first in the list postscript, pdf, dvi that is among the
files to be made is the one used for print out.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>-ps</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Generate postscript version of document.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>-ps-</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Turn off generation of postscript version of document.
This can be used to override a setting in a configuration
file. (It may get overridden by some other option that
requires a postscript file, for example a request for
printing.)</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>-pF</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Postscript file filtering. The argument to this option
is a filter which will generate a filtered postscript file
with the extension &quot;.psF&quot;. All extra processing
(e.g. preview, printing) will then be performed on this
filtered postscript file.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Example of
usage: Use psnup to print two pages on the one page:</p>

<p style="margin-left:22%; margin-top: 1em">latexmk -ps -pF
&rsquo;psnup -2&rsquo; foo.tex</p>

<p style="margin-left:22%; margin-top: 1em">or</p>

<p style="margin-left:22%; margin-top: 1em">latexmk -ps -pF
&quot;psnup -2&quot; foo.tex</p>

<p style="margin-left:22%; margin-top: 1em">Whether to use
single or double quotes round the &quot;psnup -2&quot; will
depend on your command interpreter, as used by the
particular version of perl and the operating system on your
computer.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p style="margin-top: 1em"><b>-pv</b></p></td>
<td width="5%"></td>
<td width="78%">


<p style="margin-top: 1em">Run file previewer. If the
<b>-view</b> option is used, this will select the kind of
file to be previewed (.dvi, .ps or .pdf). Otherwise the
viewer views the &quot;highest&quot; kind of file selected,
by the <b>-dvi</b>, <b>-ps</b>, <b>-pdf</b>, <b>-pdfps</b>
options, in the order .dvi, .ps, .pdf (low to high). If no
file type has been selected, the dvi previewer will be used.
This option is incompatible with the <b>-p</b> and
<b>-pvc</b> options, so it turns them off.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>-pv-</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Turn off <b>-pv</b>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>-pvc</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Run a file previewer and continually update the .dvi,
.ps, and/or .pdf files whenever changes are made to source
files (see the Description above). Which of these files is
generated and which is viewed is governed by the other
options, and is the same as for the <b>-pv</b> option. The
preview-continuous option <b>-pvc</b> can only work with one
file. So in this case you will normally only specify one
filename on the command line. It is also incompatible with
the <b>-p</b> and <b>-pv</b> options, so it turns these
options off.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">The <b>-pvc</b>
option also turns off force mode (<b>-f</b>), as is normally
best for continuous preview mode. If you really want force
mode, use the options in the order <b>-pvc -f</b>.</p>

<p style="margin-left:22%; margin-top: 1em">With a good
previewer the display will be automatically updated. (Under
<i>some but not all</i> versions of UNIX/Linux &quot;gv
-watch&quot; does this for postscript files; this can be set
by a configuration variable. This would also work for pdf
files except for an apparent bug in gv that causes an error
when the newly updated pdf file is read.) Many other
previewers will need a manual update.</p>

<p style="margin-left:22%; margin-top: 1em"><b>Important
note</b>: the acroread program on MS-Windows locks the pdf
file, and prevents new versions being written, so it is a
bad idea to use acroread to view pdf files in
preview-continuous mode. It is better to use a different
viewer: <i>SumatraPDF</i> and <i>gsview</i> are good
possibilities.</p>

<p style="margin-left:22%; margin-top: 1em">There are some
other methods for arranging an update, notably useful for
many versions of <i>xdvi</i> and <i>xpdf</i>. These are best
set in <i>latexmk</i>&rsquo;s configuration; see below.</p>

<p style="margin-left:22%; margin-top: 1em">Note that if
<i>latexmk</i> dies or is stopped by the user, the
&quot;forked&quot; previewer will continue to run.
Successive invocations with the <b>-pvc</b> option will not
fork new previewers, but <i>latexmk</i> will normally use
the existing previewer. (At least this will happen when
<i>latexmk</i> is running under an operating system where it
knows how to determine whether an existing previewer is
running.)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p style="margin-top: 1em"><b>-pvc-</b></p></td>
<td width="4%"></td>
<td width="21%">


<p style="margin-top: 1em">Turn off <b>-pvc</b>.</p></td>
<td width="57%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>-pvctimeout</b></p>

<p style="margin-left:22%;">Do timeout in pvc mode after
period of inactivity, which is 30 min. by default.
Inactivity means a period when <i>latexmk</i> has detected
no file changes and hence has not taken any actions like
compiling the document.</p>

<p style="margin-left:11%;"><b>-pvctimeout-</b></p>

<p style="margin-left:22%;">Don&rsquo;t do timeout in pvc
mode after inactivity.</p>


<p style="margin-left:11%;"><b>-pvctimeoutmins=&lt;time&gt;</b></p>

<p style="margin-left:22%;">Set period of inactivity in
<i>minutes</i> for pvc timeout.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>-quiet</b></p></td>
<td width="2%"></td>
<td width="23%">


<p>Same as -silent</p></td>
<td width="55%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>-r &lt;rcfile&gt;</b></p>

<p style="margin-left:22%;">Read the specified
initialization file (&quot;RC file&quot;) before
processing.</p>

<p style="margin-left:22%; margin-top: 1em">Be careful
about the ordering: (1) Standard initialization files -- see
the section below on &quot;Configuration/initialization (RC)
files&quot; -- are read first. (2) Then the options on the
command line are acted on in the order they are given.
Therefore if an initialization file is specified by the
<b>-r</b> option, it is read during this second step. Thus
an initialization file specified with the <b>-r</b> option
can override both the standard initialization files and
<i>previously</i> specified options. But all of these can be
overridden by <i>later</i> options.</p>

<p style="margin-left:22%; margin-top: 1em">The contents of
the RC file just comprise a piece of code in the <i>Perl</i>
programming language (typically a sequence of assignment
statements); they are executed when the <b>-r</b> option is
encountered during <i>latexmk</i>&rsquo;s parsing of its
command line. See the <b>-e</b> option for a way of giving
initialization code directly on <i>latexmk</i>&rsquo;s
command line. An error results in <i>latexmk</i> stopping.
Multiple instances of the <b>-r</b> and <b>-e</b> options
can be used, and they are executed in the order they appear
on the command line.</p>

<p style="margin-left:11%;"><b>-rc-report</b></p>

<p style="margin-left:22%;">After initialization, give a
list of the RC files read. (Default)</p>

<p style="margin-left:11%;"><b>-rc-report-</b></p>

<p style="margin-left:22%;">After initialization, do not
give a list of the RC files read.</p>

<p style="margin-left:11%;"><b>-recorder</b></p>

<p style="margin-left:22%;">Give the -recorder option with
<i>*latex</i>. In (most) modern versions of these programs,
this results in a file of extension <i>.fls</i> containing a
list of the files that these programs have read and written.
<i>Latexmk</i> will then use this file to improve its
detection of source files and generated files after a run of
<i>*latex</i>. This is the default setting of
<i>latexmk</i>, unless overridden in an initialization
file.</p>

<p style="margin-left:22%; margin-top: 1em">For further
information, see the documentation for the <i>$recorder</i>
configuration variable.</p>

<p style="margin-left:11%;"><b>-recorder-</b></p>

<p style="margin-left:22%;">Do not supply the -recorder
option with <i>*latex</i>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>-rules</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Show a list of <i>latemk</i>&rsquo;s rules and
dependencies after processing.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>-rules-</b></p>

<p style="margin-left:22%;">Do not show a list of
<i>latexmk</i>&rsquo;s rules and dependencies after
processing. (This is the default.)</p>

<p style="margin-left:11%;"><b>-showextraoptions</b></p>

<p style="margin-left:22%;">Show the list of extra
<i>*latex</i> options that <i>latexmk</i> recognizes, but
that it simply passes through to the programs <i>*latex</i>
when they are run. These options are (currently) a
combination of those allowed by the TeXLive and MiKTeX
implementations. (If a particular option is given to
<i>latexmk</i> but is not handled by the particular
implementation of <i>*latex</i> that is being used, that
program will probably give a warning or an error.) These
options are very numerous, but are not listed in this
documentation because they have no effect on
<i>latexmk</i>&rsquo;s actions.</p>

<p style="margin-left:22%; margin-top: 1em">There are a few
options (e.g., <b>-includedirectory=dir</b>,
<b>-initialize</b>, <b>-ini</b>) that are not recognized,
either because they don&rsquo;t fit with
<i>latexmk</i>&rsquo;s intended operations, or because they
need special processing by <i>latexmk</i> that isn&rsquo;t
implemented (at least, not yet).</p>

<p style="margin-left:22%; margin-top: 1em">There are
certain options for <i>*latex</i> (e.g., <b>-recorder</b>)
that trigger special actions or behavior by <i>latexmk</i>
itself. Depending on the action, they may also be passed in
some form to the called <i>*latex</i> program, and/or may
affect other programs as well. These options do have entries
in this documentation. Among these options are:
<b>-jobname=STRING</b>, <b>-aux-directory=dir</b>,
<b>-output-directory=DIR</b>, <b>-quiet</b>, and
<b>-recorder</b>.</p>

<p style="margin-left:22%; margin-top: 1em">There are also
options that are accepted by <i>*latex</i>, but instead
trigger actions purely by <i>latexmk</i>: <b>-help</b>,
<b>-version</b>.</p>

<p style="margin-left:11%;"><b>-silent</b></p>

<p style="margin-left:22%;">Run commands silently, i.e.,
with options that reduce the amount of diagnostics
generated. For example, with the default settings, the
command &quot;latex -interaction=batchmode&quot; is used for
<i>latex</i>, and similarly for its friends.</p>

<p style="margin-left:22%; margin-top: 1em">See also the
<b>-logfilewarninglist</b> and <b>-logfilewarninglist-</b>
options.</p>

<p style="margin-left:22%; margin-top: 1em">Also reduce the
number of informational messages that <i>latexmk</i> itself
generates.</p>

<p style="margin-left:22%; margin-top: 1em">To change the
options used to make the commands run silently, you need to
configure <i>latexmk</i> with changed values of its
configuration variables, the relevant ones being
<i>$bibtex_silent_switch</i>, <i>$biber_silent_switch</i>,
<i>$dvipdf_silent_switch</i>, <i>$dvips_silent_switch</i>,
<i>$latex_silent_switch</i>, <i>$lualatex_silent_switch
$makeindex_silent_switch</i>,
<i>$pdflatex_silent_switch</i>, and
<i>$xelatex_silent_switch</i></p>

<p style="margin-left:11%;"><b>-stdtexcmds</b></p>

<p style="margin-left:22%;">Sets the commands for
<i>latex</i>, etc, so that they are the standard ones. This
is useful to override special configurations.</p>

<p style="margin-left:22%; margin-top: 1em">The result is
that <i>$latex = &rsquo;latex %O %S&rsquo;</i>, and
similarly for <i>$pdflatex</i>, <i>$lualatex</i>, and
<i>$xelatex</i>. (The option <b>-no-pdf</b> needed for
<i>$xelatex</i> is provided automatically, given that %O
appears in the definition.)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>-time</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Show CPU time used. See also the configuration variable
<i>$show_time</i>.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>-time-</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Do not show CPU time used. See also the configuration
variable <i>$show_time</i>.</p></td></tr>
</table>

<p style="margin-left:11%;"><b>-use-make</b></p>

<p style="margin-left:22%;">When after a run of
<i>*latex</i>, there are warnings about missing files (e.g.,
as requested by the LaTeX \input, \include, and
\includgraphics commands), <i>latexmk</i> tries to make them
by a custom dependency. If no relevant custom dependency
with an appropriate source file is found, and if the
<b>-use-make</b> option is set, then as a last resort
<i>latexmk</i> will try to use the <i>make</i> program to
try to make the missing files.</p>

<p style="margin-left:22%; margin-top: 1em">Note that the
filename may be specified without an extension, e.g., by
\includegraphics{drawing} in a LaTeX file. In that case,
<i>latexmk</i> will try making drawing.ext with ext set in
turn to the possible extensions that are relevant for
<i>latex</i> (or as appropriate <i>pdflatex</i>,
<i>lualatex</i>, <i>xelatex</i>).</p>

<p style="margin-left:22%; margin-top: 1em">See also the
documentation for the <i>$use_make_for_missing_files</i>
configuration variable.</p>

<p style="margin-left:11%;"><b>-use-make-</b></p>

<p style="margin-left:22%;">Do not use the make program to
try to make missing files. (Default.)</p>

<p style="margin-left:11%;"><b>-usepretex</b></p>

<p style="margin-left:22%;">Sets the command lines for
<i>latex</i>, etc, so that they use the code that is defined
by the variable <i>$pre_tex_code</i> or that is set by the
option <b>-pretex=CODE</b> to execute the specified TeX code
before the source file is read. This option overrides any
previous definition of the command lines.</p>

<p style="margin-left:22%; margin-top: 1em">The result is
that <i>$latex = &rsquo;latex %O %P&rsquo;</i>, and
similarly for <i>$pdflatex</i>, <i>$lualatex</i>, and
<i>$xelatex</i>. (The option <b>-no-pdf</b> needed for
<i>$xelatex</i> is provided automatically, given that %O
appears in the definition.)</p>

<p style="margin-left:11%;"><b>-usepretex=CODE</b></p>

<p style="margin-left:22%;">Equivalent to <b>-pretex=CODE
-usepretex</b>. Example</p>

<p style="margin-left:22%; margin-top: 1em">latexmk
-usepretex=&rsquo;\AtBeginDocument{Message\par}&rsquo;
foo.tex</p>

<p style="margin-left:11%;"><b>-v</b> or
<b>-version</b></p>

<p style="margin-left:22%;">Print version number of
<i>latexmk</i>.</p>

<p style="margin-left:11%;"><b>-verbose</b></p>

<p style="margin-left:22%;">Opposite of <b>-silent</b>.
This is the default setting.</p>

<p style="margin-left:11%;"><b>-view=default</b>,
<b>-view=dvi</b>, <b>-view=ps</b>, <b>-view=pdf</b>,
<b>-view=none</b></p>

<p style="margin-left:22%;">Set the kind of file used when
previewing is requested (e.g., by the <b>-pv</b> or
<b>-pvc</b> switches). The default is to view the
&quot;highest&quot; kind of requested file (in the
low-to-high order .dvi, .ps, .pdf).</p>

<p style="margin-left:22%; margin-top: 1em">Note the
possibility <b>-view=none</b> where no viewer is opened at
all. One example of is use is in conjunction with the
<b>-pvc</b> option, when you want <i>latexmk</i> to do a
compilation automatically whenever source file(s) change,
but do not want a previewer to be opened.</p>

<p style="margin-left:11%;"><b>-Werror</b></p>

<p style="margin-left:22%;">This causes <i>latexmk</i> to
return a non-zero status code if any of the files processed
gives a warning about problems with citations or references
(i.e., undefined citations or references or about multiply
defined references). This is <b>after</b> <i>latexmk</i> has
completed all the runs it needs to try and resolve
references and citations. Thus <b>-Werror</b> causes
<i>latexmk</i> to treat such warnings as errors, but only
when they occur on the last run of *latex and only after
processing is complete. Also can be set by the configuration
variable <i>$warnings_as_errors</i>.</p>

<p style="margin-left:11%;"><b>-xelatex</b></p>

<p style="margin-left:22%;">Use <i>xelatex</i>. That is,
use <i>xelatex</i> to process the source file(s) to pdf. The
generation of dvi and postscript files is turned off.</p>

<p style="margin-left:22%; margin-top: 1em">This option is
equivalent to using the following set of options</p>

<p style="margin-left:22%; margin-top: 1em">-pdfxe -dvi-
-ps-</p>

<p style="margin-left:22%; margin-top: 1em">[<i>Note</i>:
Note that the method of implementation of this option, but
not its intended primary effect, differ from some earlier
versions of <i>latexmk</i>. <i>Latexmk</i> first uses
<i>xelatex</i> to make an .xdv file, and does all the extra
runs needed (including those of <i>bibtex</i>, etc). Only
after that does it make the pdf file from the .xdv file,
using <i>xdvipdfmx</i>. See the documentation for the
<b>-pdfxe</b> for why this is done.]</p>


<p style="margin-left:11%;"><b>-xelatex=&quot;COMMAND&quot;</b></p>

<p style="margin-left:22%;">This sets the string specifying
the command to run <i>xelatex</i>. It sets the variable
<i>$xelatex</i>.</p>


<p style="margin-left:22%; margin-top: 1em"><i>Warning</i>:
It is important to ensure that the <b>-no-pdf</b> is used
when <i>xelatex</i> is invoked, since <i>latexmk</i> expects
<i>xelatex</i> to produce an .xdv file, not a .pdf file. If
you provide %O in the command specification, this will be
done automatically. See the documentation for the
<b>-pdfxe</b> option for why <i>latexmk</i> makes a .xdv
file rather than a .pdf file when <i>xelatex</i> is
used.</p>

<p style="margin-left:22%; margin-top: 1em">An example of
the use of the <b>-pdfxelatex</b> option:</p>

<p style="margin-left:22%; margin-top: 1em">latexmk -pdfxe
-pdfxelatex=&quot;xelatex --shell-escape %O %S&quot;
foo.tex</p>

<p style="margin-left:22%; margin-top: 1em"><i>Note: This
option when provided with the COMMAND argument only sets the
command for invoking lualatex; it does not turn on the use
of lualatex. That is done by other options or in an
initialization file.</i></p>


<p style="margin-left:11%; margin-top: 1em"><b>Compatibility
between options</b></p>

<p style="margin-left:11%; margin-top: 1em">The
preview-continuous option <b>-pvc</b> can only work with one
file. So in this case you will normally only specify one
filename on the command line.</p>

<p style="margin-left:11%; margin-top: 1em">Options
<b>-p</b>, <b>-pv</b> and <b>-pvc</b> are mutually
exclusive. So each of these options turns the others
off.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">% <b>latexmk
thesis</b> <i># run latex enough times to resolve</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="31%"></td>
<td width="69%">


<p><i>cross-references</i></p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">% <b>latexmk
-pvc -ps thesis</b><i># run latex enough times to
resolve</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%"></td>
<td width="69%">


<p><i>cross-references, make a postscript</i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%"></td>
<td width="69%">


<p><i>file, start a previewer. Then</i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%"></td>
<td width="69%">


<p><i>watch for changes in the source</i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%"></td>
<td width="69%">


<p><i>file thesis.tex and any files it</i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%"></td>
<td width="69%">


<p><i>uses. After any changes rerun latex</i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%"></td>
<td width="69%">


<p><i>the appropriate number of times and</i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%"></td>
<td width="69%">


<p><i>remake the postscript file. If latex</i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%"></td>
<td width="69%">


<p><i>encounters an error, latexmk</i> will</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%"></td>
<td width="69%">


<p>keep running, watching for</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%"></td>
<td width="69%">


<p>source file changes.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%">


<p>% <b>latexmk -c</b></p></td>
<td width="69%">


<p><i># remove .aux, .log, .bbl, .blg, .dvi,</i></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="20%"></td>
<td width="69%">


<p><i>.pdf, .ps &amp; .bbl files</i></p></td></tr>
</table>

<h2>DEALING WITH ERRORS, PROBLEMS, ETC
<a name="DEALING WITH ERRORS, PROBLEMS, ETC"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Some
possibilities:</p>

<p style="margin-left:11%; margin-top: 1em">a. If you get a
strange error, do look carefully at the output that is on
the screen and in log files. While there is much that is
notoriously verbose in the output of <i>latex</i> (and that
is added to by <i>latexmk</i>), the verbosity is there for a
reason: to enable the user to diagnose problems.
<i>Latexmk</i> does repeat some messages at the end of a run
that it thinks would otherwise be easy to miss in the middle
of other output.</p>

<p style="margin-left:11%; margin-top: 1em">b. Generally,
remember that <i>latexmk</i> does its work by running other
programs. Your first priority in dealing with errors should
be to examine what went wrong with the individual programs.
Then you need to correct the causes of errors in the runs of
these programs. (Often these come from errors in the source
document, but they could also be about missing LaTeX
packages, etc.)</p>

<p style="margin-left:11%; margin-top: 1em">c. If
<i>latexmk</i> doesn&rsquo;t run the programs the way you
would like, then you need to look in this documentation at
the list of command line options and then at the sections on
configuration/initialization files. A lot of
<i>latexmk</i>&rsquo;s behavior is configurable to deal with
particular situations. (But there is a lot of reading!)</p>

<p style="margin-left:11%; margin-top: 1em"><i>The
remainder of these notes consists of ideas for dealing with
more difficult situations.</i></p>

<p style="margin-left:11%; margin-top: 1em">d. Further
tricks can involve replacing the standard commands that
<i>latexmk</i> runs by other commands or scripts.</p>

<p style="margin-left:11%; margin-top: 1em">e. For possible
examples of code for use in an RC file, see the directory
example_rcfiles in the distribution of <i>latexmk</i> (e.g.,
at http://mirror.ctan.org/support/latexmk/example_rcfiles).
Even if these examples don&rsquo;t do what you want, they
may provide suitable inspiration.</p>

<p style="margin-left:11%; margin-top: 1em">f.
There&rsquo;s a useful trick that can be used when you use
<i>lualatex</i> instead of <i>pdflatex</i> (and in some
related situations). The problem is that <i>latexmk</i>
won&rsquo;t notice a dependency on a file, bar.baz say, that
is input by the lua code in your document instead of by the
LaTeX part. (Thus if you change bar.baz and rerun
<i>latexmk</i>, then <i>latexmk</i> will think no files have
changed and not rerun <i>lualatex</i>, whereas if you had
&rsquo;\input{bar.baz}&rsquo; in the LaTeX part of the
document, <i>latexmk</i> would notice the change.) One
solution is just to put the following somewhere in the LaTeX
part of the document:</p>


<p style="margin-left:11%; margin-top: 1em">\typeout{(bar.baz)}</p>

<p style="margin-left:11%; margin-top: 1em">This puts a
line in the log file that <i>latexmk</i> will treat as
implying that the file bar.baz was read. (At present I
don&rsquo;t know a way of doing this automatically.) Of
course, if the file has a different name, change bar.baz to
the name of your file.</p>

<p style="margin-left:11%; margin-top: 1em">g. See also the
section &quot;Advanced Configuration: Some extra
resources&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">h. Look on
tex.stackexchange, i.e., at
http://tex.stackexchange.com/questions/tagged/latexmk
Someone may have already solved your problem.</p>

<p style="margin-left:11%; margin-top: 1em">i. Ask a
question at tex.stackexchange.com.</p>

<p style="margin-left:11%; margin-top: 1em">j. Or ask me
(the author of <i>latexmk</i>). My e-mail is at the end of
this documentation.</p>

<h2>ALLOWING FOR CHANGE OF OUTPUT FILE TYPE
<a name="ALLOWING FOR CHANGE OF OUTPUT FILE TYPE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">When one of the
latex engines is run, the usual situation is that
<i>latex</i> produces a .dvi file, while <i>pdflatex</i> and
<i>lualatex</i> produce a .pdf file. For <i>xelatex</i> the
default is to produce a .pdf file, but to optimize
processing time <i>latexmk</i> runs <i>xelatex</i> its
<b>-no-pdf</b> option so that it produces an .xdv file.
Further processing by <i>latexmk</i> takes this as a
starting point.</p>

<p style="margin-left:11%; margin-top: 1em">However, the
actual output file may differ from the normal expectation;
and then <i>latexmk</i> can adjust its processing to
accommodate this situation. The difference in output file
type can happen for two reasons: One is that for
<i>latex</i>, <i>pdflatex</i> and <i>lualatex</i> the
document itself can override the defaults. The other is that
there may be a configuration, or misconfiguration, such that
the program that <i>latexmk</i> invokes to compile the
document is not the expected one, or is given options
incompatible with what <i>latexmk</i> initially expects.</p>

<p style="margin-left:11%; margin-top: 1em">Under
<i>latex</i> and <i>pdflatex</i>, control of the output
format by the document is done by setting the \pdfoutput
macro. Under <i>lualatex</i>, the \outputmode macro is used
instead.</p>

<p style="margin-left:11%; margin-top: 1em">One example of
an important use-case for document control of the output
format is a document that uses the psfrag package to insert
graphical elements in the output file. The psfrag package
achieves its effects by inserting postscript code in the
output of the compilation of the document. This entails the
use of compilation to a .dvi file, followed by the use of
conversion to a postscript file (either directly, as by
<i>dvips</i> or implicitly, as an intermediate step by
<i>dvipdf</i>). Then it is useful to force output to be of
the .dvi format by inserting \pdfoutput=0 in the preamble of
the document.</p>

<p style="margin-left:11%; margin-top: 1em">Another example
is where the document uses graphics file of the .pdf, .jpg,
and png types. With the default setting for the graphicx
package, these can be processed in compilation to .pdf but
not with compilation to .dvi. In this case, it is useful to
insert \pdfoutput=1 in the preamble of the document to force
compilation to .pdf output format.</p>

<p style="margin-left:11%; margin-top: 1em">In all of these
cases, it is needed that <i>latexmk</i> has to adjust its
processing to deal with a mismatch between the actual output
format (out of .pdf, .dvi, .xdv) and the initially expected
output, if possible. <i>Latexmk</i> does this provided the
following conditions are met.</p>

<p style="margin-left:11%; margin-top: 1em">The first is
that <i>latexmk</i>&rsquo;s <i>$allow_switch</i>
configuration variable is set to a non-zero value as it is
by default. If this variable is zero, a mismatch of
filetypes in the compilation results in an error.</p>

<p style="margin-left:11%; margin-top: 1em">The second
condition for <i>latexmk</i> to be able to handle a change
of output type is that no explicit requests for .dvi or .ps
output files are made. Explicit requests are by the
<b>-dvi</b> and <b>-ps</b>, <b>-print=dvi</b>,
<b>-print=ps</b>, <b>-view=dvi</b>, and <b>-view=ps</b>
options, and by corresponding settings of the
<i>$dvi_mode</i>, <i>$postscript_mode</i>,
<i>$print_type</i>, and <i>$view</i> configuration
variables. The print-type and view-type restrictions only
apply when printing and viewing are explicitly requested,
respectively. For this purpose, the use of the
<b>-pdfdvi</b> and <b>-pdfps</b> options (and the
corresponding setting of the <i>$pdf_mode</i> variable) does
not count as an explicit request for the .dvi and .ps files;
they are merely regarded as a request for making a .pdf file
together with an initial proposal for the processing route
to make it.</p>

<p style="margin-left:11%; margin-top: 1em">Note that when
accommodating a change in output file type, there is
involved a substantial change in the network of rules that
<i>latexmk</i> uses in its actions. The second condition
applied to accommodate a change is to avoid situations where
the change in the rule network is too radical to be readily
handled automatically.</p>

<h2>CONFIGURATION/INITIALIZATION (RC) FILES
<a name="CONFIGURATION/INITIALIZATION (RC) FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">In this section
is explained which configuration files are read by
<i>latexmk</i>. Subsequent sections &quot;How to Set
Variables in Initialization Files&quot;, &quot;Format of
Command Specifications&quot;, &quot;List of Configuration
Variables Usable in Initialization Files&quot;, &quot;Custom
Dependencies&quot;, and &quot;Advanced Configuration&quot;
give details on what can be configured and how.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Latexmk</i>
can be customized using initialization files, which are read
at startup in the following order:</p>

<p style="margin-left:11%; margin-top: 1em">1) The system
RC file, if it exists. <br>
On a UNIX system, <i>latexmk</i> searches the following
directories for a <br>
system RC file, which may be named either
&quot;LatexMk&quot; or &quot;latexmkrc&quot;. The <br>
directories are searched in the following order, and
<i>latexmk</i> uses <br>
the first such file it finds (if any): <br>
&quot;/etc&quot;, <br>
&quot;/opt/local/share/latexmk&quot;, <br>
&quot;/usr/local/share/latexmk&quot;, <br>
&quot;/usr/local/lib/latexmk&quot;. <br>
On a MS-Windows system it looks just in
&quot;C:\latexmk&quot;. <br>
On a cygwin system (i.e., a MS-Windows system in which Perl
is that of cygwin), <i>latexmk</i> looks in the directories
<br>
&quot;/cygdrive/c/latexmk&quot;, <br>
&quot;/etc&quot;, <br>
&quot;/opt/local/share/latexmk&quot;, <br>
&quot;/usr/local/share/latexmk&quot;, <br>
&quot;/usr/local/lib/latexmk&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">If the
environment variable LATEXMKRCSYS is set, its value is used
as the name of the system RC file, instead of any of the
above.</p>

<p style="margin-left:11%; margin-top: 1em">2) The
user&rsquo;s RC file, if it exists. This can be in one of
two places. The traditional one is &quot;.latexmkrc&quot; in
the user&rsquo;s home directory. The other possibility is
&quot;latexmk/latexmkrc&quot; in the user&rsquo;s XDG
configuration home directory. The actual file read is the
first of &quot;$XDG_CONFIG_HOME/latexmk/latexmkrc&quot; or
&quot;$HOME/.latexmkrc&quot; which exists. (See
https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html
for details on the XDG Base Directory Specification.)</p>

<p style="margin-left:11%; margin-top: 1em">Here $HOME is
the user&rsquo;s home directory. [<i>Latexmk</i> determines
the user&rsquo;s home directory as follows: It is the value
of the environment variable HOME, if this variable exists,
which normally is the case on UNIX-like systems (including
Linux and OS-X). Otherwise the environment variable
USERPROFILE is used, if it exists, which normally is the
case on MS-Windows systems. Otherwise a blank string is used
instead of $HOME, in which case <i>latexmk</i> does not look
for an RC file in it.]</p>


<p style="margin-left:11%; margin-top: 1em">$XDG_CONFIG_HOME
is the value of the environment variable XDG_CONFIG_HOME if
it exists. If this environment variable does not exist, but
$HOME is non-blank, then $XDG_CONFIG_HOME is set to the
default value of $HOME/.config. Otherwise $XDG_CONFIG_HOME
is blank, and <i>latexmk</i> does not look for an RC file
under it.</p>

<p style="margin-left:11%; margin-top: 1em">3) The RC file
in the current working directory. This file can be named
either &quot;latexmkrc&quot; or &quot;.latexmkrc&quot;, and
the first of these to be found is used, if any.</p>

<p style="margin-left:11%; margin-top: 1em">4) Any RC
file(s) specified on the command line with the <b>-r</b>
option.</p>

<p style="margin-left:11%; margin-top: 1em">Each RC file is
a sequence of <i>Perl</i> commands. Naturally, a user can
use this in creative ways. But for most purposes, one simply
uses a sequence of assignment statements that override some
of the built-in settings of <i>Latexmk</i>. Straightforward
cases can be handled without knowledge of the <i>Perl</i>
language by using the examples in this document as
templates. Comment lines are introduced by the &quot;#&quot;
character.</p>

<p style="margin-left:11%; margin-top: 1em">Note that
command line options are obeyed in the order in which they
are written; thus any RC file specified on the command line
with the <b>-r</b> option can override previous options but
can be itself overridden by later options on the command
line. There is also the <b>-e</b> option, which allows
initialization code to be specified in
<i>latexmk</i>&rsquo;s command line.</p>

<p style="margin-left:11%; margin-top: 1em"><i>For possible
examples of code for in an RC file, see the directory
example_rcfiles in the distribution of latexmk</i> (e.g., at
http://mirror.ctan.org/support/latexmk/example_rcfiles).</p>

<h2>HOW TO SET VARIABLES IN INITIALIZATION FILES
<a name="HOW TO SET VARIABLES IN INITIALIZATION FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The important
variables that can be configured are described in the
section &quot;List of configuration variables usable in
initialization files&quot;. (See the earlier section
&quot;Configuration/Initialization (rc) Files&quot; for the
files where the configurations are done.) Syntax for setting
these variables is of the following forms:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="31%"></td>
<td width="69%">


<p>$bibtex = &rsquo;bibtex %O %S&rsquo;;</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">for the setting
of a string variable,</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="31%"></td>
<td width="69%">


<p>$preview_mode = 1;</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">for the setting
of a numeric variable, and</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="31%"></td>
<td width="69%">


<p>@default_files = (&rsquo;paper&rsquo;,
&rsquo;paper1&rsquo;);</p> </td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">for the setting
of an array of strings. It is possible to append an item to
an array variable as follows:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="31%"></td>
<td width="69%">


<p>push @default_files, &rsquo;paper2&rsquo;;</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Note that
simple &quot;scalar&quot; variables have names that begin
with a $ character and array variables have names that begin
with a @ character. Each statement ends with a
semicolon.</p>

<p style="margin-left:11%; margin-top: 1em">Strings should
be enclosed in single quotes. (You could use double quotes,
as in many programming languages. But then the <i>Perl</i>
programming language brings into play some special rules for
interpolating variables into strings. People not fluent in
<i>Perl</i> will want to avoid these complications.)</p>

<p style="margin-left:11%; margin-top: 1em">You can do much
more complicated things, but for this you will need to
consult a manual for the <i>Perl</i> programming
language.</p>

<h2>FORMAT OF COMMAND SPECIFICATIONS
<a name="FORMAT OF COMMAND SPECIFICATIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Some of the
variables set the commands that <i>latexmk</i> uses for
carrying out its work, for example to generate a .dvi file
from a .tex file or to view a postscript file. This section
describes some important features of how the commands are
specified. (Note&nbsp;that some of the possibilities listed
here do not apply to the <i>$kpsewhich</i> variable; see its
documentation.)</p>


<p style="margin-left:11%; margin-top: 1em"><b>Placeholders</b>:
Supposed you wanted <i>latexmk</i> to use the command elatex
in place of the regular latex command, and suppose moreover
that you wanted to give it the option
&quot;--shell-escape&quot;. You could do this by the
following setting:</p>

<p style="margin-left:11%; margin-top: 1em">$latex =
&rsquo;elatex --shell-escape %O %S&rsquo;;</p>

<p style="margin-left:11%; margin-top: 1em">The two items
starting with the % character are placeholders. These are
substituted by appropriate values before the command is run.
Thus %S will be replaced by the source file that elatex will
be applied to, and %O will be replaced by any options that
<i>latexmk</i> has decided to use for this command. (E.g.,
if you used the <b>-silent</b> option in the invocation of
<i>latexmk</i>, it results in the replacement of %O by
&quot;-interaction=batchmode&quot;.)</p>

<p style="margin-left:11%; margin-top: 1em">The available
placeholders are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>%A</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>basename of the main tex file. Unlike %R, this is
unaffected by the setting of a jobname by the
<i>-jobname</i> option or the <i>$jobname</i> configuration
value.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>%B</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>base of filename for current command. E.g., if a
postscript file document.ps is being made from the dvi file
document.dvi, then the basename is document.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>%D</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>destination file (e.g., the name of the postscript file
when converting a dvi file to postscript).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>%O</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>options</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>%P</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>If the variable <i>$pre_tex_code</i> is non-empty, then
%P is substituted by the contents of <i>$pre_tex_code</i>
followed by <i>\input{SOURCE}</i>, where SOURCE stands for
the name of the source file. Appropriate quoting is done.
This enables TeX code to be passed to one of the
<i>*latex</i> engines to be executed before the source file
is read.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">If the variable
<i>$pre_tex_code</i> is the empty string, then %P is
equivalent to %S.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>%R</b></p></td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em">root filename. This is the base
name for the main tex file.</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">By default this
is the basename of the main tex file. However the value can
be changed by the use of the <i>-jobname</i> option or the
<i>$jobname</i> configuration variable.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>%S</b></p></td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em">source file (e.g., the name of
the dvi file when converting a .dvi file to ps).</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>%T</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>The name of the primary tex file.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>%U</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>If the variable <i>$pre_tex_code</i> is non-empty, then
its value is substituted for %U (appropriately quoted).
Otherwise it is replaced by a null string.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>%Y</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Name of directory for auxiliary output files (see the
configuration variable <i>$aux_dir</i>). A directory
separation character (&rsquo;/&rsquo;) is appended if
<i>$aux_dir</i> is non-empty and does not end in a suitable
character, with suitable characters being those appropriate
to UNIX and MS-Windows, i.e., &rsquo;:&rsquo;,
&rsquo;/&rsquo; and &rsquo;\&rsquo;. Note that if after
initialization, <i>$out_dir</i> is set, but <i>$aux_dir</i>
is not set (i.e., it is blank), then <i>latexmk</i> sets
<i>$aux_dir</i> to the same value <i>$out_dir</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>%Z</b></p></td>
<td width="8%"></td>
<td width="78%">


<p>Name of directory for output files (see the
configuration variable <i>$out_dir</i>). A directory
separation character (&rsquo;/&rsquo;) is appended if
<i>$out_dir</i> is non-empty and does not end in a suitable
character, with suitable characters being those appropriate
to UNIX and MS-Windows, i.e., &rsquo;:&rsquo;,
&rsquo;/&rsquo; and &rsquo;\&rsquo;.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">If for some
reason you need a literal % character in your string not
subject to the above rules, use &quot;%%&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">Appropriate
quoting will be applied to the filename substitutions, so
you mustn&rsquo;t supply them yourself even if the names of
your files have spaces in them. (But if your TeX filenames
have spaces in them, beware that some older versions of the
TeX program cannot correctly handle filenames containing
spaces.) In case <i>latexmk</i>&rsquo;s quoting does not
work correctly on your system, you can turn it off -- see
the documentation for the variable
<i>$quote_filenames</i>.</p>

<p style="margin-left:11%; margin-top: 1em">See the default
values in the section &quot;List of configuration variables
usable in initialization files&quot; for what is normally
the most appropriate usage.</p>

<p style="margin-left:11%; margin-top: 1em">If you omit to
supply any placeholders whatever in the specification of a
command, <i>latexmk</i> will supply what its author thinks
are appropriate defaults. This gives compatibility with
configuration files for previous versions of <i>latexmk</i>,
which didn&rsquo;t use placeholders.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&quot;Detaching&quot;
a command</b>: Normally when <i>latexmk</i> runs a command,
it waits for the command to run to completion. This is
appropriate for commands like latex, of course. But for
previewers, the command should normally run detached, so
that <i>latexmk</i> gets the previewer running and then
returns to its next task (or exits if there is nothing else
to do). To achieve this effect of detaching a command, you
need to precede the command name with &quot;start &quot;, as
in</p>

<p style="margin-left:11%; margin-top: 1em">$dvi_previewer
= &rsquo;start xdvi %O %S&rsquo;;</p>

<p style="margin-left:11%; margin-top: 1em">This will be
translated to whatever is appropriate for your operating
system.</p>

<p style="margin-left:11%; margin-top: 1em">Notes: (1) In
some circumstances, <i>latexmk</i> will always run a command
detached. This is the case for a previewer in preview
continuous mode, since otherwise previewing continuously
makes no sense. (2) This precludes the possibility of
running a command named start. (3) If the word start occurs
more than once at the beginning of the command string, that
is equivalent to having just one. (4) Under cygwin, some
complications happen, since cygwin amounts to a complicated
merging of UNIX and MS-Windows. See the source code for how
I&rsquo;ve handled the problem.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Command
names containing spaces</b>: Under MS-Windows it is common
that the name of a command includes spaces, since software
is often installed in a subdirectory of &quot;C:\Program
Files&quot;. Such command names should be enclosed in double
quotes, as in</p>

<p style="margin-left:11%; margin-top: 1em">$lpr_pdf =
&rsquo;&quot;c:/Program
Files/Ghostgum/gsview/gsview32.exe&quot; /p %S&rsquo;; <br>
$pdf_previewer = &rsquo;start &quot;c:/Program
Files/SumatraPDF/SumatraPDF.exe&quot; %O %S&rsquo;; <br>
$pdf_previewer = &rsquo;start &quot;c:/Program
Files/SumatraPDF (x86)/SumatraPDF.exe&quot; %O
%S&rsquo;;</p>

<p style="margin-left:11%; margin-top: 1em">(Note about the
above example: Under MS-Windows forward slashes are
equivalent to backslashes in a filename under almost all
circumstances, provided that the filename is inside double
quotes. It is easier to use forward slashes in examples like
the one above, since then one does not have to worry about
the rules for dealing with forward slashes in strings in the
Perl language.)</p>

<p style="margin-left:11%; margin-top: 1em"><b>Command
names under Cygwin</b>: If <i>latexmk</i> is executed by
Cygwin&rsquo;s Perl, <i>be particularly certain that
pathnames in commands have</i> <b>forward</b> <i>slashes</i>
not the usual backslashes for the separator of pathname
components. See the above examples. Backslashes often get
misinterpreted by the Unix shell used by Cygwin&rsquo;s Perl
to execute external commands. Forward slashes don&rsquo;t
suffer from this problem, and (when quoted, as above) are
equally acceptable to MS-Windows.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Using
MS-Windows file associations</b>: A useful trick under
modern versions of MS-Windows (e.g., WinXP) is to use just
the command &rsquo;start&rsquo; by itself:</p>

<p style="margin-left:11%; margin-top: 1em">$dvi_previewer
= &rsquo;start %S&rsquo;;</p>

<p style="margin-left:11%; margin-top: 1em">Under
MS-Windows, this will cause to be run whatever program the
system has associated with dvi files. (The same applies for
a postscript viewer and a pdf viewer.) But note that this
trick is not always suitable for the pdf previwer, if your
system has acroread for the default pdf viewer. As explained
elsewhere, acroread under MS-Windows does not work well with
<i>latex</i> and <i>latexmk</i>, because acroread locks the
pdf file.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Not using a
certain command</b>: If a command is not to be run, the
command name NONE is used, as in</p>

<p style="margin-left:11%; margin-top: 1em">$lpr =
&rsquo;NONE lpr&rsquo;;</p>

<p style="margin-left:11%; margin-top: 1em">This typically
is used when an appropriate command does not exist on your
system. The string after the &quot;NONE&quot; is effectively
a comment.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Options to
commands</b>: Setting the name of a command can be used not
only for changing the name of the command called, but also
to add options to command. Suppose you want <i>latexmk</i>
to use latex with source specials enabled. Then you might
use the following line in an initialization file:</p>

<p style="margin-left:11%; margin-top: 1em">$latex =
&rsquo;latex --src-specials %O %S&rsquo;;</p>

<p style="margin-left:11%; margin-top: 1em"><b>Running a
subroutine instead of an external command</b>: Use a
specification starting with &quot;internal&quot;, as in</p>

<p style="margin-left:11%; margin-top: 1em">$latex =
&rsquo;internal mylatex %O %S&rsquo;; <br>
sub mylatex { <br>
my @args = @_; <br>
# Possible preprocessing here <br>
return system &rsquo;latex&rsquo;, @args; <br>
}</p>

<p style="margin-left:11%; margin-top: 1em">For some of the
more exotic possibilities that then become available, see
the section &quot;ADVANCED CONFIGURATION: Some extra
resources and advanced tricks&quot;. Also see some of the
examples in the directory <i>example_rcfiles</i> in the
<i>latexmk</i> distribution.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Advanced
tricks</b>: Normally one specifies a single command for the
commands invoked by <i>latexmk</i>. Naturally, if there is
some complicated additional processing you need to do in
your special situation, you can write a script (or batch
file) to do the processing, and then configure
<i>latexmk</i> to use your script in place of the standard
program.</p>

<p style="margin-left:11%; margin-top: 1em">You can also
use a Perl subroutine instead of a script -- see above. This
is generally the most flexible and portable solution.</p>

<p style="margin-left:11%; margin-top: 1em">It is also
possible to configure <i>latexmk</i> to run multiple
commands. For example, if when running <i>pdflatex</i> to
generate a pdf file from a tex file you need to run another
program after <i>pdflatex</i> to perform some extra
processing, you could do something like:</p>

<p style="margin-left:11%; margin-top: 1em">$pdflatex =
&rsquo;pdflatex --shell-escape %O %S; pst2pdf_for_latexmk
%B&rsquo;;</p>

<p style="margin-left:11%; margin-top: 1em">This definition
assumes you are using a UNIX-like system (which includes
Linux and OS-X), so that the two commands to be run are
separated by the semicolon in the middle of the string.</p>

<p style="margin-left:11%; margin-top: 1em">If you are
using MS-Windows, you would replace the above line by</p>

<p style="margin-left:11%; margin-top: 1em">$pdflatex =
&rsquo;cmd /c pdflatex --shell-escape %O %S&rsquo; <br>
. &rsquo;&amp;&amp; pst2pdf_for_latexmk %B&rsquo;;</p>

<p style="margin-left:11%; margin-top: 1em">Here, the UNIX
command separator ; is replaced by &amp;&amp;. In addition,
there is a problem that some versions of <i>Perl</i> on
MS-Windows do not obey the command separator; this problem
is overcome by explicitly invoking the MS-Windows
command-line processor <i>cmd.exe</i>.</p>

<h2>LIST OF CONFIGURATION VARIABLES USABLE IN INITIALIZATION FILES
<a name="LIST OF CONFIGURATION VARIABLES USABLE IN INITIALIZATION FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">In this section
are specified the variables whose values can be adjusted to
configure <i>latexmk</i>. (See the earlier section
&quot;Configuration/Initialization (rc) Files&quot; for the
files where the configurations are done.)</p>

<p style="margin-left:11%; margin-top: 1em">Default values
are indicated in brackets. Note that for variables that are
boolean in character, concerning whether <i>latexmk</i> does
or does not behave in a certain way, a non-zero value,
normally 1, indicates true, i.e., the behavior occurs, while
a zero value indicates a false value, i.e., the behavior
does not occur. <b><br>
$allow_switch [1]</b></p>

<p style="margin-left:22%; margin-top: 1em">This controls
what happens when the output extension of latex, pdflatex,
lualatex or xelatex differs from what is expected. (The
possible extensions are .dvi, .pdf, .xdv.) This can happen
with the use of the \pdfoutput macro in a document compiled
under <i>latex</i> or <i>pdflatex</i>, or with the use of
the \outputmode macro under <i>lualatex</i>. It can also
happen with certain kinds of incorrect configuration.</p>

<p style="margin-left:22%; margin-top: 1em">In such a case,
<i>latexmk</i> can appropriately adjust its network of
rules. The adjustment is made if <i>$allow_switch</i> is on,
and if no request for a dvi or ps file has been made.</p>

<p style="margin-left:22%; margin-top: 1em">See the section
ALLOWING FOR CHANGE OF OUTPUT EXTENSION.</p>


<p style="margin-left:11%;"><b>$always_view_file_via_temporary
[0]</b></p>

<p style="margin-left:22%;">Whether .ps and .pdf files are
initially to be made in a temporary directory and then moved
to the final location. (This applies to <i>dvips</i>,
<i>dvipdf</i>, and <i>ps2pdf</i> operations, and the
filtering operators on .dvi and .ps files. It does not apply
to <i>pdflatex</i>, unfortunately, since <i>pdflatex</i>
provides no way of specifying a chosen name for the output
file.)</p>

<p style="margin-left:22%; margin-top: 1em">This use of a
temporary file solves a problem that the making of these
files can occupy a substantial time. If a viewer (notably
<i>gv</i>) sees that the file has changed, it may read the
new file before the program writing the file has not yet
finished its work, which can cause havoc.</p>

<p style="margin-left:22%; margin-top: 1em">See the
<i>$pvc_view_file_via_temporary</i> variable for a setting
that applies only if preview-continuous mode (-pvc option)
is used. See <i>$tmpdir</i> for the setting of the directory
where the temporary file is created.</p>

<p style="margin-left:11%;"><b>$analyze_input_log_always
[1]</b></p>

<p style="margin-left:22%; margin-top: 1em">After a run of
latex (etc), always analyze .log for input files in the
&lt;...&gt; and (...) constructions. Otherwise, only do the
analysis when fls file doesn&rsquo;t exist or is out of
date.</p>

<p style="margin-left:22%; margin-top: 1em">Under normal
circumstances, the data in the fls file is reliable, and the
test of the log file gets lots of false positives; usually
$analyze_input_log_always is best set to zero. But the test
of the log file is needed at least in the following
situation: When a user needs to persuade latexmk that a
certain file is a source file, and latexmk doesn&rsquo;t
otherwise find it. Then the user can write code that causes
a line with (...) to be written to log file. One important
case is for lualatex, which doesn&rsquo;t always generate
lines in the .fls file for input lua files. (The situation
with lualatex is HIGHLY version dependent, e.g., there was a
big change between TeXLive 2016 and TeXLive 2017.)</p>

<p style="margin-left:22%; margin-top: 1em">To keep
backward compatibility with older versions of latexmk, the
default is to set $analyze_input_log_always to 1.</p>

<p style="margin-left:11%;"><b>$auto_rc_use [1]</b></p>

<p style="margin-left:22%;">Whether to automatically read
the standard initialization (rc) files, which are the system
RC file, the user&rsquo;s RC file, and the RC file in the
current directory. The command line option <b>-norc</b> can
be used to turn this setting off. Each RC file could also
turn this setting off, i.e., it could set
<i>$auto_rc_use</i> to zero to prevent automatic reading of
the later RC files.</p>

<p style="margin-left:22%; margin-top: 1em">This variable
does not affect the reading of RC files specified on the
command line by the <b>-r</b> option.</p>

<p style="margin-left:11%;"><b>$aux_dir
[&quot;&quot;]</b></p>

<p style="margin-left:22%;">The directory in which
auxiliary files (aux, log, etc) are to be written by a run
of *latex. If this variable is not set, but <i>$out_dir</i>
is set, then <i>$aux_dir</i> is set to <i>$out_dir</i>,
which is the directory to which general output files are to
be written.</p>

<p style="margin-left:22%; margin-top: 1em"><b>Important
note</b>: The effect of <i>$aux_dir</i>, if different from
<i>$out_dir</i>, is achieved by giving <i>*latex</i> the
<b>-aux-directory</b>. Currently (Dec. 2011 and later) this
only works on the MiKTeX version of <i>*latex</i>.</p>

<p style="margin-left:22%; margin-top: 1em">See also the
documentation of <i>$out_dir</i> for some complications on
what directory names are suitable.</p>

<p style="margin-left:22%; margin-top: 1em">If you also use
the <b>-cd</b> option, and <i>$out_dir</i> (or
<i>$aux_dir</i>) contains a relative path, then the path is
interpreted relative to the document directory.</p>

<p style="margin-left:11%;"><b>$aux_out_dir_report
[0]</b></p>

<p style="margin-left:22%;">For each .tex file processed,
list the settings for aux and out directories, after they
have been normalized from the settings specified during
initialization.</p>

<p style="margin-left:22%; margin-top: 1em">This report
gives a reminder of where to look for output.</p>

<p style="margin-left:22%; margin-top: 1em">The report has
to be done per file, because of possible directory changes
for each file. In the simplest cases, the result is the same
as originally specified. In general, e.g., with an absolute
directory specified, the normalization helps performance and
cleans up output to the screen. It also avoids situations
where a file in the current directory is referred to by
different names, e.g., &quot;file.aux&quot; and
&quot;./file.aux&quot;, which can be annoying.</p>

<p style="margin-left:11%;"><b>$banner [0]</b></p>

<p style="margin-left:22%;">If nonzero, the banner message
is printed across each page when converting the dvi file to
postscript. Without modifying the variable
<i>$banner_message</i>, this is equivalent to specifying the
<b>-d</b> option.</p>

<p style="margin-left:22%; margin-top: 1em">Note that if
<i>$banner</i> is nonzero, the <i>$postscript_mode</i> is
assumed and the postscript file is always generated, even if
it is newer than the dvi file.</p>

<p style="margin-left:11%;"><b>$banner_intensity
[0.95]</b></p>

<p style="margin-left:22%;">Equivalent to the <b>-bi</b>
option, this is a decimal number between 0 and 1 that
specifies how dark to print the banner message. 0 is black,
1 is white. The default is just right if your toner
cartridge isn&rsquo;t running too low.</p>

<p style="margin-left:11%;"><b>$banner_message
[&quot;DRAFT&quot;]</b></p>

<p style="margin-left:22%;">The banner message to print
across each page when converting the dvi file to postscript.
This is equivalent to the <b>-bm</b> option.</p>

<p style="margin-left:11%;"><b>$banner_scale
[220.0]</b></p>

<p style="margin-left:22%;">A decimal number that specifies
how large the banner message will be printed.
Experimentation is necessary to get the right scale for your
message, as a rule of thumb the scale should be about equal
to 1100 divided by the number of characters in the message.
The Default is just right for 5 character messages. This is
equivalent to the <b>-bs</b> option.</p>

<p style="margin-left:11%;"><b>@BIBINPUTS</b></p>

<p style="margin-left:22%;">This is an array variable, now
mostly obsolete, that specifies directories where
<i>latexmk</i> should look for .bib files. By default it is
set from the BIBINPUTS environment variable of the operating
system. If that environment variable is not set, a single
element list consisting of the current directory is set. The
format of the directory names depends on your operating
system, of course. Examples for setting this variable
are:</p>

<p style="margin-left:22%; margin-top: 1em">@BIBINPUTS = (
&quot;.&quot;, &quot;C:\\bibfiles&quot; ); <br>
@BIBINPUTS = ( &quot;.&quot;, &quot;\\server\bibfiles&quot;
); <br>
@BIBINPUTS = ( &quot;.&quot;, &quot;C:/bibfiles&quot; );
<br>
@BIBINPUTS = ( &quot;.&quot;, &quot;//server/bibfiles&quot;
); <br>
@BIBINPUTS = ( &quot;.&quot;,
&quot;/usr/local/texmf/bibtex/bib&quot; );</p>

<p style="margin-left:22%; margin-top: 1em">Note that under
MS Windows, either a forward slash &quot;/&quot; or a
backward slash &quot;\&quot; can be used to separate
pathname components, so the first two and the second two
examples are equivalent. Each backward slash should be
doubled to avoid running afoul of <i>Perl</i>&rsquo;s rules
for writing strings.</p>

<p style="margin-left:22%; margin-top: 1em"><i>Important
note:</i> This variable is now mostly obsolete in the
current version of <i>latexmk</i>, since it has a better
method of searching for files using the kpsewhich command.
However, if your system is an unusual one without the
kpsewhich command, you may need to set the variable
<i>@BIBINPUTS</i>.</p>

<p style="margin-left:11%;"><b>$biber [&quot;biber %O
%S&quot;]</b></p>

<p style="margin-left:22%;">The biber processing
program.</p>

<p style="margin-left:11%;"><b>$biber_silent_switch
[&quot;--onlylog&quot;]</b></p>

<p style="margin-left:22%;">Switch(es) for the biber
processing program when silent mode is on.</p>

<p style="margin-left:11%;"><b>$bibtex [&quot;bibtex %O
%S&quot;]</b></p>

<p style="margin-left:22%;">The BibTeX processing
program.</p>

<p style="margin-left:11%;"><b>$bibtex_fudge [1]</b></p>

<p style="margin-left:22%;">When using bibtex, whether to
change directory to $aux_dir before running bibtex.</p>

<p style="margin-left:22%; margin-top: 1em">The need arises
as follows:</p>

<p style="margin-left:22%; margin-top: 1em">a. With bibtex
before about 2019, if the filename given to it contains a
path component, there was a bug that bibtex would not find
extra aux files, as produced by the \include command in
TeX.</p>

<p style="margin-left:22%; margin-top: 1em">b. With all
moderately recent versions of bibtex, bibtex may refuse to
write its bbl and blg files, for security reasons, for
certain cases of the path component of the filename given to
it.</p>

<p style="margin-left:22%; margin-top: 1em">However, there
are also rare cases where the change-directory method
prevents bibtex from finding certain bib or bst files. Then
<i>$bibtex_fudge</i> needs to be set to 0.</p>

<p style="margin-left:11%;"><b>$bibtex_silent_switch
[&quot;-terse&quot;]</b></p>

<p style="margin-left:22%;">Switch(es) for the BibTeX
processing program when silent mode is on.</p>

<p style="margin-left:11%;"><b>$bibtex_use [1]</b></p>

<p style="margin-left:22%;">Under what conditions to run
<i>bibtex</i> or <i>biber</i>. When <i>latexmk</i> discovers
from the log file that one (or more)
<i>bibtex</i>/<i>biber</i>-generated bibliographies are
used, it can run <i>bibtex</i> or <i>biber</i> whenever it
appears necessary to regenerate the bbl file(s) from their
source bib database file(s). But sometimes, the bib file(s)
are not available (e.g., for a document obtained from an
external archive), but the bbl files are provided. In that
case use of <i>bibtex</i> or <i>biber</i> will result in
incorrect overwriting of the precious bbl files. The
variable <i>$bibtex_use</i> controls whether this happens,
and also controls whether or not .bbl files are deleted in a
cleanup operation.</p>

<p style="margin-left:22%; margin-top: 1em">The possible
values of <i>$bibtex_use</i> are: <br>
0: never use BibTeX or biber; never delete .bbl files in a
cleanup. <br>
1: only use <i>bibtex</i> or <i>biber</i> if the bib files
exist; never delete .bbl files in a cleanup. <br>
1.5: only use <i>bibtex</i> or <i>biber</i> if the bib files
exist; conditionally delete .bbl files in a cleanup (i.e.,
delete them only when the bib files all exist). <br>
2: run <i>bibtex</i> or <i>biber</i> whenever it appears
necessary to update the bbl files, without testing for the
existence of the bib files; always delete .bbl files in a
cleanup.</p>

<p style="margin-left:22%; margin-top: 1em">Note that the
value 1.5 does <i>not</i> work properly if the document uses
<i>biber</i> instead of <i>bibtex</i>. (There&rsquo;s a long
story why not.)</p>


<p style="margin-left:11%;"><b>$cleanup_includes_cusdep_generated
[0]</b></p>

<p style="margin-left:22%;">If nonzero, specifies that
cleanup also deletes files that are generated by custom
dependencies. (When doing a clean up, e.g., by use of the
<b>-C</b> option, custom dependencies are those listed in
the <i>.fdb_latexmk</i> file from a previous run.)</p>

<p style="margin-left:11%;"><b>$cleanup_includes_generated
[0]</b></p>

<p style="margin-left:22%;">If nonzero, specifies that
cleanup also deletes files that are detected in the fls file
(or failing that, in log file) as being generated. It will
also include files made from these first generation
generated files.</p>

<p style="margin-left:22%; margin-top: 1em">This operation
is somewhat dangerous, and can have unintended consequences,
since the files to be deleted are determined from a file
created by *latex, which can contain erroneous information.
Therefore this variable is turned off by default, and then
files to be deleted are restricted to those explicitly
specified by patterns configured in the variables
<i>clean_ext</i>, <i>clean_full_ext</i>, and
<i>@generated_exts</i>. Standard cases (e.g., .log files)
appear in <i>latexmk</i>&rsquo;s initial value for the array
<i>@generated_exts</i>.</p>

<p style="margin-left:11%;"><b>$cleanup_mode [0]</b></p>

<p style="margin-left:22%;">If nonzero, specifies cleanup
mode: 1 for full cleanup, 2 for cleanup except for .dvi, .ps
and .pdf files, 3 for cleanup except for dep and aux files.
(There is also extra cleaning as specified by the
<i>$clean_ext</i>, <i>$clean_full_ext</i> and
<i>@generated_exts</i> variables.)</p>

<p style="margin-left:22%; margin-top: 1em">This variable
is equivalent to specifying one of the <b>-c</b> or
<b>-C</b> options. But there should be no need to set this
variable from an RC file.</p>

<p style="margin-left:11%;"><b>$clean_ext
[&quot;&quot;]</b></p>

<p style="margin-left:22%;">Extra extensions of files for
<i>latexmk</i> to remove when any of the clean-up options
(<b>-c</b> or <b>-C</b>) is selected. The value of this
variable is a string containing the extensions separated by
spaces.</p>

<p style="margin-left:22%; margin-top: 1em">It is also
possible to specify a more general pattern of file to be
deleted, by using the place holder %R, as in commands, and
it is also possible to use wildcards. Thus setting</p>

<p style="margin-left:22%; margin-top: 1em">$clean_ext =
&quot;out %R-blx.bib %R-figures*.log
pythontex-files-%R/*&quot;;</p>

<p style="margin-left:22%; margin-top: 1em">in an
initialization file will imply that when a clean-up
operation is specified, not only is the standard set of
files deleted, but also files of the form FOO.out,
FOO-blx.bib, FOO-figures*.log, and pythontex-files-FOO/*,
where FOO stands for the basename of the file being
processed (as in FOO.tex).</p>

<p style="margin-left:22%; margin-top: 1em">Most of the
files to be deleted are relative to the directory specified
by <i>$aux_dir</i>. Note that if <i>$out_dir</i> but not
<i>$aux_dir</i> is set, then in its initialization,
<i>latexmk</i> sets <i>$aux_dir</i> equal to
<i>$out_dir</i>. A normal situation is therefore that
<i>$aux_dir</i> equals <i>$out_dir</i>, which is the only
case directly supported by TeXLive, unlike MiKTeX. Note that
even with TeXLive latexmk does now support different values
for the directories -- see the explanation of the
<i>$emulate_aux variable.</i></p>

<p style="margin-left:22%; margin-top: 1em"><i>If
$out_dir</i> and <i>$aux_dir</i> different, latexmk actually
deletes any files of the specified names in both
<i>$aux_dir</i> and <i>$out_dir</i>; this is because under
certain error conditions, the files may be put in
<i>$out_dir</i> instead of <i>$aux_dir</i>. This also
handles the case of deleting any fls file, since that file
is in <i>$out_dir</i>.</p>

<p style="margin-left:22%; margin-top: 1em">The filenames
specified for a clean-up operation can refer not only to
regular files but also to directories. Directories are only
deleted if they are empty. An example of an application is
to pythontex, which creates files in a particular directory.
You can arrange to remove both the files and the directory
by setting</p>

<p style="margin-left:22%; margin-top: 1em">$clean_ext =
&quot;pythontex-files-%R pythontex-files-%R&quot;;</p>

<p style="margin-left:22%; margin-top: 1em">See also the
(array) variable <i>@generated_exts</i>. In the past, this
variable had certain uses beyond that of <i>$clean_ext</i>.
But now, they accomplish the same things. In fact, after
initialization including the processing of command line
options, <i>latexmk</i> simply appends the list of
extensions in <i>$clean_ext</i> to the array
<i>@generated_exts</i>.</p>

<p style="margin-left:11%;"><b>$clean_full_ext
[&quot;&quot;]</b></p>

<p style="margin-left:22%;">Extra extensions of files for
<i>latexmk</i> to remove when the <b>-C</b> option is
selected, i.e., extensions of files to remove when the .dvi,
etc files are to be cleaned-up.</p>

<p style="margin-left:22%; margin-top: 1em">More general
patterns are allowed, as for <i>$clean_ext</i>.</p>

<p style="margin-left:22%; margin-top: 1em">The files
specified by <i>$clean_full_ext</i> to be deleted are
relative to the directory specified by <i>$out_dir</i>.</p>

<p style="margin-left:11%;"><b>$compiling_cmd
[&quot;&quot;], $failure_cmd [&quot;&quot;], $warning_cmd
[&quot;&quot;], $success_cmd <br>
[&quot;&quot;]</b></p>

<p style="margin-left:22%; margin-top: 1em">These variables
specify commands that are executed at certain points of
compilations. One motivation for their existence is to allow
very useful convenient visual indications of compilation
status even when the window receiving the screen output of
the compilation is hidden. This is particularly useful in
preview-continuous mode.</p>

<p style="margin-left:22%; margin-top: 1em">The commands
are executed at the following points: <i>$compiling_cmd</i>
at the start of compilation, <i>$success_cmd</i> at the end
of a completely successful compilation, <i>$failure_cmd</i>
at the end of an unsuccessful compilation,
<i>$warning_cmd</i> at the of an otherwise successful
compilation that gives warnings about undefined citations or
references or about multiply defined references. If any of
above variables is undefined or blank (the default
situation), then the corresponding command is not
executed.</p>

<p style="margin-left:22%; margin-top: 1em">However, when
<i>$warning_cmd</i> is not set, then in the case of a
compilation with warnings about references or citations, but
with no other error, one or other of <i>$success_cmd</i> or
<i>$failure_cmd</i> is used (if it is set) according to the
setting of <i>$warnings_as_errors</i>.</p>

<p style="margin-left:22%; margin-top: 1em">An example of a
simple setting of these variables is as follows</p>

<p style="margin-left:22%; margin-top: 1em">$compiling_cmd
= &quot;xdotool search --name \&quot;%D\&quot; set_window
--name \&quot;%D compiling\&quot;&quot;; <br>
$success_cmd = &quot;xdotool search --name \&quot;%D\&quot;
set_window --name \&quot;%D OK\&quot;&quot;; <br>
$warning_cmd = &quot;xdotool search --name \&quot;%D\&quot;
&quot;. <br>
&quot;set_window --name \&quot;%D CITE/REF
ISSUE\&quot;&quot;; <br>
$failure_cmd = &quot;xdotool search --name \&quot;%D\&quot;
set_window --name \&quot;%D FAILURE\&quot;&quot;;</p>

<p style="margin-left:22%; margin-top: 1em">These assume
that the program <i>xdotool</i> is installed, that the
previewer is using an X-Window system for display, and that
the title of the window contains the name of the displayed
file, as it normally does. When the commands are executed,
the placeholder string %D is replaced by the name of the
destination file, which is the previewed file. The above
commands result in an appropriate string being appended to
the filename in the window title: &quot; compiling&quot;,
&quot; OK&quot;, or &quot; FAILURE&quot;.</p>

<p style="margin-left:22%; margin-top: 1em">Other
placeholders that can be used are %S, %T, and %R, with %S
and %T normally being identical. These can be useful for a
command changing the title of the edit window. The visual
indication in a window title can useful, since the user does
not have to keep shifting attention to the (possibly hidden)
compilation window to know the status of the
compilation.</p>

<p style="margin-left:22%; margin-top: 1em">More
complicated situations can best be handled by defining a
Perl subroutine to invoke the necessary commands, and using
the &quot;internal&quot; keyword in the definitions to get
the subroutine to be invoked. (See the section &quot;Format
of Command Specifications&quot; for how to do this.)</p>

<p style="margin-left:22%; margin-top: 1em">Naturally, the
above settings that invoke the <i>xdotool</i> program are
only applicable when the X-Window system is used for the
relevant window(s). For other cases, you will have to find
what software solutions are available.</p>

<p style="margin-left:11%;"><b>@cus_dep_list [()]</b></p>

<p style="margin-left:22%;">Custom dependency list -- see
section on &quot;Custom Dependencies&quot;.</p>

<p style="margin-left:11%;"><b>@default_excluded_files
[()]</b></p>

<p style="margin-left:22%;">When <i>latexmk</i> is invoked
with no files specified on the command line, then, by
default, it will process all files in the current directory
with the extension .tex. (In general, it will process the
files specified in the <i>@default_files</i> variable.)</p>

<p style="margin-left:22%; margin-top: 1em">But sometimes
you want to exclude particular files from this default list.
In that case you can specify the excluded files in the array
<i>@default_excluded_files</i>. For example if you wanted to
process all .tex files with the exception of common.tex,
which is a not a standard alone LaTeX file but a file input
by some or all of the others, you could do</p>

<p style="margin-left:22%; margin-top: 1em">@default_files
= (&quot;*.tex&quot;);</p>


<p style="margin-left:22%; margin-top: 1em">@default_excluded_files
= (&quot;common.tex&quot;);</p>

<p style="margin-left:22%; margin-top: 1em">If you have a
variable or large number of files to be processed, this
method saves you from having to list them in detail in
<i>@default_files</i> and having to update the list every
time you change the set of files to be processed.</p>

<p style="margin-left:22%; margin-top: 1em">Notes: 1. This
variable has no effect except when no files are specified on
the <i>latexmk</i> command line. 2. Wildcards are allowed in
<i>@default_excluded_files</i>.</p>

<p style="margin-left:11%;"><b>@default_files
[(&quot;*.tex&quot;)]</b></p>

<p style="margin-left:22%;">Default list of files to be
processed.</p>

<p style="margin-left:22%; margin-top: 1em">If no filenames
are specified on the command line, <i>latexmk</i> processes
all tex files specified in the <i>@default_files</i>
variable, which by default is set to all tex files
(&quot;*.tex&quot;) in the current directory. This is a
convenience: just run <i>latexmk</i> and it will process an
appropriate set of files. But sometimes you want only some
of these files to be processed. In this case you can list
the files to be processed by setting <i>@default_files</i>
in an initialization file (e.g., the file
&quot;latexmkrc&quot; in the current directory). Then if no
files are specified on the command line then the files you
specify by setting <i>@default_files</i> are processed.</p>

<p style="margin-left:22%; margin-top: 1em">Three
examples:</p>

<p style="margin-left:22%; margin-top: 1em">@default_files
= (&quot;paper_current&quot;);</p>

<p style="margin-left:22%; margin-top: 1em">@default_files
= (&quot;paper1&quot;, &quot;paper2.tex&quot;);</p>

<p style="margin-left:22%; margin-top: 1em">@default_files
= (&quot;*.tex&quot;, &quot;*.dtx&quot;);</p>

<p style="margin-left:22%; margin-top: 1em">Note that more
than file may be given, and that the default extension is
&quot;.tex&quot;. Wild cards are allowed. The parentheses
are because <i>@default_files</i> is an array variable,
i.e., a sequence of filename specifications is possible.</p>

<p style="margin-left:22%; margin-top: 1em">If you want
<i>latexmk</i> to process all .tex files with a few
exceptions, see the <i>@default_excluded_files</i> array
variable.</p>

<p style="margin-left:11%;"><b>$dependents_phony
[0]</b></p>

<p style="margin-left:22%;">If a list of dependencies is
output, this variable determines whether to include a phony
target for each source file. If you use the dependents list
in a Makefile, the dummy rules work around errors make gives
if you remove header files without updating the Makefile to
match.</p>

<p style="margin-left:11%;"><b>$dependents_list [0]</b></p>

<p style="margin-left:22%;">Whether to display a list(s) of
dependencies at the end of a run.</p>

<p style="margin-left:11%;"><b>$deps_file
[&quot;-&quot;]</b></p>

<p style="margin-left:22%;">Name of file to receive list(s)
of dependencies at the end of a run, to be used if
<i>$dependesnt_list</i> is set. If the filename is
&quot;-&quot;, then the dependency list is set to stdout
(i.e., normally the screen).</p>

<p style="margin-left:11%;"><b>$do_cd [0]</b></p>

<p style="margin-left:22%;">Whether to change working
directory to the directory specified for the main source
file before processing it. The default behavior is not to do
this, which is the same as the behavior of <i>*latex</i>
programs. This variable is set by the <b>-cd</b> and
<b>-cd-</b> options on <i>latexmk</i>&rsquo;s command
line.</p>

<p style="margin-left:11%;"><b>$dvi_filter [empty]</b></p>

<p style="margin-left:22%;">The dvi file filter to be run
on the newly produced dvi file before other processing.
Equivalent to specifying the <b>-dF</b> option.</p>

<p style="margin-left:11%;"><b>$dvi_mode [See below for
default]</b></p>

<p style="margin-left:22%;">If nonzero, generate a dvi
version of the document. Equivalent to the <b>-dvi</b>
option.</p>

<p style="margin-left:22%; margin-top: 1em">The variable
$dvi_mode defaults to 0, but if no explicit requests are
made for other types of file (postscript, pdf), then
$dvi_mode will be set to 1. In addition, if a request for a
file for which a .dvi file is a prerequisite, then $dvi_mode
will be set to 1.</p>

<p style="margin-left:11%;"><b>$dvi_previewer [&quot;start
xdvi %O %S&quot; under UNIX]</b></p>

<p style="margin-left:22%;">The command to invoke a
dvi-previewer. [Under MS-Windows the default is
&quot;start&quot;; then <i>latexmk</i> arranges to use the
MS-Windows <i>start</i> program, which will cause to be run
whatever command the system has associated with .dvi
files.]</p>

<p style="margin-left:22%; margin-top: 1em"><b>Important
note</b>: Normally you will want to have a previewer run
detached, so that <i>latexmk</i> doesn&rsquo;t wait for the
previewer to terminate before continuing its work. So
normally you should prefix the command by &quot;start
&quot;, which flags to <i>latexmk</i> that it should do the
detaching of the previewer itself (by whatever method is
appropriate to the operating system). But sometimes letting
<i>latexmk</i> do the detaching is not appropriate (for a
variety of non-trivial reasons), so you should put the
&quot;start &quot; bit in yourself, whenever it is
needed.</p>

<p style="margin-left:11%;"><b>$dvi_previewer_landscape
[&quot;start xdvi %O %S&quot;]</b></p>

<p style="margin-left:22%;">The command to invoke a
dvi-previewer in landscape mode. [Under MS-Windows the
default is &quot;start&quot;; then <i>latexmk</i> arranges
to use the MS-Windows <i>start</i> program, which will cause
to be run whatever command the system has associated with
.dvi files.]</p>

<p style="margin-left:11%;"><b>$dvipdf [&quot;dvipdf
-dALLOWPSTRANSPARENCY %O %S %D&quot;]</b></p>

<p style="margin-left:22%;">Command to convert .dvi to .pdf
file. A common reconfiguration is to use the dvipdfm
command, which needs its arguments in a different order:</p>

<p style="margin-left:22%; margin-top: 1em">$dvipdf =
&quot;dvipdfm %O -o %D %S&quot;;</p>

<p style="margin-left:22%; margin-top: 1em">WARNING: The
default dvipdf script generates pdf files with bitmapped
fonts, which do not look good when viewed by acroread. That
script should be modified to give dvips the options &quot;-P
pdf&quot; to ensure that type 1 fonts are used in the pdf
file.</p>

<p style="margin-left:11%;"><b>$dvipdf_silent_switch
[&quot;-q&quot;]</b></p>

<p style="margin-left:22%;">Switch(es) for dvipdf program
when silent mode is on.</p>

<p style="margin-left:22%; margin-top: 1em">N.B. The
standard dvipdf program runs silently, so adding the silent
switch has no effect, but is actually innocuous. But if an
alternative program is used, e.g., dvipdfmx, then the silent
switch has an effect. The default setting is correct for
<i>dvipdfm</i> and <i>dvipdfmx</i>.</p>

<p style="margin-left:11%;"><b>$dvips [&quot;dvips %O -o %D
%S&quot;]</b></p>

<p style="margin-left:22%;">The program to used as a filter
to convert a .dvi file to a .ps file. If pdf is going to be
generated from pdf, then the value of the
<i>$dvips_pdf_switch</i> variable -- see below -- will be
included in the options substituted for &quot;%O&quot;.</p>

<p style="margin-left:11%;"><b>$dvips_landscape
[&quot;dvips -tlandscape %O -o %D %S&quot;]</b></p>

<p style="margin-left:22%;">The program to used as a filter
to convert a .dvi file to a .ps file in landscape mode.</p>

<p style="margin-left:11%;"><b>$dvips_pdf_switch [&quot;-P
pdf&quot;]</b></p>

<p style="margin-left:22%;">Switch(es) for <i>dvips</i>
program when pdf file is to be generated from .ps file.</p>

<p style="margin-left:11%;"><b>$dvips_silent_switch
[&quot;-q&quot;]</b></p>

<p style="margin-left:22%;">Switch(es) for <i>dvips</i>
program when silent mode is on.</p>

<p style="margin-left:11%;"><b>$dvi_update_command
[&quot;&quot;]</b></p>

<p style="margin-left:22%;">When the dvi previewer is set
to be updated by running a command, this is the command that
is run. See the information for the variable
<i>$dvi_update_method</i> for further information, and see
information on the variable <i>$pdf_update_method</i> for an
example for the analogous case of a pdf previewer.</p>

<p style="margin-left:11%;"><b>$dvi_update_method [2 under
UNIX, 1 under MS-Windows]</b></p>

<p style="margin-left:22%;">How the dvi viewer updates its
display when the dvi file has changed. The values here apply
equally to the <i>$pdf_update_method</i> and to the
<i>$ps_update_method</i> variables. <br>
0 =&gt; update is automatic, <br>
1=&gt; manual update by user, which may only mean a mouse
click on the viewer&rsquo;s window or may mean a more
serious action. <br>
2 =&gt; Send the signal, whose number is in the variable
<i>$dvi_update_signal</i>. The default value under UNIX is
suitable for <i>xdvi</i>. <br>
3 =&gt; Viewer cannot do an update, because it locks the
file. (As with <i>acroread</i> under MS-Windows.) <br>
4 =&gt; run a command to do the update. The command is
specified by the variable <i>$dvi_update_command</i>.</p>

<p style="margin-left:22%; margin-top: 1em">See information
on the variable <i>$pdf_update_method</i> for an example of
updating by command.</p>

<p style="margin-left:11%;"><b>$dvi_update_signal [Under
UNIX: SIGUSR1, which is a system-dependent <br>
value]</b></p>

<p style="margin-left:22%;">The number of the signal that
is sent to the dvi viewer when it is updated by sending a
signal -- see the information on the variable
<i>$dvi_update_method</i>. The default value is the one
appropriate for <i>xdvi</i> on a UNIX system.</p>

<p style="margin-left:11%;"><b>$emulate_aux [0]</b></p>

<p style="margin-left:22%;">Whether to emulate the use of
aux_dir when $aux_dir and $out_dir are different, rather
than using the -aux-directory option for the *latex
programs. (MiKTeX supports -aux-directory, but TeXLive
doesn&rsquo;t.)</p>

<p style="margin-left:22%; margin-top: 1em">If you use a
version of *latex that doesn&rsquo;t support -aux-directory,
e.g., TeXLive, latexmk will automatically switch aux_dir
emulation on after the first run of *latex, because it will
find the .log file in the wrong place.</p>

<p style="margin-left:22%; margin-top: 1em">Aux_directory
emulation means that when *latex is invoked, the
<i>output</i> directory provided to *latex is set to be the
aux_dir. After that, any files that need to be in the output
directory will be moved there. (These are the files with
extensions .dvi, .ps, .pdf, .fls, .synctex,
.synctex.gz.)</p>

<p style="margin-left:11%;"><b>$failure_cmd
[undefined]</b></p>

<p style="margin-left:22%;">See the documentation for
<i>$compiling_cmd</i>.</p>

<p style="margin-left:11%;"><b>$fdb_ext
[&quot;fdb_latexmk&quot;]</b></p>

<p style="margin-left:22%;">The extension of the file which
<i>latexmk</i> generates to contain a database of
information on source files. You will not normally need to
change this.</p>


<p style="margin-left:11%;"><b>$filetime_causality_threshold
[5]; $filetime_offset_report_threshold <br>
[30].</b> (Units of seconds.)</p>

<p style="margin-left:22%; margin-top: 1em">These variables
control how <i>latexmk</i> deals with the following issue,
which can affect the use of files that are on a remote
filesystem (network share) instead of being on a file system
local to the computer running <i>latexmk</i>. Almost users
will not have to worry about these settings, and can ignore
the following explanation.</p>

<p style="margin-left:22%; margin-top: 1em">In almost all
situations, <i>latexmk</i> does not need to use the time
stamps of the files it works with. However, there are a
couple of situations when it needs to know whether a certain
file was created in the current run of a program (e.g.,
<i>*latex</i>) or is a leftover file from a previous run. It
does this by comparing the modification time of the file
with the system time just before the program was started. If
the modification time is earlier than when the program was
started, the file is a leftover file, which <i>latexmk</i>
treats as if it were not created. If the filetime is at
least the program start time, then it can be assumed that
the file was created in the current run.</p>

<p style="margin-left:22%; margin-top: 1em">Unfortunately,
this test can fail if the file is on a remote system, since
its system time is not necessarily synchronized with that of
the local system; the timestamps on the remote files are set
by the remote system, not the local system. Generally,
modern operating systems regularly synchronize their time
with a server, so the non-synchronization is mostly small (a
second or so, or a few seconds). But even a small difference
can mess up <i>latexmk</i>&rsquo;s test.</p>

<p style="margin-left:22%; margin-top: 1em"><i>Latexmk</i>
measures the time difference between the time on the two
systems and compensates for this. But the measurement (in a
system-independent way) is only accurate to a second or two.
So <i>latexmk</i> allows for a threshold on the difference
between file and system time before it concludes that a file
is a leftover file from a previous run. The configuration
variable <i>$filetime_causality_theshhold</i>, which in
units of seconds, specifies this threshold. Luckily high
precision is not needed. The previous run is normally the
previous run in a human run-edit-run cycle, and is at least
many seconds back. A few seconds is therefore appropriate
for the threshold, <i>$filetime_causality_theshhold</i>; it
should be non-negative always, and should be bigger than 2
if a remote filesystem or network share is used.</p>

<p style="margin-left:22%; margin-top: 1em">If the
difference in system times on the two systems is large, it
normally indicates that at least one of the systems is
misconfigured. The variable
<i>$filetime_offset_report_threshold</i> specifies the
smallest size of the difference (or offset) in seconds
between the times of the local and remote system beyond
which the offset is reported. This is reported at the point
in the <i>latexmk</i>&rsquo;s progress that it measures the
offset. The report is made if silent mode is used and
diagnostic mode is not on.</p>

<p style="margin-left:11%;"><b>$force_mode [0]</b></p>

<p style="margin-left:22%;">If nonzero, continue processing
past minor <i>latex</i> errors including unrecognized cross
references. Equivalent to specifying the <b>-f</b>
option.</p>

<p style="margin-left:11%;"><b>@generated_exts [(
&rsquo;aux&rsquo;, &rsquo;bcf&rsquo;, &rsquo;fls&rsquo;,
&rsquo;idx&rsquo;, &rsquo;ind&rsquo;, &rsquo;lof&rsquo;,
&rsquo;lot&rsquo;, <br>
&rsquo;out&rsquo;, &rsquo;toc&rsquo;, &rsquo;blg&rsquo;,
&rsquo;ilg&rsquo;, &rsquo;log&rsquo;, &rsquo;xdv&rsquo;
)]</b></p>

<p style="margin-left:22%; margin-top: 1em">This contains a
list of extensions for files that are generated during
processing, and that should be deleted during a main clean
up operation, as invoked by the command line option
<b>-c</b>. (The use of <b>-C</b> or <b>-gg</b> gives this
clean up and more.)</p>

<p style="margin-left:22%; margin-top: 1em">The default
values are extensions for standard files generated by
*latex, bibtex, and the like. (Note that the clean up also
deletes the fdb_latexmk file, but that&rsquo;s separately
coded into latexmk, currently.)</p>

<p style="margin-left:22%; margin-top: 1em">After
initialization of latexmk and the processing of its command
line, the items in <i>clean_ext</i> are appended to
<i>@generated_exts</i>. So these two variables have the same
meaning (contrary to older versions of latexmk).</p>

<p style="margin-left:22%; margin-top: 1em">The items in
<i>@generated_exts</i> are normally extensions of files,
whose base name is the same as the main tex file. But it is
also possible to specify patterns including that basename
--- see the explanation of the variable
<i>$clean_ext</i>.</p>

<p style="margin-left:22%; margin-top: 1em">In addition to
specifying files to be deleted in a clean up, latexmk uses
the same specification to assist its examination of changes
in source files: Under some situations it needs to find
those changes in files (since a previous run) that are
expected to be due to the user editing a file. This
contrasts with the cases of files that are generated by some
program run by latexmk and that differ from the results of
the previous run. This use of <i>@generated_exts</i> is
normally unimportant, given the usual accuracy of
latexmk&rsquo;s other ways of determining these generated
files.</p>

<p style="margin-left:22%; margin-top: 1em">A convenient
way to add an extra extension to the list, without losing
the already defined ones is to use a push command in the
line in an RC file. E.g.,</p>

<p style="margin-left:22%; margin-top: 1em">push
@generated_exts, &quot;end&quot;;</p>

<p style="margin-left:22%; margin-top: 1em">adds the
extension &quot;end&quot; to the list of predefined
generated extensions. (This extension is used by the RevTeX
package, for example.)</p>

<p style="margin-left:11%;"><b>$go_mode [0]</b></p>

<p style="margin-left:22%;">If nonzero, process files
regardless of timestamps, and is then equivalent to the
<b>-g</b> option.</p>


<p style="margin-left:11%;"><b>%hash_calc_ignore_pattern</b></p>

<p style="margin-left:22%;"><b>!!!This variable is for
experts only!!!</b></p>

<p style="margin-left:22%; margin-top: 1em">The general
rule <i>latexmk</i> uses for determining when an extra run
of some program is needed is that one of the source files
has changed. But consider for example a latex package that
causes an encapsulated postscript file (an &quot;eps&quot;
file) to be made that is to be read in on the next run. The
file contains a comment line giving its creation date and
time. On the next run the time changes, <i>latex</i> sees
that the eps file has changed, and therefore reruns latex.
This causes an infinite loop, that is only terminated
because <i>latexmk</i> has a limit on the number of runs to
guard against pathological situations.</p>

<p style="margin-left:22%; margin-top: 1em">But the
changing line has no real effect, since it is a comment. You
can instruct <i>latex</i> to ignore the offending line as
follows:</p>


<p style="margin-left:22%; margin-top: 1em">$hash_calc_ignore_pattern{&rsquo;eps&rsquo;}
= &rsquo;^%%CreationDate: &rsquo;;</p>

<p style="margin-left:22%; margin-top: 1em">This creates a
rule for files with extension <i>.eps</i> about lines to
ignore. The left-hand side is a <i>Perl</i> idiom for
setting an item in a hash. Note that the file extension is
specified without a period. The value, on the right-hand
side, is a string containing a regular expression. (See
documentation on <i>Perl</i> for how they are to be
specified in general.) This particular regular expression
specifies that lines beginning with &quot;%%CreationDate:
&quot; are to be ignored in deciding whether a file of the
given extension <i>.eps</i> has changed.</p>

<p style="margin-left:22%; margin-top: 1em">There is only
one regular expression available for each extension. If you
need more one pattern to specify lines to ignore, then you
need to combine the patterns into a single regular
expression. The simplest method is separate the different
simple patterns by a vertical bar character (indicating
&quot;alternation&quot; in the jargon of regular
expressions). For example,</p>


<p style="margin-left:22%; margin-top: 1em">$hash_calc_ignore_pattern{&rsquo;eps&rsquo;}
= &rsquo;^%%CreationDate: |^%%Title: &rsquo;;</p>

<p style="margin-left:22%; margin-top: 1em">causes lines
starting with either &quot;^%%CreationDate: &quot; or
&quot;^%%Title: &quot; to be ignored.</p>

<p style="margin-left:22%; margin-top: 1em">It may happen
that a pattern to be ignored is specified in, for example,
in a system or user initialization file, and you wish to
remove this in a file that is read later. To do this, you
use Perl&rsquo;s delete function, e.g.,</p>

<p style="margin-left:22%; margin-top: 1em">delete
$hash_calc_ignore_pattern{&rsquo;eps&rsquo;};</p>

<p style="margin-left:11%;"><b>$jobname
[&quot;&quot;]</b></p>

<p style="margin-left:22%; margin-top: 1em">This specifies
the jobname, i.e., the basename that is used for generated
files (.aux, .log, .dvi, .ps, .pdf, etc). If this variable
is a null string, then the basename is the basename of the
main tex file. (At present, the string in <i>$jobname</i>
should not contain spaces.)</p>

<p style="margin-left:22%; margin-top: 1em">The placeholder
&rsquo;%A&rsquo; is permitted. This will be substituted by
the basename of the TeX file. The primary purpose is when a
variety of tex files are to be processed, and you want to
use a different jobname for each but one that is distinct
for each. Thus if you wanted to compare compilations of a
set of files on different operating systems, with distinct
filenames for all the cases, you could set</p>

<p style="margin-left:22%; margin-top: 1em">$jobname =
&quot;%A-$^O&quot;;</p>

<p style="margin-left:22%; margin-top: 1em">in an
initialization file. (Here <i>$^O</i> is a variable provided
by perl that contains perl&rsquo;s name for the operating
system.)</p>

<p style="margin-left:22%; margin-top: 1em">Suppose you had
.tex files test1.tex and test2.tex. Then when you run</p>

<p style="margin-left:22%; margin-top: 1em">latexmk -pdf
*.tex</p>

<p style="margin-left:22%; margin-top: 1em">both files will
be compiled. The .aux, .log, and .pdf files will have
basenames test1-MSWin32 ante test2-MSWin32 on a MS-Windows
system, test1-darwin and test2-darwin on an OS-X system, and
a variety of similar cases on linux systems.</p>

<p style="margin-left:11%;"><b>$kpsewhich [&quot;kpsewhich
%S&quot;]</b></p>

<p style="margin-left:22%;">The program called to locate a
source file when the name alone is not sufficient. Most
filenames used by <i>latexmk</i> have sufficient path
information to be found directly. But sometimes, notably
when a .bib or a .bst file is found from the log file of a
<i>bibtex</i> or <i>biber</i> run, only the base name of the
file is known, but not its path. The program specified by
<i>$kpsewhich</i> is used to find it.</p>

<p style="margin-left:22%; margin-top: 1em">(<i>For
advanced users:</i> Because of the different way in which
<i>latexmk</i> uses the command specified in
<i>$kpsewhich</i>, some of the possibilities listed in the
FORMAT OF COMMAND SPECIFICATIONS do not apply. The
<i>internal</i> and <i>start</i> keywords are not available.
A simple command specification with possible options and
then &quot;%S&quot; is all that is guaranteed to work. Note
that for other commands, &quot;%S&quot; is substituted by a
single source file. In contrast, for <i>$kpsewhich</i>,
&quot;%S&quot; may be substituted by a long list of
space-separated filenames, each of which is quoted. The
result on STDOUT of running the command is then piped to
<i>latexmk</i>.)</p>

<p style="margin-left:22%; margin-top: 1em">See also the
<i>@BIBINPUTS</i> variable for another way that
<i>latexmk</i> also uses to try to locate files; it applies
only in the case of .bib files.</p>

<p style="margin-left:11%;"><b>$kpsewhich_show [0]</b></p>

<p style="margin-left:22%;">Whether to show diagnostics
about invocations of <i>kpsewhich</i>: the command line use
to invoke it and the results. These diagnostics are shown if
<i>$kpsewhich_show</i> is non-zero or if diagnostics mode is
on. (But in the second case, lots of other diagnostics are
also shown.) Without these diagnostics there is nothing
visible in <i>latexmk</i>&rsquo;s screen output about
invocations of <i>kpsewhich</i>.</p>

<p style="margin-left:11%;"><b>$landscape_mode [0]</b></p>

<p style="margin-left:22%;">If nonzero, run in landscape
mode, using the landscape mode previewers and dvi to
postscript converters. Equivalent to the <b>-l</b> option.
Normally not needed with current previewers.</p>

<p style="margin-left:11%;"><b>$latex [&quot;latex %O
%S&quot;]</b></p>

<p style="margin-left:22%;">Specifies the command line for
the LaTeX processing program. Note that as with other
programs, you can use this variable not just to change the
name of the program used, but also specify options to the
program. E.g.,</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="31%"></td>
<td width="69%">


<p>$latex = &quot;latex --src-specials %O %S&quot;;</p></td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">To do a
coordinated setting of all of <i>$latex</i>,
<i>$pdflatex</i>, <i>$lualatex</i>, and <i>$xelatex</i>, see
the section &quot;Advanced Configuration&quot;.</p>


<p style="margin-left:11%;"><b>%latex_input_extensions</b></p>

<p style="margin-left:22%;">This variable specifies the
extensions tried by <i>latexmk</i> when it finds that a
LaTeX run resulted in an error that a file has not been
found, and the file is given without an extension. This
typically happens when LaTeX commands of the form
\input{file} or \includegraphics{figure}, when the relevant
source file does not exist.</p>

<p style="margin-left:22%; margin-top: 1em">In this
situation, <i>latexmk</i> searches for custom dependencies
to make the missing file(s), but restricts it to the
extensions specified by the variable
%latex_input_extensions. The default extensions are
&rsquo;tex&rsquo; and &rsquo;eps&rsquo;.</p>

<p style="margin-left:22%; margin-top: 1em">(For Perl
experts: %latex_input_extensions is a hash whose keys are
the extensions. The values are irrelevant.) Two subroutines
are provided for manipulating this and the related variable
%pdflatex_input_extensions, add_input_ext and
remove_input_ext. They are used as in the following examples
are possible lines in an initialization file:</p>


<p style="margin-left:22%; margin-top: 1em">remove_input_ext(
&rsquo;latex&rsquo;, &rsquo;tex&rsquo; );</p>

<p style="margin-left:22%; margin-top: 1em">removes the
extension &rsquo;tex&rsquo; from latex_input_extensions</p>

<p style="margin-left:22%; margin-top: 1em">add_input_ext(
&rsquo;latex&rsquo;, &rsquo;asdf&rsquo; );</p>

<p style="margin-left:22%; margin-top: 1em">add the
extension &rsquo;asdf to latex_input_extensions. (Naturally
with such an extension, you should have made an appropriate
custom dependency for <i>latexmk</i>, and should also have
done the appropriate programming in the LaTeX source file to
enable the file to be read. The standard extensions are
handled by LaTeX and its graphics/graphicx packages.)</p>

<p style="margin-left:11%;"><b>$latex_silent_switch
[&quot;-interaction=batchmode&quot;]</b></p>

<p style="margin-left:22%;">Switch(es) for the LaTeX
processing program when silent mode is on.</p>

<p style="margin-left:22%; margin-top: 1em">If you use
MikTeX, you may prefer the results if you configure the
options to include -c-style-errors, e.g., by the following
line in an initialization file</p>


<p style="margin-left:22%; margin-top: 1em">$latex_silent_switch
= &quot;-interaction=batchmode -c-style-errors&quot;;</p>

<p style="margin-left:11%;"><b>$lpr [&quot;lpr %O %S&quot;
under UNIX/Linux, &quot;NONE lpr&quot; under
MS-Windows]</b></p>

<p style="margin-left:22%;">The command to print postscript
files.</p>

<p style="margin-left:22%; margin-top: 1em">Under
MS-Windows (unlike UNIX/Linux), there is no standard program
for printing files. But there are ways you can do it. For
example, if you have <i>gsview</i> installed, you could use
it with the option &quot;/p&quot;:</p>

<p style="margin-left:22%; margin-top: 1em">$lpr =
&rsquo;&quot;c:/Program
Files/Ghostgum/gsview/gsview32.exe&quot; /p&rsquo;;</p>

<p style="margin-left:22%; margin-top: 1em">If
<i>gsview</i> is installed in a different directory, you
will need to make the appropriate change. Note the
combination of single and double quotes around the name. The
single quotes specify that this is a string to be assigned
to the configuration variable <i>$lpr</i>. The double quotes
are part of the string passed to the operating system to get
the command obeyed; this is necessary because one part of
the command name (&quot;Program Files&quot;) contains a
space which would otherwise be misinterpreted.</p>

<p style="margin-left:11%;"><b>$lpr_dvi [&quot;NONE
lpr_dvi&quot;]</b></p>

<p style="margin-left:22%;">The printing program to print
dvi files.</p>

<p style="margin-left:11%;"><b>$lpr_pdf [&quot;NONE
lpr_pdf&quot;]</b></p>

<p style="margin-left:22%;">The printing program to print
pdf files.</p>

<p style="margin-left:22%; margin-top: 1em">Under
MS-Windows you could set this to use <i>gsview</i>, if it is
installed, e.g.,</p>

<p style="margin-left:22%; margin-top: 1em">$lpr =
&rsquo;&quot;c:/Program
Files/Ghostgum/gsview/gsview32.exe&quot; /p&rsquo;;</p>

<p style="margin-left:22%; margin-top: 1em">If
<i>gsview</i> is installed in a different directory, you
will need to make the appropriate change. Note the double
quotes around the name: this is necessary because one part
of the command name (&quot;Program Files&quot;) contains a
space which would otherwise be misinterpreted.</p>

<p style="margin-left:11%;"><b>$lualatex [&quot;lualatex %O
%S&quot;]</b></p>

<p style="margin-left:22%;">Specifies the command line for
the LaTeX processing program that is to be used when the
<i>lualatex</i> program is called for (e.g., by the option
<b>-lualatex</b>.</p>

<p style="margin-left:22%; margin-top: 1em">To do a
coordinated setting of all of <i>$latex</i>,
<i>$pdflatex</i>, <i>$lualatex</i>, and <i>$xelatex</i>, see
the section &quot;Advanced Configuration&quot;.</p>


<p style="margin-left:11%;"><b>%lualatex_input_extensions</b></p>

<p style="margin-left:22%;">This variable specifies the
extensions tried by <i>latexmk</i> when it finds that a
<i>lualatex</i> run resulted in an error that a file has not
been found, and the file is given without an extension. This
typically happens when LaTeX commands of the form
\input{file} or \includegraphics{figure}, when the relevant
source file does not exist.</p>

<p style="margin-left:22%; margin-top: 1em">In this
situation, <i>latexmk</i> searches for custom dependencies
to make the missing file(s), but restricts it to the
extensions specified by the variable
%pdflatex_input_extensions. The default extensions are
&rsquo;tex&rsquo;, &rsquo;pdf&rsquo;, &rsquo;jpg, and
&rsquo;png&rsquo;.</p>

<p style="margin-left:22%; margin-top: 1em">See details of
the <i>%latex_input_extensions</i> for other information
that equally applies to
<i>%lualatex_input_extensions</i>.</p>

<p style="margin-left:11%;"><b>$lualatex_silent_switch
[&quot;-interaction=batchmode&quot;]</b></p>

<p style="margin-left:22%;">Switch(es) for the
<i>lualatex</i> program (specified in the variable
<i>$lualatex</i>) when silent mode is on.</p>

<p style="margin-left:22%; margin-top: 1em">See details of
the <i>$latex_silent_switch</i> for other information that
equally applies to <i>$lualatex_silent_switch</i>.</p>

<p style="margin-left:11%;"><b>$make
[&quot;make&quot;]</b></p>

<p style="margin-left:22%;">The make processing
program.</p>

<p style="margin-left:11%;"><b>$makeindex [&quot;makeindex
%O -o %D %S&quot;]</b></p>

<p style="margin-left:22%;">The index processing
program.</p>

<p style="margin-left:11%;"><b>$makeindex_fudge [0]</b></p>

<p style="margin-left:22%;">When using makeindex, whether
to change directory to $aux_dir before running makeindex.
Set to 1 if $aux_dir is not an explicit subdirectory of
current directory, otherwise makeindex will refuse to write
its output and log files, for security reasons.</p>

<p style="margin-left:11%;"><b>$makeindex_silent_switch
[&quot;-q&quot;]</b></p>

<p style="margin-left:22%;"><b>Switch(es)</b> for the index
processing program when silent mode is on.</p>

<p style="margin-left:11%;"><b>$max_repeat [5]</b></p>

<p style="margin-left:22%;">The maximum number of times
<i>latexmk</i> will run <i>*latex</i> before deciding that
there may be an infinite loop and that it needs to bail out,
rather than rerunning <i>*latex</i> again to resolve
cross-references, etc. The default value covers all normal
cases.</p>

<p style="margin-left:22%; margin-top: 1em">(Note that the
&quot;etc&quot; covers a lot of cases where one run of
<i>*latex</i> generates files to be read in on a later
run.)</p>

<p style="margin-left:11%;"><b>$MSWin_back_slash
[1]</b></p>

<p style="margin-left:22%;">This configuration variable
only has an effect when <i>latexmk</i> is running under
MS-Windows. With the default value of 1 for this variable,
when a command is executed under MS-Windows, <i>latexmk</i>
substitutes &quot;\&quot; for the separator character
between components of a directory name. Internally,
<i>latexmk</i> uses &quot;/&quot; for the directory
separator character, which is the character used by
Unix-like systems.</p>

<p style="margin-left:22%; margin-top: 1em">For almost all
programs and for almost all filenames under MS-Windows, both
&quot;\&quot; and &quot;/&quot; are acceptable as the
directory separator character, provided at least that
filenames are properly quoted. But it is possible that
programs exist that only accept &quot;\&quot; on the command
line, since that is the standard directory separator for
MS-Windows. So for safety <i>latexmk</i> makes the
substitution from &quot;/&quot; to &quot;\&quot;, by
default.</p>

<p style="margin-left:22%; margin-top: 1em">However there
are also programs on MS-Windows for which a back slash
&quot;\&quot; is interpreted differently than as a directory
separator; for these the directory separator should be
&quot;/&quot;. Programs with this behavior include all the
*latex programs in the TeXLive implementation (but not the
MiKTeX implementation). Hence if you use TeXLive on
MS-Windows, then <i>$MSWin_back_slash</i> should be set to
zero.</p>

<p style="margin-left:11%;"><b>$new_viewer_always
[0]</b></p>

<p style="margin-left:22%;">This variable applies to
<i>latexmk</i> <b>only</b> in continuous-preview mode. If
<i>$new_viewer_always</i> is 0, <i>latexmk</i> will check
for a previously running previewer on the same file, and if
one is running will not start a new one. If
<i>$new_viewer_always</i> is non-zero, this check will be
skipped, and <i>latexmk</i> will behave as if no viewer is
running.</p>

<p style="margin-left:11%;"><b>$out_dir
[&quot;&quot;]</b></p>

<p style="margin-left:22%;">If non-blank, this variable
specifies the directory in which output files are to be
written by a run of *latex. See also the variable
<i>$aux_dir</i>.</p>

<p style="margin-left:22%; margin-top: 1em">The effect of
this variable (when non-blank) is achieved by using the
<b>-output-directory</b> option of *latex. This exists in
the usual current (Dec. 2011 and later) implementations of
TeX, i.e., MiKTeX and TeXLive. But it may not be present in
other versions.</p>

<p style="margin-left:22%; margin-top: 1em">If you also use
the <b>-cd</b> option, and <i>$out_dir</i> (or
<i>$aux_dir</i>) contains a relative path, then the path is
interpreted relative to the document directory.</p>

<p style="margin-left:22%; margin-top: 1em">Commonly, the
directory specified for output files is a subdirectory of
the current working directory. However, if you specify some
other directory, e.g., &quot;/tmp/foo&quot; or
&quot;../output&quot;, be aware that this could cause
problems, e.g., with <i>makeindex</i> or <i>bibtex</i>. This
is because modern versions of these programs, by default,
will refuse to work when they find that they are asked to
write to a file in a directory that appears not to be the
current working directory or one of its subdirectories. This
is part of security measures by the whole TeX system that
try to prevent malicious or errant TeX documents from
incorrectly messing with a user&rsquo;s files. If for
<i>$out_dir</i> or <i>$aux_dir</i> you really do need to
specify an absolute pathname (e.g., &quot;/tmp/foo&quot;) or
a path (e.g., &quot;../output&quot;) that includes a
higher-level directory, and you need to use <i>makeindex</i>
or <i>bibtex</i>, then you need to disable the security
measures (and assume any risks). One way of doing this is to
temporarily set an operating system environment variable
openout_any to &quot;a&quot; (as in &quot;all&quot;), to
override the default &quot;paranoid&quot; setting.</p>

<p style="margin-left:11%;"><b>$pdf_mode [0]</b></p>

<p style="margin-left:22%;">If zero, do NOT generate a pdf
version of the document. If equal to 1, generate a pdf
version of the document using <i>pdflatex</i>, using the
command specified by the <i>$pdflatex</i> variable. If equal
to 2, generate a pdf version of the document from the ps
file, by using the command specified by the <i>$ps2pdf</i>
variable. If equal to 3, generate a pdf version of the
document from the dvi file, by using the command specified
by the <i>$dvipdf</i> variable. If equal to 4, generate a
pdf version of the document using <i>lualatex</i>, using the
command specified by the <i>$lualatex</i> variable. If equal
to 5, generate a pdf version (and an xdv version) of the
document using <i>xelatex</i>, using the commands specified
by the <i>$xelatex</i> and <i>xdvipdfmx</i> variables.</p>

<p style="margin-left:22%; margin-top: 1em">In
<i>$pdf_mode</i>=2, it is ensured that .dvi and .ps files
are also made. In <i>$pdf_mode</i>=3, it is ensured that a
.dvi file is also made. But this may be overridden by the
document.</p>

<p style="margin-left:11%;"><b>$pdflatex [&quot;pdflatex %O
%S&quot;]</b></p>

<p style="margin-left:22%;">Specifies the command line for
the LaTeX processing program in a version that makes a pdf
file instead of a dvi file.</p>

<p style="margin-left:22%; margin-top: 1em">An example use
of this variable is to add certain options to the command
line for the program, e.g.,</p>

<p style="margin-left:22%; margin-top: 1em">$pdflatex =
&quot;pdflatex --shell-escape %O %S&quot;;</p>

<p style="margin-left:22%; margin-top: 1em">(In some
earlier versions of <i>latexmk</i>, you needed to use an
assignment to <i>$pdflatex</i> to allow the use of
<i>lualatex</i> or <i>xelatex</i> instead of
<i>pdflatex</i>. There are now separate configuration
variables for the use of <i>lualatex</i> or <i>xelatex</i>.
See <i>$lualatex</i> and <i>$xelatex</i>.)</p>

<p style="margin-left:22%; margin-top: 1em">To do a
coordinated setting of all of <i>$latex</i>,
<i>$pdflatex</i>, <i>$lualatex</i>, and <i>$xelatex</i>, see
the section &quot;Advanced Configuration&quot;.</p>


<p style="margin-left:11%;"><b>%pdflatex_input_extensions</b></p>

<p style="margin-left:22%;">This variable specifies the
extensions tried by <i>latexmk</i> when it finds that a
<i>pdflatex</i> run resulted in an error that a file has not
been found, and the file is given without an extension. This
typically happens when LaTeX commands of the form
\input{file} or \includegraphics{figure}, when the relevant
source file does not exist.</p>

<p style="margin-left:22%; margin-top: 1em">In this
situation, <i>latexmk</i> searches for custom dependencies
to make the missing file(s), but restricts it to the
extensions specified by the variable
%pdflatex_input_extensions. The default extensions are
&rsquo;tex&rsquo;, &rsquo;pdf&rsquo;, &rsquo;jpg, and
&rsquo;png&rsquo;.</p>

<p style="margin-left:22%; margin-top: 1em">See details of
the <i>%latex_input_extensions</i> for other information
that equally applies to
<i>%pdflatex_input_extensions</i>.</p>

<p style="margin-left:11%;"><b>$pdflatex_silent_switch
[&quot;-interaction=batchmode&quot;]</b></p>

<p style="margin-left:22%;">Switch(es) for the
<i>pdflatex</i> program (specified in the variable
<i>$pdflatex</i>) when silent mode is on.</p>

<p style="margin-left:22%; margin-top: 1em">See details of
the <i>$latex_silent_switch</i> for other information that
equally applies to <i>$pdflatex_silent_switch</i>.</p>

<p style="margin-left:11%;"><b>$pdf_previewer [&quot;start
acroread %O %S&quot;]</b></p>

<p style="margin-left:22%;">The command to invoke a
pdf-previewer.</p>

<p style="margin-left:22%; margin-top: 1em">On MS-Windows,
the default is changed to &quot;cmd /c start
&quot;&quot;&quot;; under more recent versions of Windows,
this will cause to be run whatever command the system has
associated with .pdf files. But this may be undesirable if
this association is to <i>acroread</i> -- see the notes in
the explanation of the <b>-pvc</b> option.]</p>

<p style="margin-left:22%; margin-top: 1em">On OS-X the
default is changed to &quot;open %S&quot;, which results in
OS-X starting up (and detaching) the viewer associated with
the file. By default, for pdf files this association is to
OS-X&rsquo;s preview, which is quite satisfactory.</p>


<p style="margin-left:22%; margin-top: 1em"><b>WARNING</b>:
Problem under MS-Windows: if acroread is used as the pdf
previewer, and it is actually viewing a pdf file, the pdf
file cannot be updated. Thus makes acroread a bad choice of
previewer if you use <i>latexmk</i>&rsquo;s
previous-continuous mode (option <b>-pvc</b>) under
MS-windows. This problem does not occur if, for example,
<i>SumatraPDF</i> or <i>gsview</i> is used to view pdf
files.</p>

<p style="margin-left:22%; margin-top: 1em"><b>Important
note</b>: Normally you will want to have a previewer run
detached, so that <i>latexmk</i> doesn&rsquo;t wait for the
previewer to terminate before continuing its work. So
normally you should prefix the command by &quot;start
&quot;, which flags to <i>latexmk</i> that it should do the
detaching of the previewer itself (by whatever method is
appropriate to the operating system). But sometimes letting
<i>latexmk</i> do the detaching is not appropriate (for a
variety of non-trivial reasons), so you should put the
&quot;start &quot; bit in yourself, whenever it is
needed.</p>

<p style="margin-left:11%;"><b>$pdf_update_command
[&quot;&quot;]</b></p>

<p style="margin-left:22%;">When the pdf previewer is set
to be updated by running a command, this is the command that
is run. See the information for the variable
<i>$pdf_update_method</i>.</p>

<p style="margin-left:11%;"><b>$pdf_update_method [1 under
UNIX, 3 under MS-Windows]</b></p>

<p style="margin-left:22%;">How the pdf viewer updates its
display when the pdf file has changed. See the information
on the variable <i>$dvi_update_method</i> for the codes.
(Note that information needs be changed slightly so that for
the value 4, to run a command to do the update, the command
is specified by the variable <i>$pdf_update_command</i>, and
for the value 2, to specify update by signal, the signal is
specified by <i>$pdf_update_signal</i>.)</p>

<p style="margin-left:22%; margin-top: 1em">Note that
acroread under MS-Windows (but not UNIX) locks the pdf file,
so the default value is then 3.</p>

<p style="margin-left:22%; margin-top: 1em">Arranging to
use a command to get a previewer explicitly updated requires
three variables to be set. For example:</p>

<p style="margin-left:22%; margin-top: 1em">$pdf_previewer
= &quot;start xpdf -remote %R %O %S&quot;; <br>
$pdf_update_method = 4; <br>
$pdf_update_command = &quot;xpdf -remote %R
-reload&quot;;</p>

<p style="margin-left:22%; margin-top: 1em">The first
setting arranges for the xpdf program to be used in its
&quot;remote server mode&quot;, with the server name
specified as the rootname of the TeX file. The second
setting arranges for updating to be done in response to a
command, and the third setting sets the update command.</p>

<p style="margin-left:11%;"><b>$pdf_update_signal [Under
UNIX: SIGHUP, which is a system-dependent <br>
value]</b></p>

<p style="margin-left:22%;">The number of the signal that
is sent to the pdf viewer when it is updated by sending a
signal -- see the information on the variable
<i>$pdf_update_method</i>. The default value is the one
appropriate for <i>gv</i> on a UNIX system.</p>

<p style="margin-left:11%;"><b>$pid_position[1 under UNIX,
-1 under MS-Windows]</b></p>

<p style="margin-left:22%;">The variable
<i>$pid_position</i> is used to specify which word in lines
of the output from <i>$pscmd</i> corresponds to the process
ID. The first word in the line is numbered 0. The default
value of 1 (2nd word in line) is correct for Solaris 2.6,
Linux, and OS-X with their default settings of
<i>$pscmd</i>.</p>

<p style="margin-left:22%; margin-top: 1em">Setting the
variable to -1 is used to indicate that <i>$pscmd</i> is not
to be used.</p>

<p style="margin-left:11%;"><b>$postscript_mode [0]</b></p>

<p style="margin-left:22%;">If nonzero, generate a
postscript version of the document. Equivalent to the
<b>-ps</b> option.</p>

<p style="margin-left:22%; margin-top: 1em">If some other
request is made for which a postscript file is needed, then
$postscript_mode will be set to 1.</p>

<p style="margin-left:11%;"><b>$pre_tex_code
[&rsquo;&rsquo;]</b></p>

<p style="margin-left:22%; margin-top: 1em">Sets TeX code
to be executed before inputting the source file. This works
if the relevant one of <i>$latex</i>, etc contains a
suitable command line with a %P or %U substitution. For
example you could do</p>

<p style="margin-left:22%; margin-top: 1em">$latex =
&rsquo;latex %O %P&rsquo;; <br>
$pre_tex_code = &rsquo;\AtBeginDocument{An initial
message\par}&rsquo;;</p>

<p style="margin-left:22%; margin-top: 1em">To set all of
<i>$latex</i>, <i>$pdflatex</i>, <i>$lualatex</i>, and
<i>$xelatex</i> you could use the subroutine
<i>alt_tex_cmds</i>:</p>


<p style="margin-left:22%; margin-top: 1em">&amp;alt_tex_cmds;
<br>
$pre_tex_code = &rsquo;\AtBeginDocument{An initial
message\par}&rsquo;;</p>

<p style="margin-left:11%;"><b>$preview_continuous_mode
[0]</b></p>

<p style="margin-left:22%;">If nonzero, run a previewer to
view the document, and continue running <i>latexmk</i> to
keep .dvi up-to-date. Equivalent to the <b>-pvc</b> option.
Which previewer is run depends on the other settings, see
the command line options <b>-view=</b>, and the variable
<i>$view</i>.</p>

<p style="margin-left:11%;"><b>$preview_mode [0]</b></p>

<p style="margin-left:22%;">If nonzero, run a previewer to
preview the document. Equivalent to the <b>-pv</b> option.
Which previewer is run depends on the other settings, see
the command line options <b>-view=</b>, and the variable
<i>$view</i>.</p>

<p style="margin-left:11%;"><b>$printout_mode [0]</b></p>

<p style="margin-left:22%;">If nonzero, print the document
using the command specified in the <i>$lpr</i> variable.
Equivalent to the <b>-p</b> option. This is recommended
<b>not</b> to be set from an RC file, otherwise you could
waste lots of paper.</p>

<p style="margin-left:11%;"><b>$print_type =
[&quot;auto&quot;]</b></p>

<p style="margin-left:22%;">Type of file to printout:
possibilities are &quot;auto&quot;, &quot;dvi&quot;,
&quot;none&quot;, &quot;pdf&quot;, or &quot;ps&quot;. See
the option <b>-print=</b> for the meaning of the
&quot;auto&quot; value.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>$pscmd</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Command used to get all the processes currently run by
the user. The -pvc option uses the command specified by the
variable <i>$pscmd</i> to determine if there is an already
running previewer, and to find the process ID (needed if
<i>latexmk</i> needs to signal the previewer about file
changes).</p> </td></tr>
</table>

<p style="margin-left:22%; margin-top: 1em">Each line of
the output of this command is assumed to correspond to one
process. See the <i>$pid_position</i> variable for how the
process number is determined.</p>

<p style="margin-left:22%; margin-top: 1em">The default for
<i>pscmd</i> is &quot;NONE&quot; under MS-Windows and cygwin
(i.e., the command is not used), &quot;ps -ww -u
$ENV{USER}&quot; under OS-X, and &quot;ps -f -u
$ENV{USER}&quot; under other operating systems (including
Linux). In these specifications &quot;$ENV{USER}&quot; is
substituted by the username.</p>

<p style="margin-left:11%;"><b>$ps2pdf [&quot;ps2pdf
-dALLOWPSTRANSPARENCY %O %S %D&quot;]</b></p>

<p style="margin-left:22%;">Command to convert .ps to .pdf
file.</p>

<p style="margin-left:11%;"><b>$ps_filter [empty]</b></p>

<p style="margin-left:22%;">The postscript file filter to
be run on the newly produced postscript file before other
processing. Equivalent to specifying the <b>-pF</b>
option.</p>

<p style="margin-left:11%;"><b>$ps_previewer [&quot;start
gv %O %S&quot;, but start %O %S under MS-Windows]</b></p>

<p style="margin-left:22%;">The command to invoke a
ps-previewer. (The default under MS-Windows will cause to be
run whatever command the system has associated with .ps
files.)</p>

<p style="margin-left:22%; margin-top: 1em">Note that
<i>gv</i> could be used with the -watch option updates its
display whenever the postscript file changes, whereas
ghostview does not. However, different versions of <i>gv</i>
have slightly different ways of writing this option. You can
configure this variable appropriately.</p>


<p style="margin-left:22%; margin-top: 1em"><b>WARNING</b>:
Linux systems may have installed one (or more) versions of
<i>gv</i> under different names, e.g., <i>ggv</i>,
<i>kghostview</i>, etc, but perhaps not one actually called
<i>gv</i>.</p>

<p style="margin-left:22%; margin-top: 1em"><b>Important
note</b>: Normally you will want to have a previewer run
detached, so that <i>latexmk</i> doesn&rsquo;t wait for the
previewer to terminate before continuing its work. So
normally you should prefix the command by &quot;start
&quot;, which flags to <i>latexmk</i> that it should do the
detaching of the previewer itself (by whatever method is
appropriate to the operating system). But sometimes letting
<i>latexmk</i> do the detaching is not appropriate (for a
variety of non-trivial reasons), so you should put the
&quot;start &quot; bit in yourself, whenever it is
needed.</p>

<p style="margin-left:11%;"><b>$ps_previewer_landscape
[&quot;start gv -swap %O %S&quot;, but start %O %S under
<br>
MS-Windows]</b></p>

<p style="margin-left:22%;">The command to invoke a
ps-previewer in landscape mode.</p>

<p style="margin-left:11%;"><b>$ps_update_command
[&quot;&quot;]</b></p>

<p style="margin-left:22%;">When the postscript previewer
is set to be updated by running a command, this is the
command that is run. See the information for the variable
<i>$ps_update_method</i>.</p>

<p style="margin-left:11%;"><b>$ps_update_method [0 under
UNIX, 1 under MS-Windows]</b></p>

<p style="margin-left:22%;">How the postscript viewer
updates its display when the .ps file has changed. See the
information on the variable <i>$dvi_update_method</i> for
the codes. (Note that information needs be changed slightly
so that for the value 4, to run a command to do the update,
the command is specified by the variable
<i>$ps_update_command</i>, and for the value 2, to specify
update by signal, the signal is specified by
<i>$ps_update_signal</i>.)</p>

<p style="margin-left:11%;"><b>$ps_update_signal [Under
UNIX: SIGHUP, which is a system-dependent <br>
value]</b></p>

<p style="margin-left:22%;">The number of the signal that
is sent to the pdf viewer when it is updated by sending a
signal -- see <i>$ps_update_method</i>. The default value is
the one appropriate for gv on a UNIX system.</p>

<p style="margin-left:11%;"><b>$pvc_timeout [0]</b></p>

<p style="margin-left:22%;">If this variable is nonzero,
there will be a timeout in pvc mode after a period of
inactivity. Inactivity means a period when <i>latexmk</i>
has detected no file changes and hence has not taken any
actions like compiling the document. The period of
inactivity is in the variable $pvc_timeout_mins.</p>

<p style="margin-left:11%;"><b>$pvc_timeout_mins
[30]</b></p>

<p style="margin-left:22%;">The period of inactivity, in
minutes, after which pvc mode times out. This is used if
<i>$pvc_timeout</i> is nonzero.</p>


<p style="margin-left:11%;"><b>$pvc_view_file_via_temporary
[1]</b></p>

<p style="margin-left:22%;">The same as
<i>$always_view_file_via_temporary</i>, except that it only
applies in preview-continuous mode (-pvc option).</p>

<p style="margin-left:11%;"><b>$quote_filenames [1]</b></p>

<p style="margin-left:22%;">This specifies whether
substitutions for placeholders in command specifications (as
in <i>$pdflatex</i>) are surrounded by double quotes. If
this variable is 1 (or any other value Perl regards as
true), then quoting is done. Otherwise quoting is
omitted.</p>

<p style="margin-left:22%; margin-top: 1em">The quoting
method used by <i>latexmk</i> is tested to work correctly
under UNIX systems (including Linux and Mac OS-X) and under
MS-Windows. It allows the use of filenames containing
special characters, notably spaces. (But note that many
versions of <i>*latex</i> cannot correctly deal with TeX
files whose names contain spaces. <i>Latexmk</i>&rsquo;s
quoting only ensures that such filenames are correctly
treated by the operating system in passing arguments to
programs.)</p>

<p style="margin-left:11%;"><b>$rc_report [1]</b></p>

<p style="margin-left:22%;">After initialization, whether
to give a list of the RC files read.</p>

<p style="margin-left:11%;"><b>$recorder [1]</b></p>

<p style="margin-left:22%;">Whether to use the
<b>-recorder</b> option to <i>(latex</i> Use of this option
results in a file of extension <i>.fls</i> containing a list
of the files that these programs have read and written.
<i>Latexmk</i> will then use this file to improve its
detection of source files and generated files after a run of
<i>*latex</i>.</p>

<p style="margin-left:22%; margin-top: 1em">It is generally
recommended to use this option (or to configure the
<i>$recorder</i> variable to be on.) But it only works if
<i>*latex</i> supports the -recorder option, which is true
for most current implementations</p>

<p style="margin-left:22%; margin-top: 1em"><i>Note about
the name of the .fls file:</i> Most implementations of
<i>*latex</i> produce an .fls file with the same basename as
the main document&rsquo;s LaTeX, e.g., for Document.tex, the
.fls file is Document.fls. However, some implementations
instead produce files named for the program, i.e., latex.fls
or pdflatex.fls. In this second case, <i>latexmk</i> copies
the latex.fls or pdflatex.fls to a file with the basename of
the main LaTeX document, e.g., Document.fls.</p>

<p style="margin-left:11%;"><b>$search_path_separator [See
below for default]</b></p>

<p style="margin-left:22%;">The character separating paths
in the environment variables TEXINPUTS, BIBINPUTS, and
BSTINPUTS. This variable is mainly used by <i>latexmk</i>
when the <b>-outdir</b>, <b>-output-directory</b>,
<b>-auxdir</b>, and/or <b>-aux-directory</b> options are
used. In that case <i>latexmk</i> needs to communicate
appropriately modified search paths to <i>bibtex</i>,
<i>dvipdf</i>, <i>dvips</i>, and <i>*latex</i>.</p>

<p style="margin-left:22%; margin-top: 1em">[Comment to
technically savvy readers: <i>*latex</i> doesn&rsquo;t
actually need the modified search path. But, surprisingly,
<i>dvipdf</i> and <i>dvips</i> do, because sometimes
graphics files get generated in the output or aux
directories.]</p>

<p style="margin-left:22%; margin-top: 1em">The default
under MSWin and Cygwin is &rsquo;;&rsquo; and under
UNIX-like operating systems (including Linux and OS-X) is
&rsquo;:&rsquo;. Normally the defaults give correct
behavior. But there can be difficulties if your operating
system is of one kind, but some of your software is running
under an emulator for the other kind of operating system; in
that case you&rsquo;ll need to find out what is needed, and
set <i>$search_path_separator</i> explicitly. (The same
goes, of course, for unusual operating systems that are not
in the MSWin, Linux, OS-X, Unix collection.)</p>

<p style="margin-left:11%;"><b>$show_time [0]</b></p>

<p style="margin-left:22%;">Whether to show CPU time
used.</p>

<p style="margin-left:11%;"><b>$silence_logfile_warnings
[0]</b></p>

<p style="margin-left:22%;">Whether after a run of *latex
to summarize warnings in the log file about undefined
citations and references. Setting
$silence_logfile_warnings=0 gives the summary of warnings
(provided silent mode isn&rsquo;t also set), and this is
useful to locate undefined citations and references without
searching through the much more verbose log file or the
screen output of *latex. But the summary can also be
excessively annoying. The default is not to give these
warnings. The command line options
<b>-silence_logfile_warning_list</b> and
<b>-silence_logfile_warning_list-</b> also set this
variable.</p>

<p style="margin-left:22%; margin-top: 1em">Note that
multiple occurrences for the same undefined object on the
same page and same line will be compressed to a single
warning.</p>

<p style="margin-left:11%;"><b>$silent [0]</b></p>

<p style="margin-left:22%;">Whether to run silently.
Setting $silent to 1 has the same effect as the
<b>-quiet</b> of <b>-silent</b> options on the command
line.</p>

<p style="margin-left:11%;"><b>$sleep_time [2]</b></p>

<p style="margin-left:22%;">The time to sleep (in seconds)
between checking for source file changes when running with
the <b>-pvc</b> option. This is subject to a minimum of one
second delay, except that zero delay is also allowed.</p>

<p style="margin-left:22%; margin-top: 1em">A value of
exactly 0 gives no delay, and typically results in 100% CPU
usage, which may not be desirable.</p>

<p style="margin-left:11%;"><b>$texfile_search
[&quot;&quot;]</b></p>

<p style="margin-left:22%;">This is an obsolete variable,
replaced by the <i>@default_files</i> variable.</p>

<p style="margin-left:22%; margin-top: 1em">For backward
compatibility, if you choose to set <i>$texfile_search</i>,
it is a string of space-separated filenames, and then
<i>latexmk</i> replaces <i>@default_files</i> with the
filenames in <i>$texfile_search</i> to which is added
&quot;*.tex&quot;.</p>

<p style="margin-left:11%;"><b>$success_cmd
[undefined]</b></p>

<p style="margin-left:22%;">See the documentation for
$compiling_cmd.</p>

<p style="margin-left:11%;"><b>$tmpdir [See below for
default]</b></p>

<p style="margin-left:22%;">Directory to store temporary
files that <i>latexmk</i> may generate while running.</p>

<p style="margin-left:22%; margin-top: 1em">The default
under MSWindows (including cygwin), is to set <i>$tmpdir</i>
to the value of the first of whichever of the system
environment variables TMPDIR or TEMP exists, otherwise to
the current directory. Under other operating systems
(expected to be UNIX/Linux, including OS-X), the default is
the value of the system environment variable TMPDIR if it
exists, otherwise &quot;/tmp&quot;.</p>

<p style="margin-left:11%;"><b>$use_make_for_missing_files
[0]</b></p>

<p style="margin-left:22%;">Whether to use <i>make</i> to
try and make files that are missing after a run of
<i>*latex</i>, and for which a custom dependency has not
been found. This is generally useful only when
<i>latexmk</i> is used as part of a bigger project which is
built by using the <i>make</i> program.</p>

<p style="margin-left:22%; margin-top: 1em">Note that once
a missing file has been made, no further calls to
<i>make</i> will be made on a subsequent run of
<i>latexmk</i> to update the file. Handling this problem is
the job of a suitably defined Makefile. See the section
&quot;USING <i>latexmk</i> WITH <i>make</i>&quot; for how to
do this. The intent of calling <i>make</i> from
<i>latexmk</i> is merely to detect dependencies.</p>

<p style="margin-left:11%;"><b>$view
[&quot;default&quot;]</b></p>

<p style="margin-left:22%;">Which kind of file is to be
previewed if a previewer is used. The possible values are
&quot;default&quot;, &quot;dvi&quot;, &quot;ps&quot;,
&quot;pdf&quot;. The value of &quot;default&quot; means that
the &quot;highest&quot; of the kinds of file generated is to
be used (among .dvi, .ps and .pdf).</p>

<p style="margin-left:11%;"><b>$warnings_as_errors
[0]</b></p>

<p style="margin-left:22%;">Normally <i>latexmk</i> copies
the behavior of <i>latex</i> in treating undefined
references and citations and multiply defined references as
conditions that give a warning but not an error. The
variable <i>$warnings_as_errors</i> controls whether this
behavior is modified.</p>

<p style="margin-left:22%; margin-top: 1em">When the
variable is non-zero, <i>latexmk</i> at the end of its run
will return a non-zero status code to the operating system
if any of the files processed gives a warning about problems
with citations or references (i.e., undefined citations or
references or multiply defined references). This is
<b>after</b> <i>latexmk</i> has completed all the runs it
needs to try and resolve references and citations. Thus
<i>$warnings_as_errors</i> being nonzero causes
<i>latexmk</i> to treat such warnings as errors, but only
when they occur on the last run of *latex and only after
processing is complete. A non-zero value
<i>$warnings_as_errors</i> can be set by the command-line
option <b>-Werror</b>.</p>

<p style="margin-left:22%; margin-top: 1em">The default
behavior is normally satisfactory in the usual
edit-compile-edit cycle. But, for example, <i>latexmk</i>
can also be used as part of a build process for some bigger
project, e.g., for creating documentation in the build of a
software application. Then it is often sensible to treat
citation and reference warnings as errors that require the
overall build process to be aborted. Of course, since
multiple runs of *latex are generally needed to resolve
references and citations, what matters is <i>not</i> the
warnings on the first run, but the warnings on the
<i>last</i> run; <i>latexmk</i> takes this into account
appropriately.</p>

<p style="margin-left:22%; margin-top: 1em">In addition,
when preview-continuous mode is used, a non-zero value for
<i>$warnings_as_errors</i> changes the use of the commands
<i>$failure_cmd</i>, <i>$warning_cmd</i>, and
<i>$success_cmd</i> after a compliation. If there are
citation or reference warnings, but no other errors, the
behavior is as follows. If <i>$warning_cmd</i> is set, it is
used. If it is not set, then then if
<i>$warnings_as_errors</i> is non-zero and
<i>$failure_cmd</i> is set, then <i>$failure_cmd</i>.
Otherwise <i>$success_cmd</i> is used, if it is set. (The
foregoing explanation is rather complicated, because
<i>latexmk</i> has to deal with the case that one or more of
the commands isn&rsquo;t set.)</p>

<p style="margin-left:11%;"><b>$xdvipdfmx [&quot;xdvipdfmx
-E -o %D %O %S&quot;]</b></p>

<p style="margin-left:22%; margin-top: 1em">The program to
make a pdf file from an xdv file (used in conjunction with
<i>xelatex</i> when <i>$pdf_mode</i>=5).</p>

<p style="margin-left:11%;"><b>$xdvipdfmx_silent_switch
[&quot;-q&quot;]</b></p>

<p style="margin-left:22%;">Switch(es) for the
<i>xdvipdfmx</i> program when silent mode is on.</p>

<p style="margin-left:11%;"><b>$xelatex [&quot;xelatex %O
%S&quot;]</b></p>

<p style="margin-left:22%;">Specifies the command line for
the LaTeX processing program of when the <i>xelatex</i>
program is called for. See the documentation of the
<b>-xelatex</b> option for some special properties of
<i>latexmk</i>&rsquo;s use of <i>xelatex</i>.</p>

<p style="margin-left:22%; margin-top: 1em"><i>Note about
xelatex</i>: <i>latexmk</i> uses <i>xelatex</i> to make an
.xdv rather than .pdf file, with the .pdf file being created
in a separate step. This is enforced by the use of the
<b>-no-pdf</b> option. If %O is part of the command for
invoking <i>xelatex</i>, then <i>latexmk</i> will insert the
<b>-no-pdf</b> option automatically, otherwise you must
provide the option yourself. See the documentation for the
<b>-pdfxe</b> option for why <i>latexmk</i> makes a .xdv
file rather than a .pdf file when <i>xelatex</i> is
used.</p>

<p style="margin-left:22%; margin-top: 1em">To do a
coordinated setting of all of <i>$latex</i>,
<i>$pdflatex</i>, <i>$lualatex</i>, and <i>$xelatex</i>, see
the section &quot;Advanced Configuration&quot;.</p>


<p style="margin-left:11%;"><b>%xelatex_input_extensions</b></p>

<p style="margin-left:22%;">This variable specifies the
extensions tried by <i>latexmk</i> when it finds that an
<i>xelatex</i> run resulted in an error that a file has not
been found, and the file is given without an extension. This
typically happens when LaTeX commands of the form
\input{file} or \includegraphics{figure}, when the relevant
source file does not exist.</p>

<p style="margin-left:22%; margin-top: 1em">In this
situation, <i>latexmk</i> searches for custom dependencies
to make the missing file(s), but restricts it to the
extensions specified by the variable
%xelatex_input_extensions. The default extensions are
&rsquo;tex&rsquo;, &rsquo;pdf&rsquo;, &rsquo;jpg, and
&rsquo;png&rsquo;.</p>

<p style="margin-left:22%; margin-top: 1em">See details of
the <i>%latex_input_extensions</i> for other information
that equally applies to
<i>%xelatex_input_extensions</i>.</p>

<p style="margin-left:11%;"><b>$xelatex_silent_switch
[&quot;-interaction=batchmode&quot;]</b></p>

<p style="margin-left:22%;">Switch(es) for the
<i>xelatex</i> program (specified in the variable
<i>$xelatex</i>) when silent mode is on.</p>

<p style="margin-left:22%; margin-top: 1em">See details of
the <i>$latex_silent_switch</i> for other information that
equally applies to <i>$xelatex_silent_switch</i>.</p>

<h2>CUSTOM DEPENDENCIES
<a name="CUSTOM DEPENDENCIES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">In any RC file
a set of custom dependencies can be set up to convert a file
with one extension to a file with another. An example use of
this would be to allow <i>latexmk</i> to convert a
<i>.fig</i> file to <i>.eps</i> to be included in the
<i>.tex</i> file.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Defining a
custom dependency:</b> <br>
The old method of configuring <i>latexmk</i> to use a custom
dependency was to directly manipulate the
<i>@cus_dep_list</i> array that contains information
defining the custom dependencies. (See the section &quot;Old
Method of Defining Custom Dependencies&quot; for details.)
This method still works, but is no longer preferred.</p>

<p style="margin-left:11%; margin-top: 1em">A better method
is to use the subroutines that allow convenient
manipulations of the custom dependency list. These are</p>

<p style="margin-left:11%; margin-top: 1em">add_cus_dep(
fromextension, toextension, must, subroutine ) <br>
remove_cus_dep( fromextension, toextension ) <br>
show_cus_dep()</p>

<p style="margin-left:11%; margin-top: 1em">The arguments
are as follows: <b><br>
from extension:</b></p>

<p style="margin-left:22%;">The extension of the file we
are converting from (e.g. &quot;fig&quot;). It is specified
without a period.</p>

<p style="margin-left:11%;"><b>to extension:</b></p>

<p style="margin-left:22%;">The extension of the file we
are converting to (e.g. &quot;eps&quot;). It is specified
without a period.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>must:</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>If non-zero, the file from which we are converting
<b>must</b> exist, if it doesn&rsquo;t exist <i>latexmk</i>
will give an error message and exit unless the <b>-f</b>
option is specified. If <i>must</i> is zero and the file we
are converting from doesn&rsquo;t exist, then no action is
taken. Generally, the appropriate value of <i>must</i> is
zero.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>function:</b></p>

<p style="margin-left:22%;">The name of the subroutine that
<i>latexmk</i> should call to perform the file conversion.
The first argument to the subroutine is the base name of the
file to be converted without any extension. The subroutines
are declared in the syntax of <i>Perl</i>. The function
should return 0 if it was successful and a nonzero number if
it failed.</p>

<p style="margin-left:11%; margin-top: 1em">Naturally
<i>add_cus_dep</i> adds a custom dependency with the
specified from and to extensions. If a custom dependency has
been previously defined (e.g., in an rcfile that was read
earlier), then it is replaced by the new one.</p>

<p style="margin-left:11%; margin-top: 1em">The subroutine
<i>remove_cus_dep</i> removes the specified custom
dependency. The subroutine <i>show_cus_dep</i> causes a list
of the currently defined custom dependencies to be sent to
the screen output.</p>

<p style="margin-left:11%; margin-top: 1em"><b>How custom
dependencies are used:</b> <br>
An instance of a custom dependency rule is created whenever
<i>latexmk</i> detects that a run of <i>*latex</i> needs to
read a file, like a graphics file, whose extension is the
to-extension of a custom dependency. Then <i>latexmk</i>
examines whether a file exists with the same name, but with
the corresponding from-extension, as specified in the
custom-dependency. If it does, then a corresponding instance
of the custom dependency is created, after which the rule is
invoked whenever the destination file (the one with the
to-extension) is out-of-date with respect to the
corresponding source file.</p>

<p style="margin-left:11%; margin-top: 1em">To make the new
destination file, the <i>Perl</i> subroutine specified in
the rule is invoked, with an argument that is the base name
of the files in question. Simple cases just involve a
subroutine invoking an external program; this can be done by
following the templates below, even by those without
knowledge of the <i>Perl</i> programming language. Of
course, experts could do something much more elaborate.</p>

<p style="margin-left:11%; margin-top: 1em">One item in the
specification of each custom-dependency rule, labeled
&quot;must&quot; above, specifies how the rule should be
applied when the source file fails to exist.</p>

<p style="margin-left:11%; margin-top: 1em">When
<i>latex</i> reports that an input file (e.g., a graphics
file) does not exist, <i>latexmk</i> tries to find a source
file and a custom dependency that can be used to make it. If
it succeeds, then it creates an instance of the custom
dependency and invokes it to make the missing file, after
which the next pass of <i>latex</i> etc will be able to read
the newly created file.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Note for
advanced usage</i>: The operating system&rsquo;s environment
variable TEXINPUTS can be used to specify a search path for
finding files by <i>latex</i> etc. Correspondingly, when a
missing file is reported, <i>latexmk</i> looks in the
directories specified in TEXINPUTS as well as in the current
directory, to find a source file from which an instance of a
custom dependency can be used to make the missing file.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Function to
implement custom dependency, traditional method:</b> <br>
The function that implements a custom dependency gets the
information on the files to be processed in two ways. The
first is through its one argument; the argument contains the
base name of the source and destination files. The second
way is described later.</p>

<p style="margin-left:11%; margin-top: 1em">A simple and
typical example of code in an initialization rcfile using
the first method is:</p>

<p style="margin-left:11%; margin-top: 1em">add_cus_dep(
&rsquo;fig&rsquo;, &rsquo;eps&rsquo;, 0,
&rsquo;fig2eps&rsquo; ); <br>
sub fig2eps { <br>
system( &quot;fig2dev -Leps \&quot;$_[0].fig\&quot;
\&quot;$_[0].eps\&quot;&quot; ); <br>
}</p>

<p style="margin-left:11%; margin-top: 1em">The first line
adds a custom dependency that converts a file with extension
&quot;fig&quot;, as created by the <i>xfig</i> program, to
an encapsulated postscript file, with extension
&quot;eps&quot;. The remaining lines define a subroutine
that carries out the conversion. If a rule for converting
&quot;fig&quot; to &quot;eps&quot; files already exists
(e.g., from a previously read-in initialization file), the
<i>latexmk</i> will delete this rule before making the new
one.</p>

<p style="margin-left:11%; margin-top: 1em">Suppose
<i>latexmk</i> is using this rule to convert a file
&quot;figure.fig&quot; to &quot;figure.eps&quot;. Then it
will invoke the fig2eps subroutine defined in the above code
with a single argument &quot;figure&quot;, which is the
basename of each of the files (possibly with a path
component). This argument is referred to by <i>Perl</i> as
$_[0]. In the example above, the subroutine uses the
<i>Perl</i> command system to invoke the program fig2dev.
The double quotes around the string are a <i>Perl</i> idiom
that signify that each string of the form of a variable
name, $_[0] in this case, is to be substituted by its
value.</p>

<p style="margin-left:11%; margin-top: 1em">If the return
value of the subroutine is non-zero, then <i>latexmk</i>
will assume an error occurred during the execution of the
subroutine. In the above example, no explicit return value
is given, and instead the return value is the value returned
by the last (and only) statement, i.e., the invocation of
system, which returns the value 0 on success.</p>

<p style="margin-left:11%; margin-top: 1em">If you use
<i>pdflatex</i>, <i>lualatex</i> or <i>xelatex</i> instead
of <i>latex</i>, then you will probably prefer to convert
your graphics files to pdf format, in which case you would
replace the above code in an initialization file by</p>

<p style="margin-left:11%; margin-top: 1em">add_cus_dep(
&rsquo;fig&rsquo;, &rsquo;pdf, 0, &rsquo;fig2pdf&rsquo; );
<br>
sub fig2pdf { <br>
system( &quot;fig2dev -Lpdf \&quot;$_[0].fig\&quot;
\&quot;$_[0].pdf\&quot;&quot; ); <br>
}</p>

<p style="margin-left:11%; margin-top: 1em"><b>Note 1:</b>
In the command lines given in the system commands in the
above examples, double quotes have been inserted around the
file names (implemented by &rsquo;\&quot;&rsquo; in the Perl
language). They immunize the running of the program against
special characters in filenames. Very often these quotes are
not necessary, i.e., they can be omitted. But it is normally
safer to keep them in. Even though the rules for quoting
vary between operating systems, command shells and
individual pieces of software, the quotes in the above
examples do not cause problems in the cases I have
tested.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Note 2:</b>
One case in which the quotes are important is when the files
are in a subdirectory and your operating system is Microsoft
Windows. Then the separator character for directory
components can be either a forward slash &rsquo;/&rsquo; or
Microsoft&rsquo;s more usual backward slash &rsquo;\&rsquo;.
Forward slashes are generated by <i>latexmk</i>, to maintain
its sanity from software like MiKTeX that mixes both
directory separators; but their correct use normally
requires quoted filenames. (See a log file from a run of
MiKTeX (at least in v. 2.9) for an example of the use of
both directory separators.)</p>

<p style="margin-left:11%; margin-top: 1em"><b>Note 3:</b>
The subroutines implementing custom dependencies in the
examples given just have a single line invoking an external
program. That&rsquo;s the usual situation. But since the
subroutines are in the Perl language, you can implement much
more complicated processing if you need it.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Removing
custom dependencies, and when you might need to do this:</b>
<br>
If you have some general custom dependencies defined in the
system or user initialization file, you may find that for a
particular project they are undesirable. So you might want
to delete the unneeded ones. A situation where this would be
desirable is where there are multiple custom dependencies
with the same from-extension or the same to-extension. In
that case, <i>latexmk</i> might choose a different one from
the one you want for a specific project. As an example, to
remove any &quot;fig&quot; to &quot;eps&quot; rule you would
use:</p>


<p style="margin-left:11%; margin-top: 1em">remove_cus_dep(
&rsquo;fig&rsquo;, &rsquo;eps&rsquo; );</p>

<p style="margin-left:11%; margin-top: 1em">If you have
complicated sets of custom dependencies, you may want to get
a listing of the custom dependencies. This is done by using
the line</p>


<p style="margin-left:11%; margin-top: 1em">show_cus_dep();</p>

<p style="margin-left:11%; margin-top: 1em">in an
initialization file.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Function
implementing custom dependency, alternative methods:</b>
<br>
So far the examples for functions to implement custom
dependencies have used the argument of the function to
specify the base name of converted file. This method has
been available since very old versions of <i>latexmk</i>,
and many examples can be found, e.g., on the web.</p>

<p style="margin-left:11%; margin-top: 1em">However in
later versions of <i>latexmk</i> the internal structure of
the implementation of its &quot;rules&quot; for the steps of
processing, including custom dependencies, became much more
powerful. The function implementing a custom dependency is
executed within a special context where a number of extra
variables and subroutines are defined. Publicly documented
ones, intended to be long-term stable, are listed below,
under the heading &quot;Variables and subroutines for
processing a rule&quot;.</p>

<p style="margin-left:11%; margin-top: 1em">Examples of
their use is given in the following examples, concerning
multiple index files and glossaries.</p>

<p style="margin-left:11%; margin-top: 1em">The only
index-file conversion built-in to <i>latexmk</i> is from an
&quot;.idx&quot; file written on one run of <i>*latex</i> to
an &quot;.ind&quot; file to be read in on a subsequent run.
But with the index.sty package, for example, you can create
extra indexes with extensions that you configure.
<i>Latexmk</i> does not know how to deduce the extensions
from the information it has. But you can easily write a
custom dependency. For example if your latex file uses the
command &quot;\newindex{special}{ndx}{nnd}{Special
index}&quot; you will need to get <i>latexmk</i> to convert
files with the extension <i>.ndx</i> to <i>.nnd</i>. The
most elementary method is to define a custom dependency as
follows:</p>

<p style="margin-left:11%; margin-top: 1em">add_cus_dep(
&rsquo;ndx&rsquo;, &rsquo;nnd&rsquo;, 0,
&rsquo;ndx2nnd&rsquo; ); <br>
sub ndx2nnd { <br>
return system( &quot;makeindex -o \&quot;$_[0].nnd\&quot;
\&quot;$_[0].ndx\&quot;&quot; ); <br>
} <br>
push @generated_exts, &rsquo;ndx&rsquo;,
&rsquo;nnd&rsquo;;</p>

<p style="margin-left:11%; margin-top: 1em">Notice the
added line compared with earlier examples. The extra line
gets the extensions &quot;ndx&quot; and &quot;nnd&quot;
added to the list of extensions for generated files; then
the extra index files will be deleted by clean-up
operations</p>

<p style="margin-left:11%; margin-top: 1em">But if you have
yet more indexes with yet different extensions, e.g.,
&quot;adx&quot; and &quot;and&quot;, then you will need a
separate function for each pair of extensions. This is quite
annoying. You can use the <i>Run_subst</i> function to
simplify the definitions to use a single function:</p>

<p style="margin-left:11%; margin-top: 1em">add_cus_dep(
&rsquo;ndx&rsquo;, &rsquo;nnd&rsquo;, 0, &rsquo;dx2nd&rsquo;
); <br>
add_cus_dep( &rsquo;adx&rsquo;, &rsquo;and&rsquo;, 0,
&rsquo;dx2nd&rsquo; ); <br>
sub dx2nd { <br>
return Run_subst( &quot;makeindex -o %D %S&quot; ); <br>
} <br>
push @generated_exts, &rsquo;ndx&rsquo;, &rsquo;nnd&rsquo;,
&rsquo;adx&rsquo;, &rsquo;and&rsquo;;</p>

<p style="margin-left:11%; margin-top: 1em">You could also
instead use</p>

<p style="margin-left:11%; margin-top: 1em">add_cus_dep(
&rsquo;ndx&rsquo;, &rsquo;nnd&rsquo;, 0, &rsquo;dx2nd&rsquo;
); <br>
add_cus_dep( &rsquo;adx&rsquo;, &rsquo;and&rsquo;, 0,
&rsquo;dx2nd&rsquo; ); <br>
sub dx2nd { <br>
return Run_subst( $makeindex ); <br>
} <br>
push @generated_exts, &rsquo;ndx&rsquo;, &rsquo;nnd&rsquo;,
&rsquo;adx&rsquo;, &rsquo;and&rsquo;;</p>

<p style="margin-left:11%; margin-top: 1em">This last
example uses the command specification in <i>$makeindex</i>,
and so any customization you have made for the standard
index also applies to your extra indexes.</p>

<p style="margin-left:11%; margin-top: 1em">Similar
techniques can be applied for glossaries.</p>

<p style="margin-left:11%; margin-top: 1em">Those of you
with experience with Makefiles, may get concerned that the
<i>.ndx</i> file is written during a run of <i>*latex</i>
and is always later than the <i>.nnd</i> last read in. Thus
the <i>.nnd</i> appears to be perpetually out-of-date. This
situation, of circular dependencies, is endemic to latex,
and is one of the issues that <i>latexmk</i> is programmed
to overcome. It examines the contents of the files (by use
of a checksum), and only does a remake when the file
contents have actually changed.</p>

<p style="margin-left:11%; margin-top: 1em">Of course if
you choose to write random data to the <i>.nnd</i> (or the
<i>.aux</i> file, etc) that changes on each new run, then
you will have a problem. For real experts: See the
<i>%hash_calc_ignore_pattern</i> if you have to deal with
such problems.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Old Method
of Defining Custom Dependencies:</b> <br>
In much older versions of <i>latexmk</i>, the only method of
defining custom dependencies was to directly manipulate the
table of custom dependencies. This is contained in the
<i>@cus_dep_list</i> array. It is an array of strings, and
each string in the array has four items in it, each
separated by a space, the from-extension, the to-extension,
the &quot;must&quot; item, and the name of the subroutine
for the custom dependency. These were all defined above.</p>

<p style="margin-left:11%; margin-top: 1em">An example of
the old method of defining custom dependencies is as
follows. It is the code in an RC file to ensure automatic
conversion of <i>.fig</i> files to <i>.eps</i> files:</p>

<p style="margin-left:11%; margin-top: 1em">push
@cus_dep_list, &quot;fig eps 0 fig2eps&quot;; <br>
sub fig2eps { <br>
return system( &quot;fig2dev -Lps \&quot;$_[0].fig\&quot;
\&quot;$_[0].eps\&quot;&quot; ); <br>
}</p>

<p style="margin-left:11%; margin-top: 1em">This method
still works, and is almost equivalent to the code given
earlier that used the <i>add_cus_dep</i> subroutine.
However, the old method doesn&rsquo;t delete any previous
custom-dependency for the same conversion. So the new method
is preferable.</p>

<h2>ADVANCED CONFIGURATION: Some extra resources and advanced tricks
<a name="ADVANCED CONFIGURATION: Some extra resources and advanced tricks"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">For most
purposes, simple configuration for <i>latexmk</i> along the
lines of the examples given is sufficient. But sometimes you
need something harder. In this section, I indicate some
extra possibilities. Generally to use these, you need to be
fluent in the Perl language, since this is what is used in
the rc files.</p>

<p style="margin-left:11%; margin-top: 1em">See also the
section DEALING WITH ERRORS, PROBLEMS, ETC. See also the
examples in the directory <i>example_rcfiles</i> in the
<i>latexmk</i> distributions. Even if none of the examples
apply to your case, they may give you useful ideas</p>

<p style="margin-left:11%; margin-top: 1em"><b>Utility
subroutines <br>
ensure_path( var, values ...)</b></p>

<p style="margin-left:22%; margin-top: 1em">The first
parameter is the name of one of the system&rsquo;s
environment variables for search paths. The remaining
parameters are values that should be in the variable. For
each of the value parameters, if it isn&rsquo;t already in
the variable, then it is prepended to the variable; in that
case the environment variable is created if it doesn&rsquo;t
already exist. For separating values, the character
appropriate the the operating system is used -- see the
configuration variable <i>$search_path_separator</i>.</p>

<p style="margin-left:22%; margin-top: 1em">Example:</p>

<p style="margin-left:22%; margin-top: 1em">ensure_path(
&rsquo;TEXINPUTS&rsquo;,
&rsquo;./custom_cls_sty_files//&rsquo; );</p>

<p style="margin-left:22%; margin-top: 1em">(In this
example, the trailing &rsquo;//&rsquo; is documented by TeX
systems to mean that <i>*latex</i> search for files in the
specified directory and in all subdirectories.)</p>

<p style="margin-left:22%; margin-top: 1em">Technically
<i>ensure_path</i> works by setting Perl&rsquo;s variable
<i>$ENV{var}</i>, where <i>var</i> is the name of the target
variable. The changed value is then passed as an environment
variable to any invoked programs.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Variables
and subroutines for processing a rule</b> <br>
A step in the processing is called a rule. One possibility
to implement the processing of a rule is by a Perl
subroutine. This is always the case for custom dependencies.
Also, for any other rule, you can use a subroutine by
prefixing the command specification by the word
&quot;internal&quot; -- see the section FORMAT OF COMMAND
SPECIFICATIONS.</p>

<p style="margin-left:11%; margin-top: 1em">When you use a
subroutine for processing a rule, all the possibilities of
Perl programming are available, of course. In addition, some
of <i>latexmk</i>&rsquo;s internal variables and subroutines
are available. The ones listed below are intended to be
available to (advanced) users, and their specifications will
generally have stability under upgrades. Generally, the
variables should be treated as read-only: Changing their
values can have bad consequences, since it is liable to mess
up the consistency of what <i>latexmk</i> is doing.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">


<p><b>$rule</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>This variable has the name of the rule, as known to
<i>latexmk</i>. Note that the exact contents of this
variable for a given rule may be dependent on the version of
<i>latexmk</i></p> </td></tr>
</table>

<p style="margin-left:11%;"><b>$$Psource</b></p>

<p style="margin-left:22%;">This gives the name of the
primary source file. Note the double dollar signs.</p>

<p style="margin-left:11%;"><b>$$Pdest</b></p>

<p style="margin-left:22%;">This gives the name of the main
output file if any. Note the double dollar signs.</p>

<p style="margin-left:11%;"><b>rdb_ensure_file( $rule, file
)</b></p>

<p style="margin-left:22%;">This a subroutine that ensures
that the given file is among the source files for the
specified rule. It is typically used when, during the
processing of a rule, it is known that a particular extra
file is among the dependencies that <i>latexmk</i> should
know, but its default methods don&rsquo;t find the
dependency. Almost always the first argument is the name of
the rule currently being processed, so it is then
appropriate to specify it by <i>$rule</i>.</p>

<p style="margin-left:22%; margin-top: 1em">For examples of
its use, see some of the files in the directory
<i>example_rcfiles</i> of <i>latexmk</i>&rsquo;s
distribution. Currently the cases that use this subroutine
are <i>bib2gls-latexmkrc</i>, <i>exceltex_latexmkrc</i> and
<i>texinfo-latexmkrc</i>. These illustrate typical cases
where <i>latexmk</i>&rsquo;s normal processing fails to
detect certain extra source files.</p>

<p style="margin-left:11%;"><b>rdb_remove_files( $rule,
file, ... )</b></p>

<p style="margin-left:22%;">This subroutine removes one or
more files from the dependency list for the given rule.</p>

<p style="margin-left:11%;"><b>rdb_list_source( $rule
)</b></p>

<p style="margin-left:22%;">This subroutine returns the
list of source files (i.e., the dependency list) for the
given rule.</p>

<p style="margin-left:11%;"><b>rdb_set_source( $rule, file,
... ) <br>
rdb_set_source( $rule, @files )</b></p>

<p style="margin-left:22%;">This subroutine sets the
dependency list for the given rule to be the specified
files. Files that are already in the list have unchanged
information. Files that were not in the list are added to
it. Files in the previous dependency list that are not in
the newly specified list of files are removed from the
dependency list.</p>

<p style="margin-left:11%;"><b>Run_subst( command_spec
)</b></p>

<p style="margin-left:22%;">This subroutine runs the
command specified by <i>command_spec</i>. The specification
is a string in the format listed in the section &quot;Format
of Command Specifications&quot;. An important action of the
<i>Run_subst</i> is to make substitutions of placeholders,
e.g., %S and %D for source and destination files; these get
substituted before the command is run. In addition, the
command after substitution is printed to the screen unless
<i>latexmk</i> is running in silent mode.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Coordinated
Setting of Commands for *latex</b> <br>
To set all of <i>$latex</i>, <i>$pdflatex</i>,
<i>$lualatex</i>, and <i>$xelatex</i> to a common pattern,
you can use one of the following subroutines, std_tex_cmds,
alt_tex_cmds, and set_tex_cmds.</p>

<p style="margin-left:11%; margin-top: 1em">They work as
follows</p>


<p style="margin-left:11%; margin-top: 1em">&amp;std_tex_cmds;</p>

<p style="margin-left:11%; margin-top: 1em">This results in
<i>$latex = &rsquo;latex %O %S&rsquo;</i>, and similarly for
<i>$pdflatex</i>, <i>$lualatex</i>, and <i>$xelatex</i>.
Note the ampersand in the invocation; this indicates to Perl
that a subroutine is being called.</p>


<p style="margin-left:11%; margin-top: 1em">&amp;alt_tex_cmds;</p>

<p style="margin-left:11%; margin-top: 1em">This results in
<i>$latex = &rsquo;latex %O %P&rsquo;</i>, and similarly for
<i>$pdflatex</i>, <i>$lualatex</i>, and <i>$xelatex</i>.
Note the ampersand in the invocation; this indicates to Perl
that a subroutine is being called.</p>

<p style="margin-left:11%; margin-top: 1em">set_tex_cmds(
CMD_SPEC );</p>

<p style="margin-left:11%; margin-top: 1em">Here CMD_SPEC
is the command line without the program name. This results
in <i>$latex = &rsquo;latex CMD_SPEC&rsquo;</i>, and
similarly for <i>$pdflatex</i>, <i>$lualatex</i>, and
<i>$xelatex</i>. An example would be</p>

<p style="margin-left:11%; margin-top: 1em">set_tex_cmds(
&rsquo;--interaction=batchmode %O %S&rsquo; );</p>

<p style="margin-left:11%; margin-top: 1em"><b>Advanced
configuration: Using</b> <i>latexmk</i> <b>with</b>
<i>make</i> <br>
This section is targeted only at advanced users who use the
<i>make</i> program for complex projects, as for software
development, with the dependencies specified by a
Makefile.</p>

<p style="margin-left:11%; margin-top: 1em">Now the basic
task of <i>latexmk</i> is to run the appropriate programs to
make a viewable version of a LaTeX document. However, the
usual <i>make</i> program is not suited to this purpose for
at least two reasons. First is that the use of LaTeX
involves circular dependencies (e.g., via .aux files), and
these cannot be handled by the standard <i>make</i> program.
Second is that in a large document the set of source files
can change quite frequently, particularly with included
graphics files; in this situation keeping a Makefile
manually updated is inappropriate and error-prone,
especially when the dependencies can be determined
automatically. <i>Latexmk</i> solves both of these problems
robustly.</p>

<p style="margin-left:11%; margin-top: 1em">Thus for many
standard LaTeX documents <i>latexmk</i> can be used by
itself without the <i>make</i> program. In a complex project
it simply needs to be suitably configured. A standard
configuration would be to define custom dependencies to make
graphics files from their source files (e.g., as created by
the <i>xfig</i> program). Custom dependencies are
<i>latexmk</i>&rsquo;s equivalent of pattern rules in
Makefiles.</p>

<p style="margin-left:11%; margin-top: 1em">Nevertheless
there are projects for which a Makefile is appropriate, and
it is useful to know how to use <i>latexmk</i> from a
Makefile. A typical example would be to generate
documentation for a software project. Potentially the
interaction with the rest of the rules in the Makefile could
be quite complicated, for example if some of the source
files for a LaTeX document are generated by the
project&rsquo;s software.</p>

<p style="margin-left:11%; margin-top: 1em">In this
section, I give a couple of examples of how <i>latexmk</i>
can be usefully invoked from a Makefile. The examples use
specific features of current versions of GNU <i>make</i>,
which is the default on both linux and OS-X systems. They
may need modifications for other versions of
<i>make</i>.</p>

<p style="margin-left:11%; margin-top: 1em">The simplest
method is simply to delegate all the relevant tasks to
<i>latexmk</i>, as is suitable for a straightforward LaTeX
document. For this a suitable Makefile is like</p>

<p style="margin-left:11%; margin-top: 1em">.PHONY :
FORCE_MAKE <br>
all : try.pdf <br>
%.pdf : %.tex FORCE_MAKE <br>
latexmk -pdf -dvi- -ps- $&lt;</p>

<p style="margin-left:11%; margin-top: 1em">(Note: the last
line must be introduced by a tab for the Makefile to
function correctly!) Naturally, if making try.pdf from its
associated LaTeX file try.tex were the only task to be
performed, a direct use of <i>latexmk</i> without a Makefile
would normally be better. The benefit of using a Makefile
for a LaTeX document would be in a larger project, where
lines such as the above would be only be a small part of a
larger Makefile.</p>

<p style="margin-left:11%; margin-top: 1em">The above
example has a pattern rule for making a .pdf file from a
.tex file, and it is defined to use <i>latexmk</i> in the
obvious way. There is a conventional default target named
&quot;all&quot;, with a prerequisite of try.pdf. So when
<i>make</i> is invoked, by default it makes try.pdf. The
only complication is that there may be many source files
beyond try.tex, but these aren&rsquo;t specified in the
Makefile, so changes in them will not by themselves cause
<i>latexmk</i> to be invoked. Instead, the pattern rule is
equipped with a &quot;phony&quot; prerequisite FORCE_MAKE;
this has the effect of causing the rule to be always
out-of-date, so that <i>latexmk</i> is always run. It is
<i>latexmk</i> that decides whether any action is needed,
e.g., a rerun of <i>pdflatex</i>. Effectively the Makefile
delegates all decisions to <i>latexmk</i>, while <i>make</i>
has no knowledge of the list of source files except for
primary LaTeX file for the document. If there are, for
example, graphics files to be made, these must be made by
custom dependencies configured in <i>latexmk</i>.</p>

<p style="margin-left:11%; margin-top: 1em">But something
better is needed in more complicated situations, for
example, when the making of graphics files needs to be
specified by rules in the Makefile. To do this, one can use
a Makefile like the following:</p>

<p style="margin-left:11%; margin-top: 1em">TARGETS =
document1.pdf document2.pdf <br>
DEPS_DIR = .deps <br>
LATEXMK = latexmk -recorder -use-make -deps \ <br>
-e &rsquo;warn qq(In Makefile, turn off custom
dependencies\n);&rsquo; \ <br>
-e &rsquo;@cus_dep_list = ();&rsquo; \ <br>
-e &rsquo;show_cus_dep();&rsquo; <br>
all : $(TARGETS) <br>
$(foreach file,$(TARGETS),$(eval -include
$(DEPS_DIR)/$(file)P)) <br>
$(DEPS_DIR) : <br>
mkdir $@ <br>
%.pdf : %.tex <br>
if [ ! -e $(DEPS_DIR) ]; then mkdir $(DEPS_DIR); fi <br>
$(LATEXMK) -pdf -dvi- -ps- -deps-out=$(DEPS_DIR)/$@P $&lt;
<br>
%.pdf : %.fig <br>
fig2dev -Lpdf $&lt; $@</p>

<p style="margin-left:11%; margin-top: 1em">(Again, the
lines containing the commands for the rules should be
started with tabs.) This example was inspired by how GNU
<i>automake</i> handles automatic dependency tracking of C
source files.</p>

<p style="margin-left:11%; margin-top: 1em">After each run
of <i>latexmk</i>, dependency information is put in a file
in the .deps subdirectory. The Makefile causes these
dependency files to be read by <i>make</i>, which now has
the full dependency information for each target .pdf file.
To make things less trivial it is specificed that two files
document1.pdf and document2.pdf are the targets. The
dependency files are .deps/document1.pdfP and
.deps/document2.pdfP.</p>

<p style="margin-left:11%; margin-top: 1em">There is now no
need for the phony prerequisite for the rule to make .pdf
files from .tex files. But I have added a rule to make .pdf
files from .fig files produced by the <i>xfig</i> program;
these are commonly used for graphics insertions in LaTeX
documents. <i>Latexmk</i> is arranged to output a dependency
file after each run. It is given the <b>-recorder</b>
option, which improves its detection of files generated
during a run of <i>pdflatex</i>; such files should not be in
the dependency list. The <b>-e</b> options are used to turn
off all custom dependencies, and to document this. Instead
the <b>-use-make</b> is used to delegate the making of
missing files to <i>make</i> itself.</p>

<p style="margin-left:11%; margin-top: 1em">Suppose in the
LaTeX file there is a command \includegraphics{graph}, and
an <i>xfig</i> file &quot;graph.fig&quot; exists. On a first
run, <i>pdflatex</i> reports a missing file, named
&quot;graph&quot;. <i>Latexmk</i> succeeds in making
&quot;graph.pdf&quot; by calling &quot;make graph.pdf&quot;,
and after completion of its work, it lists
&quot;fig.pdf&quot; among the dependents of the file
<i>latexmk</i> is making. Then let &quot;fig.fig&quot; be
updated, and then let <i>make</i> be run. <i>Make</i> first
remakes &quot;fig.pdf&quot;, and only then reruns
<i>latexmk</i>.</p>

<p style="margin-left:11%; margin-top: 1em">Thus we now
have a method by which all the subsidiary processing is
delegated to <i>make</i>.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">latex(1),
bibtex(1), lualatex(1), pdflatex(1), xelatex(1).</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Sometimes a
viewer (gv) tries to read an updated .ps or .pdf file after
its creation is started but before the file is complete.
Work around: manually refresh (or reopen) display. Or use
one of the other previewers and update methods.</p>

<p style="margin-left:11%; margin-top: 1em">(The following
isn&rsquo;t really a bug, but concerns features of
previewers.) Preview continuous mode only works perfectly
with certain previewers: Xdvi on UNIX/Linux works for dvi
files. Gv on UNIX/Linux works for both postscript and pdf.
Ghostview on UNIX/Linux needs a manual update (reopen); it
views postscript and pdf. Gsview under MS-Windows works for
both postscript and pdf, but only reads the updated file
when its screen is refreshed. Acroread under UNIX/Linux
views pdf, but the file needs to be closed and reopened to
view an updated version. Under MS-Windows, acroread locks
its input file and so the pdf file cannot be updated.
(Remedy: configure <i>latexmk</i> to use <i>sumatrapdf</i>
instead.)</p>

<h2>THANKS TO
<a name="THANKS TO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Authors of
previous versions. Many users with their feedback, and
especially David Coppit (username david at node coppit.org)
who made many useful suggestions that contributed to version
3, and Herbert Schulz. (Please note that the e-mail
addresses are not written in their standard form to avoid
being harvested too easily.)</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Current
version, by John Collins (Version 4.77). Report bugs etc to
his e-mail (jcc8 at psu.edu).</p>

<p style="margin-left:11%; margin-top: 1em">Released
version can be obtained from CTAN:
&lt;http://www.ctan.org/pkg/latexmk/&gt;, and from the
author&rsquo;s website
&lt;http://www.personal.psu.edu/jcc8/latexmk/&gt;. <br>
Modifications and enhancements by Evan McLean (Version 2.0)
<br>
Original script called &quot;go&quot; by David J. Musliner
(RCS Version 3.2)</p>
<hr>
</body>
</html>
