<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:54:01 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>PURIFYEPS</title>

</head>
<body>
<h1>purifyeps</h1>



<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">purifyeps
&minus; make an Encapsulated PostScript file work with both
dvips and pdflatex</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">purifyeps
<b>&minus;&minus;help</b></p>

<p style="margin-left:11%; margin-top: 1em">purifyeps
<b>&minus;&minus;version</b></p>

<p style="margin-left:11%; margin-top: 1em">purifyeps
[<b>&minus;&minus;fontmap</b>=<i>.fmp file</i>] [<i>.eps
input file</i> [<i>.eps output file</i>]]</p>

<p style="margin-left:11%; margin-top: 1em">purifyeps
<b>&minus;&minus;make&minus;man</b>[=<i>filename</i>]
[<b>&minus;&minus;section</b>=<i>section</i>]</p>

<p style="margin-left:11%; margin-top: 1em">purifyeps
<b>&minus;&minus;make&minus;ps&minus;man</b>[=<i>filename</i>]
[<b>&minus;&minus;section</b>=<i>section</i>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">While
<b>pdflatex</b> has a number of nice features, its primary
shortcoming relative to standard <b>latex</b>+<b>dvips</b>
is that it is unable to read ordinary Encapsulated
PostScript ( <small>EPS</small> ) files, the most common
graphics format in the LaTeX world. <b>pdflatex</b> can read
only the following types of graphics files:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><small>PDF</small></p></td>
<td width="2%"></td>
<td width="83%">


<p>Most people who use <b>pdflatex</b> convert their
documents to <small>PDF</small> using a utility such as
<b>epstopdf</b>. This works well and preserves the vector
nature of the original <small>EPS</small> . Unfortunately,
<b>dvips</b> does not read <small>PDF</small> , so two
versions of the graphic must be maintained if the document
is to be processed with both <b>latex</b>+<b>dvips</b> and
<b>pdflatex</b>.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><small>PNG</small></p></td>
<td width="2%"></td>
<td width="83%">


<p><small>PNG</small> is a bitmap format and therefore
scales poorly. Also, <b>dvips</b> does not read
<small>PNG</small> , so two versions of the graphic must be
maintained if the document is to be processed with both
<b>latex</b>+<b>dvips</b> and <b>pdflatex</b>.</p></td></tr>
</table>

<p style="margin-left:11%;"><small>JPEG</small></p>

<p style="margin-left:17%;"><small>JPEG</small> is a bitmap
format and therefore scales poorly. Also, <b>dvips</b> does
not read <small>JPEG</small> , so two versions of the
graphic must be maintained if the document is to be
processed with both <b>latex</b>+<b>dvips</b> and
<b>pdflatex</b>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><small>MPS</small></p></td>
<td width="2%"></td>
<td width="83%">


<p>This is probably the least-used
<b>pdflatex</b>&minus;compatible graphics format.
<small>MPS</small> is actually a stylized version of
<small>EPS</small> that MetaPost outputs. Like
<small>PDF</small> , <small>MPS</small> is a vector format
and remains as such when imported into a <b>pdflatex</b>
document. Also like <small>PDF</small> , <b>dvips</b> does
not read <small>MPS</small> , so two versions of the graphic
must be maintained if the document is to be processed with
both <b>latex</b>+<b>dvips</b> and <b>pdflatex</b>.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">The insight
behind <b>purifyeps</b> is that there are only a few, small
differences between <small>MPS</small> and
<small>EPS</small> and that a file can be converted into a
format that matches both the <small>MPS</small> and
<small>EPS</small> specifications simultaneously.
<b>purifyeps</b> inputs an <small>EPS</small> file, uses
<b>pstoedit</b>&rsquo;s &quot;mpost&quot; filter to convert
the file to MetaPost (<i>.mp</i>), runs <b>mpost</b> on the
file to convert it to <small>MPS</small> , and finally
performs some touchups on the result to convert the file
back to <small>EPS</small> , while preserving its ability to
be parsed by <b>pdflatex</b>.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;help</b></p>

<p style="margin-left:17%;">Display &quot;Usage&quot; and
&quot;Options&quot; from the <b>purifyeps</b>
documentation.</p>

<p style="margin-left:11%;"><b>&minus;V</b>,
<b>&minus;&minus;version</b></p>

<p style="margin-left:17%;">Display the <b>purifyeps</b>
version number, copyright, and license.</p>


<p style="margin-left:11%;"><b>&minus;&minus;fontmap</b>=<i>.fmp
file</i></p>

<p style="margin-left:17%;">Specify the name of a file that
tells <b>purifyeps</b> how to map from TeX font names to
PostScript font names. [Default: <i>mpost.fmp</i>]</p>


<p style="margin-left:11%;"><b>&minus;&minus;make&minus;man</b>
[=<i>filename</i>]]
[<b>&minus;&minus;section</b>=<i>section</i>]</p>

<p style="margin-left:17%;">Automatically create a Unix man
page for <b>purifyeps</b>. <i>section</i> specifies the
section [default: 1 (User Commands)]. <i>filename</i>
defaults to <i>purifyeps.1</i> or an analogous filename if
<i>section</i> is specified.</p>


<p style="margin-left:11%;"><b>&minus;&minus;make&minus;ps&minus;man</b>
[=<i>filename</i>]]
[<b>&minus;&minus;section</b>=<i>section</i>]</p>

<p style="margin-left:17%;">Automatically create a
PostScript version of the <b>purifyeps</b> documentation.
The documentation is formatted like a Unix man page.
<i>section</i> specifies the section [default: 1 (User
Commands)]. <i>filename</i> defaults to
<i>purifyeps.ps</i>.</p>

<p style="margin-left:11%; margin-top: 1em">In normal
operation (i.e., when not run with
&quot;&minus;&minus;help&quot;,
&quot;&minus;&minus;make&minus;man&quot;, or
&quot;&minus;&minus;make&minus;ps&minus;man&quot;),
<b>purifyeps</b> takes the name of an input file and output
file. The same filename can safely be used for both files.
If the output filename is omitted, output will go to the
standard output device. If the input filename is omitted,
<b>purifyeps</b> will read from the standard input
device.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Create a
PostScript version of the <b>purifyeps</b> documentation,
but call it <i>happydoc.ps</i> instead of the default,
<i>purifyeps.ps</i>:</p>

<p style="margin-left:11%; margin-top: 1em">purifyeps
&minus;&minus;make&minus;ps&minus;man=happydoc.ps</p>

<p style="margin-left:11%; margin-top: 1em">Create a Unix
man page for <b>purifyeps</b> (in the usual roff format),
but indicate that it belongs in section &quot;LOCAL&quot;
instead of the default of section 1:</p>

<p style="margin-left:11%; margin-top: 1em">purifyeps
&minus;&minus;make&minus;man &minus;&minus;section=LOCAL</p>

<p style="margin-left:11%; margin-top: 1em">Purify
<i>sample.eps</i> (<i>mpost.fmp</i> is in the current
directory):</p>

<p style="margin-left:11%; margin-top: 1em">purifyeps
sample.eps sample.eps</p>

<p style="margin-left:11%; margin-top: 1em">Purify
<i>sample.eps</i> (<i>mpost.fmp</i> is in a different
location):</p>

<p style="margin-left:11%; margin-top: 1em">purifyeps
&minus;&minus;fontmap=/usr/share/pstoedit/mpost.fmp
sample.eps sample.eps</p>

<p style="margin-left:11%; margin-top: 1em">Rename the
purified version while purifying:</p>

<p style="margin-left:11%; margin-top: 1em">purifyeps
sample.eps sample&minus;pure.eps</p>

<p style="margin-left:11%; margin-top: 1em">Do the same,
but in a Unix pipeline:</p>

<p style="margin-left:11%; margin-top: 1em">cat sample.eps
| purifyeps &gt; sample&minus;pure.eps</p>

<p style="margin-left:11%; margin-top: 1em">When you run
<b>purifyeps</b>, you should see the output from both
<b>pstoedit</b> and <b>mpost</b>, followed by a success
message from <b>purifyeps</b>:</p>

<p style="margin-left:11%; margin-top: 1em">% cat
sample.eps | purifyeps &gt; sample&minus;pure.eps <br>
pstoedit: version 3.30 / DLL interface 107 (build Mar 14
2002) : <br>
Copyright (C) 1993 &minus; 2001 Wolfgang Glunz <br>
Interpreter finished. Return status 0 <br>
This is MetaPost, Version 0.641 (Web2C 7.3.1) <br>
(/tmp/purifyeps&minus;jdeGPkh9.mp [1] ) <br>
1 output file written: purifyeps&minus;jdeGPkh9.1 <br>
Transcript written on purifyeps&minus;jdeGPkh9.log. <br>
File seems to have been purified successfully.</p>

<h2>FILES
<a name="FILES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>mpost.fmp</i></p>

<p style="margin-left:17%;">File containing mappings
between TeX and PostScript font names. See &quot;
<small>NOTES</small> &quot; for a description of this
file&rsquo;s contents.</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Error reporting
could definitely stand to be improved. Error messages
produced by <b>pstoedit</b> and <b>mpost</b> are sometimes
silently ignored. Also, errors sometimes cause
<b>purifyeps</b> to leave temporary files
(<i>purifyeps&minus;#####</i>) lying around.</p>


<p style="margin-left:11%; margin-top: 1em"><b>purifyeps</b>
is subject to all of the limitations that affect
<b>pstoedit</b> and especially the &quot;mpost&quot; backend
to <b>pstoedit</b>. As a result, <b>purifyeps</b> ignores
certain PostScript constructs, such as nonuniformly scaled
text.</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>purifyeps</b>
needs a file that tells it how to map from TeX font names to
PostScript font names. This file must contain two,
space-separated columns. The first lists a PostScript font
name, and the second lists the TeX equivalent. Blank lines
and lines that start with &quot;%&quot; are ignored. The
following is a sample <i>.fmp</i> file:</p>

<p style="margin-left:11%; margin-top: 1em">% This is a
sample font map for purifyeps. <br>
Times&minus;Bold ptmb <br>
Times&minus;Italic ptmri <br>
Times&minus;Roman ptmr <br>
Helvetica phvr <br>
Helvetica&minus;Bold phvb <br>
Helvetica&minus;Oblique phvro <br>
Courier pcrr <br>
Courier&minus;Bold pcrb <br>
Courier&minus;Oblique pcrro</p>

<p style="margin-left:11%; margin-top: 1em">Note that this
is exactly the same format that <b>pstoedit</b> uses. By
default, <b>purifyeps</b> looks in the current directory for
a font map called <i>mpost.fmp</i>. The
&quot;&minus;&minus;fontmap&quot; command-line option tells
<b>purifyeps</b> to use a different font map, which will
typically be the <i>mpost.fmp</i> file that comes with
<b>pstoedit</b>.</p>

<p style="margin-left:11%; margin-top: 1em">Once you create
purified <small>EPS</small> files with <b>purifyeps</b>, you
need to instruct <b>pdflatex</b> to use them. The pdfLaTeX
configuration of the &quot;graphics&quot; and
&quot;graphicx&quot; packages (<i>pdftex.def</i>) normally
ignores <i>.eps</i> files. Putting the following LaTeX code
in your document&rsquo;s preamble tells <b>pdflatex</b> that
all <i>.eps</i> files are in <small>MPS</small> format:</p>

<p style="margin-left:11%; margin-top: 1em">% Tell pdfLaTeX
that all .eps files were produced by MetaPost. <br>
\usepackage{graphicx} % or graphics <br>
\usepackage{ifpdf} <br>
\ifpdf <br>
\DeclareGraphicsRule{.eps}{mps}{*}{} <br>
\makeatletter <br>
\g@addto@macro\Gin@extensions{,.eps} <br>
\makeatother <br>
\fi</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>dvips</i>(1),
<i>epstopdf</i>(1), <i>latex</i>(1), <i>mpost</i>(1),
<i>pdflatex</i>(1), <i>pstoedit</i>(1)</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Scott Pakin,
<i>scott+peps@pakin.org</i></p>
<hr>
</body>
</html>
