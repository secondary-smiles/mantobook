<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:53:44 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>CXL&minus;CREATE&minus;REGION</title>

</head>
<body>
<h1>cxl-create-region</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">cxl-create-region
&minus; Assemble a CXL region by setting up attributes of
its constituent CXL memdevs.</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>cxl
create&minus;region [&lt;options&gt;]</i></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">A CXL region is
composed of one or more slices of CXL memdevs, with
configurable interleave settings &minus; both the number of
interleave ways, and the interleave granularity.</p>

<p style="margin-left:11%; margin-top: 1em">For
create&minus;region, a size can optionally be specified, but
if not, the maximum possible size for each memdev will be
used up to the available decode capacity in the system for
the given memory type. For persistent regions a UUID can
optionally be specified, but if not, one will be
generated.</p>

<p style="margin-left:11%; margin-top: 1em">If the
region&minus;creation operation is successful, a region
object will be emitted on stdout in JSON format (see
examples). If the specified arguments cannot be satisfied
with a legal configuration, then an appropriate error will
be emitted on stderr.</p>

<h2>EXAMPLE
<a name="EXAMPLE"></a>
</h2>


<p style="margin-left:17%; margin-top: 1em">#cxl
create&minus;region &minus;m &minus;d decoder0.1 &minus;w 2
&minus;g 1024 mem0 mem1 <br>
{ <br>
&quot;region&quot;:&quot;region0&quot;, <br>
&quot;resource&quot;:&quot;0xc90000000&quot;, <br>
&quot;size&quot;:&quot;512.00 MiB (536.87 MB)&quot;, <br>
&quot;interleave_ways&quot;:2, <br>
&quot;interleave_granularity&quot;:1024, <br>
&quot;mappings&quot;:[ <br>
{ <br>
&quot;position&quot;:1, <br>
&quot;decoder&quot;:&quot;decoder4.0&quot; <br>
}, <br>
{ <br>
&quot;position&quot;:0, <br>
&quot;decoder&quot;:&quot;decoder3.0&quot; <br>
} <br>
] <br>
} <br>
created 1 region</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">&lt;target(s)&gt;</p>

<p style="margin-left:17%;">The CXL targets that should be
used to form the region. The number of <i>target</i>
arguments must match the <i>&minus;&minus;ways</i> option
(if provided).</p>

<p style="margin-left:11%; margin-top: 1em">&minus;b,
&minus;&minus;bus=</p>

<p style="margin-left:17%;">Restrict the operation to the
specified bus.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;m,
&minus;&minus;memdevs</p>

<p style="margin-left:17%;">Indicate that the
non&minus;option arguments for <i>target(s)</i> refer to
memdev device names. If this option is omitted and no
targets are specified then create&minus;region uses the
equivalent of <i>cxl list &minus;M &minus;d $decoder</i>
internally as the target list. Note that depending on the
topology, for example with switches, the automatic target
list ordering may not be valid and manual specification of
the target list is required.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;s,
&minus;&minus;size=</p>

<p style="margin-left:17%;">Specify the total size for the
new region. This is optional, and by default, the maximum
possible size will be used. The maximum possible size is
gated by both the contiguous free HPA space remaining in the
root decoder, and the available DPA space in the component
memdevs.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;t,
&minus;&minus;type=</p>

<p style="margin-left:17%;">Specify the region type &minus;
<i>pmem</i> or <i>ram</i>. Defaults to <i>pmem</i>.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;U,
&minus;&minus;uuid=</p>

<p style="margin-left:17%;">Specify a UUID for the new
region. This shouldn&rsquo;t usually need to be specified,
as one will be generated by default.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;w,
&minus;&minus;ways=</p>

<p style="margin-left:17%;">The number of interleave ways
for the new region&rsquo;s interleave. This should be equal
to the number of memdevs specified in &minus;&minus;memdevs,
if &minus;&minus;memdevs is being supplied. If
&minus;&minus;ways is not specified, it will be determined
based on the number of memdev targets provided.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;g,
&minus;&minus;granularity=</p>

<p style="margin-left:17%;">The interleave granularity for
the new region. Must match the selected root decoder&rsquo;s
(if provided) granularity. If the root decoder is
interleaved across more than one host&minus;bridge then this
value must match that granularity. Otherwise, for
non&minus;interleaved decode windows, any granularity can be
specified as long as all devices support that setting.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;d,
&minus;&minus;decoder=</p>

<p style="margin-left:17%;">The root decoder that the
region should be created under. If not supplied, the first
cross&minus;host bridge (if available), decoder that
supports the largest interleave will be chosen.</p>

<p style="margin-left:11%; margin-top: 1em">&minus;u,
&minus;&minus;human</p>

<p style="margin-left:17%;">By default the command will
output machine&minus;friendly raw&minus;integer data.
Instead, with this flag, numbers representing storage size
will be formatted as human readable strings with units,
other fields are converted to hexadecimal strings.</p>


<p style="margin-left:11%; margin-top: 1em">&minus;&minus;debug</p>

<p style="margin-left:17%;">Turn on additional debug
messages including library debug.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright
&copy; 2016 &minus; 2022, Intel Corporation. License GPLv2:
GNU GPL version 2 &lt;http://gnu.org/licenses/gpl.html&gt;.
This is free software: you are free to change and
redistribute it. There is NO WARRANTY, to the extent
permitted by law.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">cxl&minus;list(1),</p>
<hr>
</body>
</html>
