<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:53:44 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>CTANIFY</title>

</head>
<body>
<h1>ctanify</h1>



<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">ctanify &minus;
Prepare a package for upload to CTAN</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">ctanify
[<b>&minus;&minus;pkgname</b>=<i>string</i>]
[<b>&minus;&minus;</b>[<b>no</b>]<b>auto</b>]
[<b>&minus;&minus;tdsonly</b>=<i>filespec</i> ...]
[<b>&minus;&minus;</b>[<b>no</b>]<b>unixify</b>]
[<b>&minus;&minus;</b>[<b>no</b>]<b>skip</b>]
[<b>&minus;&minus;tdsdir</b>=<i>dirname</i> ...]
[<b>&minus;&minus;tex</b>=<i>macro_pkg</i>]
[<b>&minus;&minus;</b>[<b>no</b>]<b>miscify</b>]
[<b>&minus;&minus;</b>[<b>no</b>]<b>tds</b>]
<i>filespec</i>[=<i>dirname</i>] ...</p>

<p style="margin-left:11%; margin-top: 1em">ctanify
[<b>&minus;&minus;help</b>]</p>

<p style="margin-left:11%; margin-top: 1em">ctanify
[<b>&minus;&minus;version</b>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>ctanify</b>
is intended for developers who have a LaTeX package that
they want to distribute via the Comprehensive TeX Archive
Network ( <small>CTAN</small> ). Given a list of filenames,
<b>ctanify</b> creates a tarball (a <i>.tar.gz</i> file)
with the files laid out in <small>CTAN</small> &rsquo;s
preferred structure. The tarball additionally contains a
<small>ZIP</small> (<i>.zip</i>) file with copies of all
files laid out in the standard TeX Directory Structure (
<small>TDS</small> ), which facilitates inclusion of the
package in the TeX Live distribution.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>ctanify</b>
accepts the following command-line options: <b><br>
&minus;h</b>, <b>&minus;&minus;help</b></p>

<p style="margin-left:18%;">Output basic usage information
and exit.</p>

<p style="margin-left:11%;"><b>&minus;V</b>,
<b>&minus;&minus;version</b></p>

<p style="margin-left:18%;">Output <b>ctanify</b>&rsquo;s
version number and exit.</p>

<p style="margin-left:11%;"><b>&minus;p</b> <i>string</i>,
<b>&minus;&minus;pkgname</b>=<i>string</i></p>

<p style="margin-left:18%;">Specify explicitly a package
name. Normally, <b>ctanify</b> uses the base name of the
first <i>.ins</i> or <i>.sty</i> file listed as the package
name. The package name forms the base name of the tarball
that <b>ctanify</b> produces.</p>


<p style="margin-left:11%;"><b>&minus;&minus;noauto</b></p>

<p style="margin-left:18%;">Do not automatically add files
to the tarball. Normally, <b>ctanify</b> automatically
includes all files mentioned in a <i>.ins</i> file.</p>

<p style="margin-left:11%;"><b>&minus;t</b>
<i>filespec</i>,
<b>&minus;&minus;tdsonly</b>=<i>filespec</i></p>

<p style="margin-left:18%;">Specify a subset of the files
named on the command line to include only in the <small>TDS
ZIP</small> file, not in the <small>CTAN</small> package
directory. Wildcards are allowed (quoted if necessary), and
<b>&minus;&minus;tdsonly</b> can be used multiple times on
the same command line.</p>

<p style="margin-left:11%; margin-top: 1em">At least one
filename must be specified on the command line.
<b>ctanify</b> automatically places files in the
<small>TDS</small> tree based on their extension, but this
can be overridden by specifying explicitly a target
<small>TDS</small> directory using the form
<i>filespec</i>=<i>dirname</i>. Wildcards are allowed for
the filespec (quoted if necessary).</p>

<h2>ADDITIONAL OPTIONS
<a name="ADDITIONAL OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
options are unlikely to be necessary in ordinary usage. They
are provided for special circumstances that may arise.
<b><br>
&minus;d</b> <i>dirname</i>,
<b>&minus;&minus;tdsdir</b>=<i>dirname</i></p>

<p style="margin-left:18%;">Instead of creating a tarball
for <small>CTAN,</small> merely create the package
<small>TDS</small> tree rooted in directory
<i>dirname</i>.</p>

<p style="margin-left:11%;"><b>&minus;T</b>
<i>macro_pkg</i>,
<b>&minus;&minus;tex</b>=<i>macro_pkg</i></p>

<p style="margin-left:18%;">Assert that the files being
packaged for <small>CTAN</small> target a TeX macro package
other than LaTeX. Some common examples of <i>macro_pkg</i>
are &quot;generic&quot;, &quot;plain&quot;, and
&quot;context&quot;.</p>

<p style="margin-left:11%;"><b>&minus;nou</b>,
<b>&minus;&minus;no&minus;unixify</b></p>

<p style="margin-left:18%;">Store text files unmodified
instead of converting their end-of-line character to Unix
format (a single linefeed character with no carriage-return
character), even though <small>CTAN</small> prefers
receiving all files with Unix-format end-of-line
characters.</p>

<p style="margin-left:11%;"><b>&minus;nok</b>,
<b>&minus;&minus;no&minus;skip</b></p>

<p style="margin-left:18%;">Force <b>ctanify</b> to include
files such as Unix hidden files, Emacs backup files, and
version-control metadata files, all of which
<small>CTAN</small> dislikes receiving.</p>

<p style="margin-left:11%;"><b>&minus;m</b>,
<b>&minus;&minus;miscify</b></p>

<p style="margin-left:18%;">Rename directories containing a
single file to &quot;misc&quot;. (For example, rename
&quot;tex/latex/mypackage/mypackage.sty&quot; to
&quot;tex/latex/misc/mypackage.sty&quot;.) This was common
practice in the past but is now strongly discouraged.</p>

<p style="margin-left:11%;"><b>&minus;nos</b>,
<b>&minus;&minus;no&minus;tds</b></p>

<p style="margin-left:18%;">Do not embed a .tds.zip file in
the generated tarball.</p>

<h2>DIAGNOSTICS
<a name="DIAGNOSTICS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">&quot;Failed to
copy <i>filename</i> (No such file or directory)&quot;</p>

<p style="margin-left:18%;">This message is typically
caused by a <i>.ins</i> file that generates <i>filename</i>
but that has not already been run through <i>tex</i> or
<i>latex</i> to actually produce <i>filename</i>.
<b>ctanify</b> does not automatically run <i>tex</i> or
<i>latex</i>; this needs to be done manually by the user.
See &quot; <small>CAVEATS&quot;</small> for more
information.</p>

<p style="margin-left:11%;">&quot;Modified <i>filename</i>
to use Unix line endings (use &minus;&minus;no&minus;unixify
to <br>
prevent this)&quot;</p>

<p style="margin-left:18%;">For consistency,
<small>CTAN</small> stores all text files with Unix-style
line endings (a single linefeed character with no
carriage-return character). To help in this effort,
<b>ctanify</b> automatically replaces non-Unix-style line
endings. The preceding merely message notifies the user that
he should not be alarmed to see a different size for
<i>filename</i> in the tarball versus the original
<i>filename</i> on disk (which <b>ctanify</b> never
modifies). If there&rsquo;s a good reason to preserve the
original line endings (and there rarely is), the
<b>&minus;&minus;no&minus;unixify</b> option can be used to
prevent <b>ctanify</b> from altering any files when storing
them in the tarball.</p>

<p style="margin-left:11%;">&quot;Excluding <i>filename</i>
(use &minus;&minus;no&minus;skip to force
inclusion)&quot;</p>

<p style="margin-left:18%;"><b>ctanify</b> normally ignores
files--even when specified explicitly on the command
line--that <small>CTAN</small> prefers not receiving. These
include files whose names start with &quot;<i>.</i>&quot;
(Unix hidden files), end in &quot;<i>~</i>&quot; (Emacs
automatic backups), or that come from a
<i><small>CVS</small></i> or <i>.svn</i> directory
(version-control metadata files). If there&rsquo;s a good
reason to submit such files to <small>CTAN</small> (and
there rarely is), the <b>&minus;&minus;no&minus;skip</b>
option can be used to prevent <b>ctanify</b> from ignoring
them.</p>

<p style="margin-left:11%;">&quot;CTAN prefers having only
PDF documentation (re: <i>filename</i>)&quot;</p>

<p style="margin-left:18%;">Because of the popularity of
the <small>PDF</small> format, <small>CTAN</small> wants to
have as much documentation as possible distributed in
<small>PDF.</small> The preceding message asks the user to
replace any PostScript or <small>DVI</small> documentation
with <small>PDF</small> if possible. (<b>ctanify</b> will
still include PostScript and <small>DVI</small>
documentation in the tarball; the preceding message is
merely a polite request.)</p>

<p style="margin-left:11%;">&quot;Not including
<i>filename</i> in the TDS tree (unknown
extension)&quot;</p>

<p style="margin-left:18%;"><b>ctanify</b> places files in
the <small>TDS</small> tree based on a table of file
extensions. For example, all <i>.sty</i> files are placed in
<i>tex/latex/package-name</i>. If <b>ctanify</b> does not
know where to put a file it does not put it anywhere. See
the last paragraph of &quot; <small>OPTIONS&quot;</small>
for an explanation of how to specify explicitly a
file&rsquo;s target location in the <small>TDS</small> tree.
For common file extensions that happen to be absent from
<b>ctanify</b>&rsquo;s table, consider also notifying
<b>ctanify</b>&rsquo;s author at the address shown below
under &quot; <small>AUTHOR&quot;</small> .</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>The Common
Case</b> <br>
Normally, all that&rsquo;s needed is to tell <b>ctanify</b>
the name of the <i>.ins</i> file (or <i>.sty</i> if the
package does not use DocStrip) and the prebuilt
documentation, if any:</p>

<p style="margin-left:11%; margin-top: 1em">$ ctanify
mypackage.ins mypackage.pdf README <br>
490347 mypackage.tar.gz <br>
1771 mypackage/README <br>
15453 mypackage/mypackage.dtx <br>
1957 mypackage/mypackage.ins <br>
277683 mypackage/mypackage.pdf <br>
246935 mypackage.tds.zip <br>
1771 doc/latex/mypackage/README <br>
277683 doc/latex/mypackage/mypackage.pdf <br>
15453 source/latex/mypackage/mypackage.dtx <br>
1957 source/latex/mypackage/mypackage.ins <br>
1725 tex/latex/mypackage/mypackage.sty</p>

<p style="margin-left:11%; margin-top: 1em"><b>ctanify</b>
outputs the size in bytes of the resulting tarball, each
file within it, and each file within the contained
<small>ZIP</small> file. In the preceding example, notice
how <b>ctanify</b> automatically performed all of the
following operations:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="6%"></td>
<td width="82%">


<p>including <i>mypackage.dtx</i> (found by parsing
<i>mypackage.ins</i>) in both the <i>mypackage</i> directory
and the <small>ZIP</small> file,</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="6%"></td>
<td width="82%">


<p>including <i>mypackage.sty</i> (found by parsing
<i>mypackage.ins</i>) in the <small>ZIP</small> file but,
because it&rsquo;s a generated file, not in the
<i>mypackage</i> directory, and</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="6%"></td>
<td width="82%">


<p>placing all files into appropriate <small>TDS</small>
directories (documentation, source, main package) within the
<small>ZIP</small> file.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Consider what
it would take to manually produce an equivalent
<i>mypackage.tar.gz</i> file. <b>ctanify</b> is definitely a
simpler, quicker alternative.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Advanced
Usage <br>
ctanify</b> assumes that PostScript files are documentation
and therefore stores them under
<i>doc/latex/package-name/</i> in the <small>TDS</small>
tree within the <small>ZIP</small> File. Suppose, however,
that a LaTeX package uses a set of PostScript files to
control <b>dvips</b>&rsquo;s output. In this case,
<b>ctanify</b> must be told to include those PostScript
files in the package directory, not the documentation
directory.</p>

<p style="margin-left:11%; margin-top: 1em">$ ctanify
mypackage.ins
&quot;mypackage*.ps=tex/latex/mypackage&quot;</p>

<h2>FILES
<a name="FILES"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p style="margin-top: 1em"><i>perl</i></p></td>
<td width="1%"></td>
<td width="82%">


<p style="margin-top: 1em"><b>ctanify</b> is written in
Perl and needs a Perl installation to run.</p></td></tr>
</table>

<p style="margin-left:11%;"><i>tar</i>, <i>gzip</i></p>

<p style="margin-left:18%;"><b>ctanify</b> requires the
<small>GNU</small> <i>tar</i> and <i>gzip</i> programs to
create a compressed tarball (<i>.tar.gz</i>).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p><i>zip</i></p></td>
<td width="3%"></td>
<td width="82%">


<p><b>ctanify</b> uses a <i>zip</i> program to archive the
<small>TDS</small> tree within the main tarball.</p></td></tr>
</table>

<h2>CAVEATS
<a name="CAVEATS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>ctanify</b>
does not invoke <i>tex</i> or <i>latex</i> on its own,
e.g.,&nbsp;to process a <i>.ins</i> file. The reason is that
<b>ctanify</b> does not know in the general case how to
produce all of a package&rsquo;s generated files. It was
deemed better to do nothing than to risk overwriting
existing <i>.sty</i> (or other) files or to include outdated
generated files in the tarball. In short, before running
<b>ctanify</b> you should manually process any <i>.ins</i>
files and otherwise generate any files that should be sent
to <small>CTAN.</small></p>

<p style="margin-left:11%; margin-top: 1em"><b>ctanify</b>
has been tested only on Linux. It may work on
<small>OS&nbsp;</small> X. I&rsquo;ve been told that it
works on Windows when run using Cygwin. Volunteers willing
to help port <b>ctanify</b> to other platforms are extremely
welcome.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>tar</i>(1),
<i>zip</i>(1), <i>latex</i>(1), Guidelines for uploading
TDS-Packaged materials to <small>CTAN</small>
(&lt;http://www.ctan.org/TDS&minus;guidelines&gt;), A
Directory Structure for TeX Files
(&lt;http://tug.org/tds/&gt;),</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Scott Pakin,
<i>scott+ctify@pakin.org</i></p>

<h2>COPYRIGHT AND LICENSE
<a name="COPYRIGHT AND LICENSE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright 2017
Scott Pakin</p>

<p style="margin-left:11%; margin-top: 1em">This work may
be distributed and/or modified under the conditions of the
LaTeX Project Public License, either version&nbsp;1.3c of
this license or (at your option) any later version. The
latest version of this license is in</p>


<p style="margin-left:17%; margin-top: 1em">&lt;http://www.latex&minus;project.org/lppl.txt&gt;</p>

<p style="margin-left:11%; margin-top: 1em">and
version&nbsp;1.3c or later is part of all distributions of
LaTeX version 2008/05/04 or later.</p>
<hr>
</body>
</html>
