<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:54:02 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SRCREDACT</title>

</head>
<body>
<h1>srcredact</h1>



<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">srcredact
&minus; a program for redaction of text files</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">srcredact [
<i><small>OPTIONS</small></i> ] <b>&minus;e</b>
<i>audience</i> [<i>full_file</i>]</p>

<p style="margin-left:11%; margin-top: 1em">srcredact [
<i><small>OPTIONS</small></i> ] <b>&minus;u</b> <i>audience
full_file</i> [<i>redacted_file</i>]</p>

<p style="margin-left:11%; margin-top: 1em">srcredact
<b>&minus;l</b> [<i>full_file</i>]</p>

<p style="margin-left:11%; margin-top: 1em">srcredact
<b>&minus;h|&minus;v</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>srcredact</b>
is the program to extract &lsquo;&lsquo;redacted
versions&rsquo;&rsquo; of the master file (option
<b>&minus;e</b>) or to incorporate the changes in the
redacted versions into the master file
(&lsquo;&lsquo;unredact&rsquo;&rsquo;, option
<b>&minus;u</b>).</p>

<p style="margin-left:11%; margin-top: 1em">The master file
consists of <i>chunks</i> intended for different audiences.
Each audience has a <i>name</i>, e.g.
&quot;classified&quot;, &quot;unclssified&quot;,
&quot;expert&quot; etc. Chunks are started and stopped by
<i>guard lines</i>. Each guard line has the format (for the
default TeX syntax)</p>


<p style="margin-left:11%; margin-top: 1em">%&lt;*name1|name2|...&gt;</p>

<p style="margin-left:11%; margin-top: 1em">or</p>


<p style="margin-left:11%; margin-top: 1em">%&lt;/name1|name2|...&gt;</p>

<p style="margin-left:11%; margin-top: 1em">In the first
cases the text following the guard is <i>included</i> for
the audiences &quot;name1&quot;, &quot;name2&quot;, .... In
the second case it is <i>excluded</i> for these
audiences.</p>

<p style="margin-left:11%; margin-top: 1em">THere is a
special audience &quot;ALL&quot;: a wild card for all
audiences. Thus the idiom</p>

<p style="margin-left:11%; margin-top: 1em">%&lt;/ALL&gt;
<br>
%&lt;*classified&gt;</p>

<p style="margin-left:11%; margin-top: 1em">means that the
chunk is excluded for all audiences but
&quot;classified&quot;</p>

<p style="margin-left:11%; margin-top: 1em">Exactly one of
the options <b>&minus;e</b> (extract) or <b>&minus;u</b>
(unextract) must be present. In the extract mode the
non-option argument is the name of the full file. If it is
absent, or is &quot;&minus;&quot;, standard input is used.
In the unextract mode the first non-option argument</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;c</b>
<i>list of comment patterns</i></p>

<p style="margin-left:17%;">Use the given pattern for
comment lines to search for guards instead of the default
&quot;TeX&quot; pattern. The recognized patterns are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>c</b></p></td>
<td width="4%"></td>
<td width="17%">


<p>/*&lt;guard&gt;*/</p></td>
<td width="57%">
</td></tr>
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>cpp</b></p></td>
<td width="4%"></td>
<td width="17%">


<p>//&lt;guard&gt;</p></td>
<td width="57%">
</td></tr>
</table>

<p style="margin-left:17%;"><b>fortran</b></p>

<p style="margin-left:23%;">C&lt;guard&gt;</p>

<p style="margin-left:17%;"><b>shell</b></p>

<p style="margin-left:23%;">#&lt;guard&gt;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="5%">


<p><b>TeX</b></p></td>
<td width="4%"></td>
<td width="12%">


<p>%&lt;guard&gt;</p></td>
<td width="62%">
</td></tr>
</table>

<p style="margin-left:17%; margin-top: 1em">The pattern
names should be separated by commas, and the list may be
enclosed in quotes to prevent shell expansion, e.g</p>

<p style="margin-left:17%; margin-top: 1em">&minus;c
&quot;TeX, c, shell&quot;</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>&minus;d</b></p></td>
<td width="3%"></td>
<td width="21%">


<p style="margin-top: 1em">Debug mode on.</p></td>
<td width="62%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;e</b>
<i>audience</i></p>

<p style="margin-left:17%;">Extract the contents for the
current audience into the file <i>file</i>. The cuurent
audience is guessed from the <i>file</i> name, if the latter
has the structure
<i>base</i>&minus;<i>audience</i>.<i>extension</i>, e.g.
&quot;report&minus;unclassified.tex&quot;. The key
<b>&minus;a</b> overrides this guess and should be used if
the file name does not follow this pattern. The file name
&quot;&minus;&quot; means the standard output.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;h</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>Print help information and exit.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;l</b></p></td>
<td width="3%"></td>
<td width="83%">


<p>List all audiences set in the file (one per line) and
exit.</p> </td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;u</b>
<i>audience</i></p>

<p style="margin-left:17%;">Take a edited file intended for
the <i>audience</i> (the second non-option argument) and
incorporate the changes in it into the full file (the first
non-option argument). If the second argument is missing,
standard input is used instead. As usual,
&quot;&minus;&quot; also means standard input. Note that
only one of the two file arguments in this case can be
standard input.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;v</b></p></td>
<td width="3%"></td>
<td width="54%">


<p>Print version information and exit.</p></td>
<td width="29%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;w</b>
<i>on|off|1|0|true|false</i></p>

<p style="margin-left:17%;">If &quot;on&quot;, 1 or
&quot;true&quot; (the deafult), implicitly wrap the full
document into the guards</p>

<p style="margin-left:17%; margin-top: 1em">%&lt;*ALL&gt;
<br>
... <br>
%&lt;/ALL&gt;</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The program
returns 0 if successful, 1 if conflicts were found in the
&quot;unextract&quot; mode and 2 in case of problems.</p>

<h2>CONFLICTS IN UNEXTRACT MODE
<a name="CONFLICTS IN UNEXTRACT MODE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Like the
standard <i>diff3</i>(1) tool, the program may find
conflicts between the full version and the edited one in the
<b>&minus;u</b> mode. Then the resulting file brackets the
conflicts in the usual manner, e.g.</p>


<p style="margin-left:11%; margin-top: 1em">&lt;&lt;&lt;&lt;&lt;&lt;&lt;
/tmp/BrjXo0hMOB/full <br>
%&lt;/nobonds&gt; <br>
Forty&minus;five tons best old dry government bonds,
suitable for furnace, gold <br>
7 per cents., 1864, preferred. <br>
%&lt;*nobonds&gt; <br>
||||||| /tmp/BrjXo0hMOB/extracted <br>
Forty&minus;five tons best old dry government bonds,
suitable for furnace, gold <br>
7 per cents., 1864, preferred. <br>
======= <br>
&gt;&gt;&gt;&gt;&gt;&gt;&gt; /tmp/BrjXo0hMOB/new</p>

<p style="margin-left:11%; margin-top: 1em">Here
&quot;full&quot; is the full document, &quot;extracted&quot;
is the extracted file for the given audience,
&quot;new&quot; is the edited file.</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Boris Veytsman,
borisv@lk.net</p>

<p style="margin-left:11%; margin-top: 1em">This work was
commissioned by Consumer Financial Protection Bureau, United
States Treasury.</p>

<h2>LICENSE AND COPYRIGHT
<a name="LICENSE AND COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright (C)
2015 Boris Veytsman. Version 1.0</p>

<p style="margin-left:11%; margin-top: 1em">This program is
free software; you can redistribute it and/or modify it
under the terms of the <small>GNU</small> General Public
License as published by the Free Software Foundation; either
version 2 of the License, or (at your option) any later
version.</p>

<p style="margin-left:11%; margin-top: 1em">This program is
distributed in the hope that it will be useful, but
<small>WITHOUT ANY WARRANTY</small> ; without even the
implied warranty of <small>MERCHANTABILITY</small> or
<small>FITNESS FOR</small> A <small>PARTICULAR
PURPOSE</small> . See the <small>GNU</small> General Public
License for more details.</p>

<p style="margin-left:11%; margin-top: 1em">You should have
received a copy of the <small>GNU</small> General Public
License along with this program; if not, write to the Free
Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
Boston, <small>MA</small> 02110&minus;1301,
<small>USA</small></p>
<hr>
</body>
</html>
