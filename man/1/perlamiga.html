<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:53:58 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>PERLAMIGA</title>

</head>
<body>
<h1>perlamiga</h1>



<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">perlamiga
&minus; Perl under AmigaOS 4.1</p>

<h2>NOTE
<a name="NOTE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This is a port
of Perl 5.22.1, it is a fresh port and not in any way
compatible with my previous ports of Perl 5.8 and 5.16.3.
This means you will need to reinstall / rebuild any third
party modules you have installed.</p>

<p style="margin-left:11%; margin-top: 1em">newlib.library
version 53.28 or greater is required.</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Once perl is
installed you can read this document in the following
way</p>

<p style="margin-left:11%; margin-top: 1em">sh &minus;c
&quot;perldoc perlamiga&quot;</p>

<p style="margin-left:11%; margin-top: 1em">or you may read
<i>as is</i>: either as <i><small>README</small> .amiga</i>,
or <i>pod/perlamiga.pod</i>.</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>Prerequisites
for running Perl 5.22.1 under AmigaOS 4.1 <br>
AmigaOS 4.1 update 6 with all updates applied as of 9th
October 2013</b></p>

<p style="margin-left:20%;">The most important of which
is:</p>

<p style="margin-left:11%;"><b>newlib.library version 53.28
or greater <br>
AmigaOS <small>SDK</small></b></p>

<p style="margin-left:20%;">Perl installs into the
<small>SDK</small> directory structure and expects many of
the build tools present in the <small>SDK</small> to be
available. So for the best results install the
<small>SDK</small> first.</p>

<p style="margin-left:11%;"><b>abc-shell</b></p>

<p style="margin-left:20%;">If you do not have the
<small>SDK</small> installed you must at least have
abc-shell installed or some other suitable sh port. This is
required to run external commands and should be available as
&rsquo;sh&rsquo; in your path.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Starting
Perl programs under AmigaOS 4.1</b> <br>
Perl may be run from the AmigaOS shell but for best results
should be run under abc-shell. (abc-shell handles file
globbing, pattern expansion, and sets up environment
variables in the UN*Xy way that Perl expects.)</p>

<p style="margin-left:11%; margin-top: 1em">For
example:</p>

<p style="margin-left:11%; margin-top: 1em">New Shell
process 10 <br>
10.AmigaOS4:&gt; sh <br>
/AmigaOS4&gt;perl path:to/myprog arg1 arrg2 arg3</p>

<p style="margin-left:11%; margin-top: 1em">Abc-shell can
also launch programs via the #! syntax at the start of the
program file, it&rsquo;s best use the form
#!SDK:Local/C/perl so that the AmigaOS shell may also find
perl in the same way. AmigaOS requires the script bit to be
set for this to work</p>


<p style="margin-left:11%; margin-top: 1em">10.AmigaOS4:&gt;
sh <br>
/AmigaOS4&gt;myprog arg1 arrg2 arg3</p>

<p style="margin-left:11%; margin-top: 1em"><b>Limitations
of Perl under AmigaOS 4.1 <br>
Nested Piped programs can crash when run from older
abc-shells</b></p>

<p style="margin-left:20%;">abc-shell version 53.2 has a
bug that can cause crashes in the subprocesses used to run
piped programs, if a later version is available you should
install it instead.</p>

<p style="margin-left:11%;"><b>Incorrect or unexpected
command line unescaping</b></p>

<p style="margin-left:20%;">newlib.library 53.30 and
earlier incorrectly unescape slashed escape sequences e.g.
\&quot; \n \t etc requiring unusual extra escaping.</p>

<p style="margin-left:11%;"><b>Starting subprocesses via
open has limitations</b></p>

<p style="margin-left:20%;">open FH, &quot;command
|&quot;</p>

<p style="margin-left:20%; margin-top: 1em">Subprocesses
started with open use a minimal <b>popen()</b> routine and
therefore they do not return pids usable with waitpid
etc.</p>

<p style="margin-left:11%;">If you find any other
limitations or bugs then let me know.</p>

<p style="margin-left:20%;">Please report bugs in this
version of perl to andy@broad.ology.org.uk in the first
instance.</p>

<h2>INSTALLATION
<a name="INSTALLATION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This guide
assumes you have obtained a prebuilt archive from
os4depot.net.</p>

<p style="margin-left:11%; margin-top: 1em">Unpack the main
archive to a temporary location ( <small>RAM:</small> is
fine).</p>

<p style="margin-left:11%; margin-top: 1em">Execute the
provided install script from shell or via its icon.</p>

<p style="margin-left:11%; margin-top: 1em">You <b>must
not</b> attempt to install by hand.</p>

<p style="margin-left:11%; margin-top: 1em">Once installed
you may delete the temporary archive.</p>

<p style="margin-left:11%; margin-top: 1em">This approach
will preserve links in the installation without creating
duplicate binaries.</p>

<p style="margin-left:11%; margin-top: 1em">If you have the
earlier ports perl 5.16 or 5.8 installed you may like to
rename your perl executable to perl516 or perl58 or
something similar before the installation of 5.22.1, this
will allow you to use both versions at the same time.</p>

<h2>Amiga Specific Modules
<a name="Amiga Specific Modules"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>Amiga::ARexx</b>
<br>
The Amiga::ARexx module allows you to easily create a perl
based ARexx host or to send ARexx commands to other
programs.</p>

<p style="margin-left:11%; margin-top: 1em">Try
&quot;perldoc Amiga::ARexx&quot; for more info.</p>


<p style="margin-left:11%; margin-top: 1em"><b>Amiga::Exec</b>
<br>
The Amiga::Exec module introduces support for
<b>Wait()</b>.</p>

<p style="margin-left:11%; margin-top: 1em">Try
&quot;perldoc Amiga::Exec&quot; for more info.</p>

<h2>BUILDING
<a name="BUILDING"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">To build perl
under AmigaOS from the patched sources you will need to have
a recent version of the <small>SDK.</small> Version 53.29 is
recommended, earlier versions will probably work too.</p>

<p style="margin-left:11%; margin-top: 1em">With the help
of Jarkko Hietaniemi the Configure system has been tweaked
to run under abc-shell so the recommend build process is as
follows.</p>

<p style="margin-left:11%; margin-top: 1em">stack 2000000
<br>
sh Configure &minus;de <br>
gmake</p>

<p style="margin-left:11%; margin-top: 1em">This will build
the default setup that installs under
SDK:local/newlib/lib/</p>

<h2>CHANGES
<a name="CHANGES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>August
2015</b></p>

<p style="margin-left:20%;">Port to Perl 5.22 <br>
Add handling of <small>NIL:</small> to <b>afstat()</b> <br>
Fix inheritance of environment variables by subprocesses.
<br>
Fix exec, and exit in &quot;forked&quot; subprocesses. <br>
Fix issue with newlib&rsquo;s unlink, which could cause
infinite loops. <br>
Add <b>flock()</b> emulation using
<small>IDOS&minus;</small> &gt;LockRecord thanks to Tony
Cook <br>
for the suggestion. <br>
Fix issue where kill was using the wrong kind of process
<small>ID</small></p>

<p style="margin-left:11%;"><b>27th November 2013</b></p>

<p style="margin-left:20%;">Create new installation system
based on installperl links and <br>
Amiga protection bits now set correctly. <br>
Pod now defaults to text. <br>
File::Spec should now recognise an Amiga style absolute path
as <br>
well as an Unix style one. Relative paths must always be
Unix <br>
style.</p>

<p style="margin-left:11%;"><b>20th November 2013</b></p>

<p style="margin-left:20%;">Configured to use
SDK:Local/C/perl to start standard scripts <br>
Added Amiga::Exec module with support for <b>Wait()</b> and
AmigaOS <br>
signal numbers.</p>

<p style="margin-left:11%;"><b>10th October 13</b></p>

<p style="margin-left:20%;">First release of port to
5.16.3.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">You like this
port? See &lt;http://www.broad.ology.org.uk/amiga/&gt; for
how you can help.</p>
<hr>
</body>
</html>
