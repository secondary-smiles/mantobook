<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon May 29 22:53:46 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>GCOV-TOOL</title>

</head>
<body>
<h1>gcov-tool</h1>



<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">gcov&minus;tool
&minus; offline gcda profile processing tool</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">gcov-tool
[<b>&minus;v</b>|<b>&minus;&minus;version</b>]
[<b>&minus;h</b>|<b>&minus;&minus;help</b>]</p>

<p style="margin-left:11%; margin-top: 1em">gcov-tool merge
[merge&minus;options] <i>directory1 directory2</i> <br>
[<b>&minus;o</b>|<b>&minus;&minus;output</b>
<i>directory</i>] <br>
[<b>&minus;v</b>|<b>&minus;&minus;verbose</b>] <br>
[<b>&minus;w</b>|<b>&minus;&minus;weight</b>
<i>w1,w2</i>]</p>

<p style="margin-left:11%; margin-top: 1em">gcov-tool
merge-stream [merge&minus;stream&minus;options]
[<i>file</i>] <br>
[<b>&minus;v</b>|<b>&minus;&minus;verbose</b>] <br>
[<b>&minus;w</b>|<b>&minus;&minus;weight</b>
<i>w1,w2</i>]</p>

<p style="margin-left:11%; margin-top: 1em">gcov-tool
rewrite [rewrite&minus;options] <i>directory</i> <br>
[<b>&minus;n</b>|<b>&minus;&minus;normalize</b>
<i>long_long_value</i>] <br>
[<b>&minus;o</b>|<b>&minus;&minus;output</b>
<i>directory</i>] <br>
[<b>&minus;s</b>|<b>&minus;&minus;scale</b>
<i>float_or_simple&minus;frac_value</i>] <br>
[<b>&minus;v</b>|<b>&minus;&minus;verbose</b>]</p>

<p style="margin-left:11%; margin-top: 1em">gcov-tool
overlap [overlap&minus;options] <i>directory1 directory2</i>
<br>
[<b>&minus;f</b>|<b>&minus;&minus;function</b>] <br>
[<b>&minus;F</b>|<b>&minus;&minus;fullname</b>] <br>
[<b>&minus;h</b>|<b>&minus;&minus;hotonly</b>] <br>
[<b>&minus;o</b>|<b>&minus;&minus;object</b>] <br>
[<b>&minus;t</b>|<b>&minus;&minus;hot_threshold</b>]
<i>float</i> <br>
[<b>&minus;v</b>|<b>&minus;&minus;verbose</b>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>gcov-tool</b>
is an offline tool to process gcc&rsquo;s gcda profile
files.</p>

<p style="margin-left:11%; margin-top: 1em">Current
gcov-tool supports the following functionalities:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>*</p></td>
<td width="5%"></td>
<td width="83%">


<p>merge two sets of profiles with weights.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>*</p></td>
<td width="5%"></td>
<td width="83%">


<p>read a stream of profiles with associated filenames and
merge it with a set of profiles with weights.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>*</p></td>
<td width="5%"></td>
<td width="83%">


<p>read one set of profile and rewrite profile contents.
One can scale or normalize the count values.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Examples of the
use cases for this tool are:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">*</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">Collect the profiles for
different set of inputs, and use this tool to merge them.
One can specify the weight to factor in the relative
importance of each input.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>*</p></td>
<td width="5%"></td>
<td width="83%">


<p>Collect profiles from target systems without a
filesystem (freestanding environments). Merge the collected
profiles with associated profiles present on the host
system. One can specify the weight to factor in the relative
importance of each input.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>*</p></td>
<td width="5%"></td>
<td width="83%">


<p>Rewrite the profile after removing a subset of the gcda
files, while maintaining the consistency of the summary and
the histogram.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>*</p></td>
<td width="5%"></td>
<td width="83%">


<p>It can also be used to debug or libgcov code as the
tools shares the majority code as the runtime library.</p></td></tr>
</table>

<p style="margin-left:11%; margin-top: 1em">Note that for
the merging operation, this profile generated offline may
contain slight different values from the online merged
profile. Here are a list of typical differences:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p style="margin-top: 1em">*</p></td>
<td width="5%"></td>
<td width="83%">


<p style="margin-top: 1em">histogram difference: This
offline tool recomputes the histogram after merging the
counters. The resulting histogram, therefore, is precise.
The online merging does not have this capability -- the
histogram is merged from two histograms and the result is an
approximation.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>*</p></td>
<td width="5%"></td>
<td width="83%">


<p>summary checksum difference: Summary checksum uses a
<small>CRC32</small> operation. The value depends on the
link list order of gcov-info objects. This order is
different in gcov-tool from that in the online merge.
It&rsquo;s expected to have different summary checksums. It
does not really matter as the compiler does not use this
checksum anywhere.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">


<p>*</p></td>
<td width="5%"></td>
<td width="83%">


<p>value profile counter values difference: Some counter
values for value profile are runtime dependent, like heap
addresses. It&rsquo;s normal to see some difference in these
kind of counters.</p></td></tr>
</table>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>&minus;h</b></p></td>
<td width="86%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>&minus;&minus;help</b></p>

<p style="margin-left:17%;">Display help about using
<b>gcov-tool</b> (on the standard output), and exit without
doing any further processing.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p><b>&minus;v</b></p></td>
<td width="86%">
</td></tr>
</table>


<p style="margin-left:11%;"><b>&minus;&minus;version</b></p>

<p style="margin-left:17%;">Display the <b>gcov-tool</b>
version number (on the standard output), and exit without
doing any further processing.</p>

<p style="margin-left:11%;"><b>merge</b></p>

<p style="margin-left:17%;">Merge two profile directories.
<b><br>
&minus;o</b> <i>directory</i> <b><br>
&minus;&minus;output</b> <i>directory</i></p>

<p style="margin-left:23%;">Set the output profile
directory. Default output directory name is
<i>merged_profile</i>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>&minus;v</b></p></td>
<td width="80%">
</td></tr>
</table>


<p style="margin-left:17%;"><b>&minus;&minus;verbose</b></p>

<p style="margin-left:23%;">Set the verbose mode.</p>

<p style="margin-left:17%;"><b>&minus;w</b>
<i>w1</i><b>,</b><i>w2</i> <b><br>
&minus;&minus;weight</b> <i>w1</i><b>,</b><i>w2</i></p>

<p style="margin-left:23%;">Set the merge weights of the
<i>directory1</i> and <i>directory2</i>, respectively. The
default weights are 1 for both.</p>

<p style="margin-left:11%;"><b>merge-stream</b></p>

<p style="margin-left:17%;">Collect profiles with
associated filenames from a <i>gcfn</i> and <i>gcda</i> data
stream. Read the stream from the file specified by
<i>file</i> or from <i>stdin</i>. Merge the profiles with
associated profiles in the host filesystem. Apply the
optional weights while merging profiles.</p>

<p style="margin-left:17%; margin-top: 1em">For the
generation of a <i>gcfn</i> and <i>gcda</i> data stream on
the target system, please have a look at the
&quot;__gcov_filename_to_gcfn()&quot; and
&quot;__gcov_info_to_gcda()&quot; functions declared in
&quot;#include &lt;gcov.h&gt;&quot;.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>&minus;v</b></p></td>
<td width="80%">
</td></tr>
</table>


<p style="margin-left:17%;"><b>&minus;&minus;verbose</b></p>

<p style="margin-left:23%;">Set the verbose mode.</p>

<p style="margin-left:17%;"><b>&minus;w</b>
<i>w1</i><b>,</b><i>w2</i> <b><br>
&minus;&minus;weight</b> <i>w1</i><b>,</b><i>w2</i></p>

<p style="margin-left:23%;">Set the merge weights of the
profiles from the <i>gcfn</i> and <i>gcda</i> data stream
and the associated profiles in the host filesystem,
respectively. The default weights are 1 for both.</p>

<p style="margin-left:11%;"><b>rewrite</b></p>

<p style="margin-left:17%;">Read the specified profile
directory and rewrite to a new directory. <b><br>
&minus;n</b> <i>long_long_value</i> <b><br>
&minus;&minus;normalize &lt;long_long_value&gt;</b></p>

<p style="margin-left:23%;">Normalize the profile. The
specified value is the max counter value in the new
profile.</p>

<p style="margin-left:17%;"><b>&minus;o</b>
<i>directory</i> <b><br>
&minus;&minus;output</b> <i>directory</i></p>

<p style="margin-left:23%;">Set the output profile
directory. Default output name is
<i>rewrite_profile</i>.</p>

<p style="margin-left:17%;"><b>&minus;s</b>
<i>float_or_simple&minus;frac_value</i> <b><br>
&minus;&minus;scale</b>
<i>float_or_simple&minus;frac_value</i></p>

<p style="margin-left:23%;">Scale the profile counters. The
specified value can be in floating point value, or simple
fraction value form, such 1, 2, 2/3, and 5/3.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>&minus;v</b></p></td>
<td width="80%">
</td></tr>
</table>


<p style="margin-left:17%;"><b>&minus;&minus;verbose</b></p>

<p style="margin-left:23%;">Set the verbose mode.</p>

<p style="margin-left:11%;"><b>overlap</b></p>

<p style="margin-left:17%;">Compute the overlap score
between the two specified profile directories. The overlap
score is computed based on the arc profiles. It is defined
as the sum of min (p1_counter[i] / p1_sum_all, p2_counter[i]
/ p2_sum_all), for all arc counter i, where p1_counter[i]
and p2_counter[i] are two matched counters and p1_sum_all
and p2_sum_all are the sum of counter values in profile 1
and profile 2, respectively.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>&minus;f</b></p></td>
<td width="80%">
</td></tr>
</table>


<p style="margin-left:17%;"><b>&minus;&minus;function</b></p>

<p style="margin-left:23%;">Print function level overlap
score.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>&minus;F</b></p></td>
<td width="80%">
</td></tr>
</table>


<p style="margin-left:17%;"><b>&minus;&minus;fullname</b></p>

<p style="margin-left:23%;">Print full gcda filename.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>&minus;h</b></p></td>
<td width="80%">
</td></tr>
</table>


<p style="margin-left:17%;"><b>&minus;&minus;hotonly</b></p>

<p style="margin-left:23%;">Only print info for hot
objects/functions.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>&minus;o</b></p></td>
<td width="80%">
</td></tr>
</table>


<p style="margin-left:17%;"><b>&minus;&minus;object</b></p>

<p style="margin-left:23%;">Print object level overlap
score.</p>

<p style="margin-left:17%;"><b>&minus;t</b> <i>float</i>
<b><br>
&minus;&minus;hot_threshold &lt;float&gt;</b></p>

<p style="margin-left:23%;">Set the threshold for hot
counter value.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="3%">


<p><b>&minus;v</b></p></td>
<td width="80%">
</td></tr>
</table>


<p style="margin-left:17%;"><b>&minus;&minus;verbose</b></p>

<p style="margin-left:23%;">Set the verbose mode.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>gpl</b>(7),
<b>gfdl</b>(7), <b>fsf&minus;funding</b>(7), <b>gcc</b>(1),
<b>gcov</b>(1) and the Info entry for <i>gcc</i>.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright (c)
2014&minus;2023 Free Software Foundation, Inc.</p>

<p style="margin-left:11%; margin-top: 1em">Permission is
granted to copy, distribute and/or modify this document
under the terms of the <small>GNU</small> Free Documentation
License, Version 1.3 or any later version published by the
Free Software Foundation; with the Invariant Sections being
&quot; <small>GNU</small> General Public License&quot; and
&quot;Funding Free Software&quot;, the Front-Cover texts
being (a) (see below), and with the Back-Cover Texts being
(b) (see below). A copy of the license is included in the
<b>gfdl</b>(7) man page.</p>

<p style="margin-left:11%; margin-top: 1em">(a) The
<small>FSF</small> &rsquo;s Front-Cover Text is:</p>

<p style="margin-left:11%; margin-top: 1em">A GNU
Manual</p>

<p style="margin-left:11%; margin-top: 1em">(b) The
<small>FSF</small> &rsquo;s Back-Cover Text is:</p>

<p style="margin-left:11%; margin-top: 1em">You have
freedom to copy and modify this GNU Manual, like GNU <br>
software. Copies published by the Free Software Foundation
raise <br>
funds for GNU development.</p>
<hr>
</body>
</html>
